!(function(){var rs=Object.defineProperty,ss=Object.defineProperties;var is=Object.getOwnPropertyDescriptors;var Et=Object.getOwnPropertySymbols;var ke=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable;var Le=(T,m,p)=>m in T?rs(T,m,{enumerable:!0,configurable:!0,writable:!0,value:p}):T[m]=p,f=(T,m)=>{for(var p in m||(m={}))ke.call(m,p)&&Le(T,p,m[p]);if(Et)for(var p of Et(m))Pe.call(m,p)&&Le(T,p,m[p]);return T},_=(T,m)=>ss(T,is(m));var Re=(T,m)=>{var p={};for(var b in T)ke.call(T,b)&&m.indexOf(b)<0&&(p[b]=T[b]);if(T!=null&&Et)for(var b of Et(T))m.indexOf(b)<0&&Pe.call(T,b)&&(p[b]=T[b]);return p};(self.webpackChunk_fiagram_docs=self.webpackChunk_fiagram_docs||[]).push([[554],{15378:function(T,m,p){"use strict";p.r(m),p.d(m,{demos:function(){return R}});var b=p(29008),H=p.n(b),W=p(70958),G=p.n(W),$=p(92379),R={"src-example-demo-base":{component:$.memo($.lazy(function(){return p.e(433).then(p.bind(p,19824))})),asset:{type:"BLOCK",id:"src-example-demo-base",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:p(84421).Z},react:{type:"NPM",value:"18.3.1"},"@fiagram/react":{type:"NPM",value:"0.1.0"}},entry:"index.tsx"},context:{react:p(92379),"@fiagram/react":p(47108)},renderOpts:{compile:function(){var F=G()(H()().mark(function V(){var J,O=arguments;return H()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,p.e(729).then(p.bind(p,3729));case 2:return D.abrupt("return",(J=D.sent).default.apply(J,O));case 3:case"end":return D.stop()}},V)}));function j(){return F.apply(this,arguments)}return j}()}},"src-example-demo-customtools":{component:$.memo($.lazy(function(){return p.e(433).then(p.bind(p,28615))})),asset:{type:"BLOCK",id:"src-example-demo-customtools",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:p(32291).Z},react:{type:"NPM",value:"18.3.1"},"@fiagram/react":{type:"NPM",value:"0.1.0"}},entry:"index.tsx"},context:{react:p(92379),"@fiagram/react":p(47108)},renderOpts:{compile:function(){var F=G()(H()().mark(function V(){var J,O=arguments;return H()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,p.e(729).then(p.bind(p,3729));case 2:return D.abrupt("return",(J=D.sent).default.apply(J,O));case 3:case"end":return D.stop()}},V)}));function j(){return F.apply(this,arguments)}return j}()}}}},16963:function(T,m,p){"use strict";p.r(m),p.d(m,{texts:function(){return b}});const b=[]},44675:function(T){var m=T.exports={},p,b;function H(){throw new Error("setTimeout has not been defined")}function W(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?p=setTimeout:p=H}catch(E){p=H}try{typeof clearTimeout=="function"?b=clearTimeout:b=W}catch(E){b=W}})();function G(E){if(p===setTimeout)return setTimeout(E,0);if((p===H||!p)&&setTimeout)return p=setTimeout,setTimeout(E,0);try{return p(E,0)}catch(M){try{return p.call(null,E,0)}catch(N){return p.call(this,E,0)}}}function $(E){if(b===clearTimeout)return clearTimeout(E);if((b===W||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(E);try{return b(E)}catch(M){try{return b.call(null,E)}catch(N){return b.call(this,E)}}}var R=[],F=!1,j,V=-1;function J(){!F||!j||(F=!1,j.length?R=j.concat(R):V=-1,R.length&&O())}function O(){if(!F){var E=G(J);F=!0;for(var M=R.length;M;){for(j=R,R=[];++V<M;)j&&j[V].run();V=-1,M=R.length}j=null,F=!1,$(E)}}m.nextTick=function(E){var M=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)M[N-1]=arguments[N];R.push(new X(E,M)),R.length===1&&!F&&G(O)};function X(E,M){this.fun=E,this.array=M}X.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={};function D(){}m.on=D,m.addListener=D,m.once=D,m.off=D,m.removeListener=D,m.removeAllListeners=D,m.emit=D,m.prependListener=D,m.prependOnceListener=D,m.listeners=function(E){return[]},m.binding=function(E){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(E){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},84421:function(T,m){"use strict";m.Z=`import React, { type FC } from 'react'
import { Diagram } from '@fiagram/react'

const NodeShape: FC = ({ x, y, width, height, name }: any) => {
  return (
    <g>
      <rect x={x} y={y} width={width} height={height} fill="white" stroke="black" />
      <text x={x + width / 2} y={y + height / 2} textAnchor="middle" alignmentBaseline="middle">{name}</text>
    </g>
  )
}

const App: FC = () => {
  return (
    <Diagram
      shapes={[
        { name: 'node1', shape: NodeShape },
      ]}
      hideGrid
      nodes={[
        { id: '1', x: 100, y: 10, shape: 'node1', width: 100, height: 100, label: 'Node 1' },
        { id: '2', x: 300, y: 100, shape: 'node1', width: 100, height: 100, label: 'Node 2' },
        { id: '3', x: 500, y: 100, shape: 'node1', width: 100, height: 100, label: 'Node 3' },
      ]}
      edges={[
        { id: '1', type: 'brokenRounded', source: '1', sourceDirection: 'bottom', target: '2', targetDirection: 'top', label: 'Link 1' },
        { id: '2', type: 'brokenRounded', source: '2', sourceDirection: 'bottom', target: '3', targetDirection: 'top', label: 'Link 2' },
      ]}
    />
  )
}

export default App
`},32291:function(T,m){"use strict";m.Z=`import React, { type FC } from 'react'
import { Diagram, Tools } from '@fiagram/react'

const { Align, FullScreen } = Tools

const NodeShape: FC = ({ x, y, width, height, name }: any) => {
  return (
    <g>
      <rect x={x} y={y} width={width} height={height} fill="white" stroke="black" />
      <text x={x + width / 2} y={y + height / 2} textAnchor="middle" alignmentBaseline="middle">{name}</text>
    </g>
  )
}

const App: FC = () => {
  return (
    <Diagram
      shapes={[
        { name: 'node1', shape: NodeShape },
      ]}
      nodes={[
        { id: '1', x: 100, y: 10, shape: 'node1', width: 100, height: 100, label: 'Node 1' },
        { id: '2', x: 300, y: 100, shape: 'node1', width: 100, height: 100, label: 'Node 2' },
        { id: '3', x: 500, y: 100, shape: 'node1', width: 100, height: 100, label: 'Node 3' },
      ]}
      edges={[
        { id: '1', type: 'brokenRounded', source: '1', sourceDirection: 'bottom', target: '2', targetDirection: 'top', label: 'Link 1' },
        { id: '2', type: 'brokenRounded', source: '2', sourceDirection: 'bottom', target: '3', targetDirection: 'top', label: 'Link 2' },
      ]}
    >
      <Tools>
        <Align />
        <FullScreen />
      </Tools>
    </Diagram>
  )
}

export default App
`},47108:function(T,m,p){"use strict";p.r(m),p.d(m,{Diagram:function(){return Te},DragPanel:function(){return Ft},Tools:function(){return q}});var b=p(92379),H=p(44675);function W(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var G={exports:{}},$={};var R;function F(){if(R)return $;R=1;var n=b,t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var c,h={},g=null,d=null;u!==void 0&&(g=""+u),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(d=l.ref);for(c in l)r.call(l,c)&&!i.hasOwnProperty(c)&&(h[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)h[c]===void 0&&(h[c]=l[c]);return{$$typeof:t,type:a,key:g,ref:d,props:h,_owner:s.current}}return $.Fragment=e,$.jsx=o,$.jsxs=o,$}var j={};var V;function J(){return V||(V=1),j}G.exports=F();var O=G.exports,X={exports:{}};(function(n){(function(){var t={}.hasOwnProperty;function e(){for(var i="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(i=s(i,r(a)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return e.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var a in i)t.call(i,a)&&i[a]&&(o=s(o,a));return o}function s(i,o){return o?i?i+" "+o:i+o:i}n.exports?(e.default=e,n.exports=e):window.classNames=e})()})(X);var D=X.exports;const E=W(D),M=(0,b.createContext)({dragDropManager:void 0});function N(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var _t=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Dt=function(){return Math.random().toString(36).substring(7).split("").join(".")},Vt={INIT:"@@redux/INIT"+Dt(),REPLACE:"@@redux/REPLACE"+Dt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Dt()}};function je(n){if(typeof n!="object"||n===null)return!1;for(var t=n;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t}function os(n){if(n===void 0)return"undefined";if(n===null)return"null";var t=typeof n;switch(t){case"boolean":case"string":case"number":case"symbol":case"function":return t}if(Array.isArray(n))return"array";if(Fe(n))return"date";if($e(n))return"error";var e=Ae(n);switch(e){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return e}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}function Ae(n){return typeof n.constructor=="function"?n.constructor.name:null}function $e(n){return n instanceof Error||typeof n.message=="string"&&n.constructor&&typeof n.constructor.stackTraceLimit=="number"}function Fe(n){return n instanceof Date?!0:typeof n.toDateString=="function"&&typeof n.getDate=="function"&&typeof n.setDate=="function"}function as(n){var t=typeof n;return t}function Ht(n,t,e){var r;if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(N(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(N(1));return e(Ht)(n,t)}if(typeof n!="function")throw new Error(N(2));var s=n,i=t,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(N(3));return i}function h(v){if(typeof v!="function")throw new Error(N(4));if(l)throw new Error(N(5));var w=!0;return u(),a.push(v),function(){if(w){if(l)throw new Error(N(6));w=!1,u();var x=a.indexOf(v);a.splice(x,1),o=null}}}function g(v){if(!je(v))throw new Error(N(7));if(typeof v.type>"u")throw new Error(N(8));if(l)throw new Error(N(9));try{l=!0,i=s(i,v)}finally{l=!1}for(var w=o=a,x=0;x<w.length;x++){var L=w[x];L()}return v}function d(v){if(typeof v!="function")throw new Error(N(10));s=v,g({type:Vt.REPLACE})}function y(){var v,w=h;return v={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(N(11));function L(){x.next&&x.next(c())}L();var C=w(L);return{unsubscribe:C}}},v[_t]=function(){return this},v}return g({type:Vt.INIT}),r={dispatch:g,subscribe:h,getState:c,replaceReducer:d},r[_t]=y,r}function S(n,t,...e){if(Me()&&t===void 0)throw new Error("invariant requires an error message argument");if(!n){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;r=new Error(t.replace(/%s/g,function(){return e[s++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function Me(){return typeof H<"u"&&!0}function Ue(n,t,e){return t.split(".").reduce((r,s)=>r&&r[s]?r[s]:e||null,n)}function _e(n,t){return n.filter(e=>e!==t)}function zt(n){return typeof n=="object"}function Ve(n,t){const e=new Map,r=i=>{e.set(i,e.has(i)?e.get(i)+1:1)};n.forEach(r),t.forEach(r);const s=[];return e.forEach((i,o)=>{i===1&&s.push(o)}),s}function He(n,t){return n.filter(e=>t.indexOf(e)>-1)}const Tt="dnd-core/INIT_COORDS",ut="dnd-core/BEGIN_DRAG",Ct="dnd-core/PUBLISH_DRAG_SOURCE",ct="dnd-core/HOVER",gt="dnd-core/DROP",ht="dnd-core/END_DRAG";function Kt(n,t){return{type:Tt,payload:{sourceClientOffset:t||null,clientOffset:n||null}}}const ze={type:Tt,payload:{clientOffset:null,sourceClientOffset:null}};function Ke(n){return function(t=[],e={publishSource:!0}){const{publishSource:r=!0,clientOffset:s,getSourceClientOffset:i}=e,o=n.getMonitor(),a=n.getRegistry();n.dispatch(Kt(s)),Be(t,o,a);const l=We(t,o);if(l==null){n.dispatch(ze);return}let u=null;if(s){if(!i)throw new Error("getSourceClientOffset must be defined");Ge(i),u=i(l)}n.dispatch(Kt(s,u));const c=a.getSource(l).beginDrag(o,l);if(c==null)return;Je(c),a.pinSource(l);const h=a.getSourceType(l);return{type:ut,payload:{itemType:h,item:c,sourceId:l,clientOffset:s||null,sourceClientOffset:u||null,isSourcePublic:!!r}}}}function Be(n,t,e){S(!t.isDragging(),"Cannot call beginDrag while dragging."),n.forEach(function(r){S(e.getSource(r),"Expected sourceIds to be registered.")})}function Ge(n){S(typeof n=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Je(n){S(zt(n),"Item must be an object.")}function We(n,t){let e=null;for(let r=n.length-1;r>=0;r--)if(t.canDragSource(n[r])){e=n[r];break}return e}function Xe(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Ye(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),r.forEach(function(s){Xe(n,s,e[s])})}return n}function Qe(n){return function(t={}){const e=n.getMonitor(),r=n.getRegistry();qe(e),en(e).forEach((s,i)=>{const o=Ze(s,i,r,e),a={type:gt,payload:{dropResult:Ye({},t,o)}};n.dispatch(a)})}}function qe(n){S(n.isDragging(),"Cannot call drop while not dragging."),S(!n.didDrop(),"Cannot call drop twice during one drag operation.")}function Ze(n,t,e,r){const s=e.getTarget(n);let i=s?s.drop(r,n):void 0;return tn(i),typeof i>"u"&&(i=t===0?{}:r.getDropResult()),i}function tn(n){S(typeof n>"u"||zt(n),"Drop result must either be an object or undefined.")}function en(n){const t=n.getTargetIds().filter(n.canDropOnTarget,n);return t.reverse(),t}function nn(n){return function(){const t=n.getMonitor(),e=n.getRegistry();rn(t);const r=t.getSourceId();return r!=null&&(e.getSource(r,!0).endDrag(t,r),e.unpinSource()),{type:ht}}}function rn(n){S(n.isDragging(),"Cannot call endDrag while not dragging.")}function It(n,t){return t===null?n===null:Array.isArray(n)?n.some(e=>e===t):n===t}function sn(n){return function(t,{clientOffset:e}={}){on(t);const r=t.slice(0),s=n.getMonitor(),i=n.getRegistry(),o=s.getItemType();return ln(r,i,o),an(r,s,i),un(r,s,i),{type:ct,payload:{targetIds:r,clientOffset:e||null}}}}function on(n){S(Array.isArray(n),"Expected targetIds to be an array.")}function an(n,t,e){S(t.isDragging(),"Cannot call hover while not dragging."),S(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<n.length;r++){const s=n[r];S(n.lastIndexOf(s)===r,"Expected targetIds to be unique in the passed array.");const i=e.getTarget(s);S(i,"Expected targetIds to be registered.")}}function ln(n,t,e){for(let r=n.length-1;r>=0;r--){const s=n[r],i=t.getTargetType(s);It(i,e)||n.splice(r,1)}}function un(n,t,e){n.forEach(function(r){e.getTarget(r).hover(t,r)})}function cn(n){return function(){if(n.getMonitor().isDragging())return{type:Ct}}}function gn(n){return{beginDrag:Ke(n),publishDragSource:cn(n),hover:sn(n),drop:Qe(n),endDrag:nn(n)}}class hn{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:e}=this.store;function r(i){return(...o)=>{const a=i.apply(t,o);typeof a<"u"&&e(a)}}const s=gn(this);return Object.keys(s).reduce((i,o)=>{const a=s[o];return i[o]=r(a),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,e){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=e,t.subscribe(this.handleRefCountChange)}}function dn(n,t){return{x:n.x+t.x,y:n.y+t.y}}function Bt(n,t){return{x:n.x-t.x,y:n.y-t.y}}function pn(n){const{clientOffset:t,initialClientOffset:e,initialSourceClientOffset:r}=n;return!t||!e||!r?null:Bt(dn(t,r),e)}function fn(n){const{clientOffset:t,initialClientOffset:e}=n;return!t||!e?null:Bt(t,e)}const et=[],Nt=[];et.__IS_NONE__=!0,Nt.__IS_ALL__=!0;function mn(n,t){return n===et?!1:n===Nt||typeof t>"u"?!0:He(t,n).length>0}class yn{subscribeToStateChange(t,e={}){const{handlerIds:r}=e;S(typeof t=="function","listener must be a function."),S(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const i=()=>{const o=this.store.getState(),a=o.stateId;try{a===s||a===s+1&&!mn(o.dirtyHandlerIds,r)||t()}finally{s=a}};return this.store.subscribe(i)}subscribeToOffsetChange(t){S(typeof t=="function","listener must be a function.");let e=this.store.getState().dragOffset;const r=()=>{const s=this.store.getState().dragOffset;s!==e&&(e=s,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const e=this.registry.getSource(t);return S(e,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:e.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const e=this.registry.getTarget(t);if(S(e,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),s=this.getItemType();return It(r,s)&&e.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const e=this.registry.getSource(t,!0);if(S(e,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),s=this.getItemType();return r!==s?!1:e.isDragging(this,t)}isOverTarget(t,e={shallow:!1}){if(!t)return!1;const{shallow:r}=e;if(!this.isDragging())return!1;const s=this.registry.getTargetType(t),i=this.getItemType();if(i&&!It(s,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(t);return r?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return pn(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return fn(this.store.getState().dragOffset)}constructor(t,e){this.store=t,this.registry=e}}const Gt=typeof global<"u"?global:self,Jt=Gt.MutationObserver||Gt.WebKitMutationObserver;function Wt(n){return function(){const t=setTimeout(r,0),e=setInterval(r,50);function r(){clearTimeout(t),clearInterval(e),n()}}}function vn(n){let t=1;const e=new Jt(n),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const bn=typeof Jt=="function"?vn:Wt;class Sn{enqueueTask(t){const{queue:e,requestFlush:r}=this;e.length||(r(),this.flushing=!0),e[e.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const e=this.index;if(this.index++,t[e].call(),this.index>this.capacity){for(let r=0,s=t.length-this.index;r<s;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=bn(this.flush),this.requestErrorThrow=Wt(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class xn{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,e){this.onError=t,this.release=e,this.task=null}}class On{create(t){const e=this.freeTasks,r=e.length?e.pop():new xn(this.onError,s=>e[e.length]=s);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const Xt=new Sn,wn=new On(Xt.registerPendingError);function En(n){Xt.enqueueTask(wn.create(n))}const Lt="dnd-core/ADD_SOURCE",kt="dnd-core/ADD_TARGET",Pt="dnd-core/REMOVE_SOURCE",dt="dnd-core/REMOVE_TARGET";function Dn(n){return{type:Lt,payload:{sourceId:n}}}function Tn(n){return{type:kt,payload:{targetId:n}}}function Cn(n){return{type:Pt,payload:{sourceId:n}}}function In(n){return{type:dt,payload:{targetId:n}}}function Nn(n){S(typeof n.canDrag=="function","Expected canDrag to be a function."),S(typeof n.beginDrag=="function","Expected beginDrag to be a function."),S(typeof n.endDrag=="function","Expected endDrag to be a function.")}function Ln(n){S(typeof n.canDrop=="function","Expected canDrop to be a function."),S(typeof n.hover=="function","Expected hover to be a function."),S(typeof n.drop=="function","Expected beginDrag to be a function.")}function Rt(n,t){if(t&&Array.isArray(n)){n.forEach(e=>Rt(e,!1));return}S(typeof n=="string"||typeof n=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var U;(function(n){n.SOURCE="SOURCE",n.TARGET="TARGET"})(U||(U={}));let kn=0;function Pn(){return kn++}function Rn(n){const t=Pn().toString();switch(n){case U.SOURCE:return`S${t}`;case U.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${n}`)}}function Yt(n){switch(n[0]){case"S":return U.SOURCE;case"T":return U.TARGET;default:throw new Error(`Cannot parse handler ID: ${n}`)}}function Qt(n,t){const e=n.entries();let r=!1;do{const{done:s,value:[,i]}=e.next();if(i===t)return!0;r=!!s}while(!r);return!1}class jn{addSource(t,e){Rt(t),Nn(e);const r=this.addHandler(U.SOURCE,t,e);return this.store.dispatch(Dn(r)),r}addTarget(t,e){Rt(t,!0),Ln(e);const r=this.addHandler(U.TARGET,t,e);return this.store.dispatch(Tn(r)),r}containsHandler(t){return Qt(this.dragSources,t)||Qt(this.dropTargets,t)}getSource(t,e=!1){return S(this.isSourceId(t),"Expected a valid source ID."),e&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return S(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return S(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return S(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return Yt(t)===U.SOURCE}isTargetId(t){return Yt(t)===U.TARGET}removeSource(t){S(this.getSource(t),"Expected an existing source."),this.store.dispatch(Cn(t)),En(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){S(this.getTarget(t),"Expected an existing target."),this.store.dispatch(In(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const e=this.getSource(t);S(e,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=e}unpinSource(){S(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,e,r){const s=Rn(t);return this.types.set(s,e),t===U.SOURCE?this.dragSources.set(s,r):t===U.TARGET&&this.dropTargets.set(s,r),s}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const An=(n,t)=>n===t;function $n(n,t){return!n&&!t?!0:!n||!t?!1:n.x===t.x&&n.y===t.y}function Fn(n,t,e=An){if(n.length!==t.length)return!1;for(let r=0;r<n.length;++r)if(!e(n[r],t[r]))return!1;return!0}function Mn(n=et,t){switch(t.type){case ct:break;case Lt:case kt:case dt:case Pt:return et;case ut:case Ct:case ht:case gt:default:return Nt}const{targetIds:e=[],prevTargetIds:r=[]}=t.payload,s=Ve(e,r);if(!(s.length>0||!Fn(e,r)))return et;const i=r[r.length-1],o=e[e.length-1];return i!==o&&(i&&s.push(i),o&&s.push(o)),s}function Un(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _n(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),r.forEach(function(s){Un(n,s,e[s])})}return n}const qt={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Vn(n=qt,t){const{payload:e}=t;switch(t.type){case Tt:case ut:return{initialSourceClientOffset:e.sourceClientOffset,initialClientOffset:e.clientOffset,clientOffset:e.clientOffset};case ct:return $n(n.clientOffset,e.clientOffset)?n:_n({},n,{clientOffset:e.clientOffset});case ht:case gt:return qt;default:return n}}function Hn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Q(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),r.forEach(function(s){Hn(n,s,e[s])})}return n}const zn={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Kn(n=zn,t){const{payload:e}=t;switch(t.type){case ut:return Q({},n,{itemType:e.itemType,item:e.item,sourceId:e.sourceId,isSourcePublic:e.isSourcePublic,dropResult:null,didDrop:!1});case Ct:return Q({},n,{isSourcePublic:!0});case ct:return Q({},n,{targetIds:e.targetIds});case dt:return n.targetIds.indexOf(e.targetId)===-1?n:Q({},n,{targetIds:_e(n.targetIds,e.targetId)});case gt:return Q({},n,{dropResult:e.dropResult,didDrop:!0,targetIds:[]});case ht:return Q({},n,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}function Bn(n=0,t){switch(t.type){case Lt:case kt:return n+1;case Pt:case dt:return n-1;default:return n}}function Gn(n=0){return n+1}function Jn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Wn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),r.forEach(function(s){Jn(n,s,e[s])})}return n}function Xn(n={},t){return{dirtyHandlerIds:Mn(n.dirtyHandlerIds,{type:t.type,payload:Wn({},t.payload,{prevTargetIds:Ue(n,"dragOperation.targetIds",[])})}),dragOffset:Vn(n.dragOffset,t),refCount:Bn(n.refCount,t),dragOperation:Kn(n.dragOperation,t),stateId:Gn(n.stateId)}}function Yn(n,t=void 0,e={},r=!1){const s=Qn(r),i=new yn(s,new jn(s)),o=new hn(s,i),a=n(o,t,e);return o.receiveBackend(a),o}function Qn(n){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Ht(Xn,n&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function qn(n,t){if(n==null)return{};var e=Zn(n,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function Zn(n,t){if(n==null)return{};var e={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(e[s]=n[s]);return e}let Zt=0;const pt=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var tr=(0,b.memo)(function(n){var{children:t}=n,e=qn(n,["children"]);const[r,s]=er(e);return(0,b.useEffect)(()=>{if(s){const i=te();return++Zt,()=>{--Zt===0&&(i[pt]=null)}}},[]),O.jsx(M.Provider,{value:r,children:t})});function er(n){if("manager"in n)return[{dragDropManager:n.manager},!1];const t=nr(n.backend,n.context,n.options,n.debugMode),e=!n.context;return[t,e]}function nr(n,t=te(),e,r){const s=t;return s[pt]||(s[pt]={dragDropManager:Yn(n,t,e,r)}),s[pt]}function te(){return typeof global<"u"?global:window}function ee(n){let t=null;return()=>(t==null&&(t=n()),t)}function rr(n,t){return n.filter(e=>e!==t)}function sr(n,t){const e=new Set,r=i=>e.add(i);n.forEach(r),t.forEach(r);const s=[];return e.forEach(i=>s.push(i)),s}class ir{enter(t){const e=this.entered.length,r=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=sr(this.entered.filter(r),[t]),e===0&&this.entered.length>0}leave(t){const e=this.entered.length;return this.entered=rr(this.entered.filter(this.isNodeInDocument),t),e>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class or{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const e={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];s!=null&&(e[r]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,e)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,e){return e===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const ne="__NATIVE_FILE__",re="__NATIVE_URL__",se="__NATIVE_TEXT__",ie="__NATIVE_HTML__",oe=Object.freeze(Object.defineProperty({__proto__:null,FILE:ne,HTML:ie,TEXT:se,URL:re},Symbol.toStringTag,{value:"Module"}));function jt(n,t,e){const r=t.reduce((s,i)=>s||n.getData(i),"");return r!=null?r:e}const At={[ne]:{exposeProperties:{files:n=>Array.prototype.slice.call(n.files),items:n=>n.items,dataTransfer:n=>n},matchesTypes:["Files"]},[ie]:{exposeProperties:{html:(n,t)=>jt(n,t,""),dataTransfer:n=>n},matchesTypes:["Html","text/html"]},[re]:{exposeProperties:{urls:(n,t)=>jt(n,t,"").split(`
`),dataTransfer:n=>n},matchesTypes:["Url","text/uri-list"]},[se]:{exposeProperties:{text:(n,t)=>jt(n,t,""),dataTransfer:n=>n},matchesTypes:["Text","text/plain"]}};function ar(n,t){const e=At[n];if(!e)throw new Error(`native type ${n} has no configuration`);const r=new or(e);return r.loadDataTransfer(t),r}function $t(n){if(!n)return null;const t=Array.prototype.slice.call(n.types||[]);return Object.keys(At).filter(e=>{const r=At[e];return r!=null&&r.matchesTypes?r.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const lr=ee(()=>/firefox/i.test(navigator.userAgent)),ae=ee(()=>!!window.safari);class le{interpolate(t){const{xs:e,ys:r,c1s:s,c2s:i,c3s:o}=this;let a=e.length-1;if(t===e[a])return r[a];let l=0,u=o.length-1,c;for(;l<=u;){c=Math.floor(.5*(l+u));const d=e[c];if(d<t)l=c+1;else if(d>t)u=c-1;else return r[c]}a=Math.max(0,u);const h=t-e[a],g=h*h;return r[a]+s[a]*h+i[a]*g+o[a]*h*g}constructor(t,e){const{length:r}=t,s=[];for(let d=0;d<r;d++)s.push(d);s.sort((d,y)=>t[d]<t[y]?-1:1);const i=[],o=[];let a,l;for(let d=0;d<r-1;d++)a=t[d+1]-t[d],l=e[d+1]-e[d],i.push(a),o.push(l/a);const u=[o[0]];for(let d=0;d<i.length-1;d++){const y=o[d],v=o[d+1];if(y*v<=0)u.push(0);else{a=i[d];const w=i[d+1],x=a+w;u.push(3*x/((x+w)/y+(x+a)/v))}}u.push(o[o.length-1]);const c=[],h=[];let g;for(let d=0;d<u.length-1;d++){g=o[d];const y=u[d],v=1/i[d],w=y+u[d+1]-g-g;c.push((g-y-w)*v),h.push(w*v*v)}this.xs=t,this.ys=e,this.c1s=u,this.c2s=c,this.c3s=h}}const ur=1;function ue(n){const t=n.nodeType===ur?n:n.parentElement;if(!t)return null;const{top:e,left:r}=t.getBoundingClientRect();return{x:r,y:e}}function ft(n){return{x:n.clientX,y:n.clientY}}function cr(n){var t;return n.nodeName==="IMG"&&(lr()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(n)))}function gr(n,t,e,r){let s=n?t.width:e,i=n?t.height:r;return ae()&&n&&(i/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:i}}function hr(n,t,e,r,s){const i=cr(t),o=ue(i?n:t),a={x:e.x-o.x,y:e.y-o.y},{offsetWidth:l,offsetHeight:u}=n,{anchorX:c,anchorY:h}=r,{dragPreviewWidth:g,dragPreviewHeight:d}=gr(i,t,l,u),y=()=>{let I=new le([0,.5,1],[a.y,a.y/u*d,a.y+d-u]).interpolate(h);return ae()&&i&&(I+=(window.devicePixelRatio-1)*d),I},v=()=>new le([0,.5,1],[a.x,a.x/l*g,a.x+g-l]).interpolate(c),{offsetX:w,offsetY:x}=s,L=w===0||w,C=x===0||x;return{x:L?w:v(),y:C?x:y()}}class dr{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,e){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=e}}function pr(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ce(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),r.forEach(function(s){pr(n,s,e[s])})}return n}class fr{profile(){var t,e;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var e;(e=this.window)===null||e===void 0||e.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,e,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,e),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,e,r){this.sourceNodes.set(t,e),this.sourceNodeOptions.set(t,r);const s=o=>this.handleDragStart(o,t),i=o=>this.handleSelectStart(o);return e.setAttribute("draggable","true"),e.addEventListener("dragstart",s),e.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),e.removeEventListener("dragstart",s),e.removeEventListener("selectstart",i),e.setAttribute("draggable","false")}}connectDropTarget(t,e){const r=o=>this.handleDragEnter(o,t),s=o=>this.handleDragOver(o,t),i=o=>this.handleDrop(o,t);return e.addEventListener("dragenter",r),e.addEventListener("dragover",s),e.addEventListener("drop",i),()=>{e.removeEventListener("dragenter",r),e.removeEventListener("dragover",s),e.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),e=this.sourceNodeOptions.get(t);return ce({dropEffect:this.altKeyPressed?"copy":"move"},e||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),e=this.sourcePreviewNodeOptions.get(t);return ce({anchorX:.5,anchorY:.5,captureDraggingState:!1},e||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(oe).some(e=>oe[e]===t)}beginDragNativeItem(t,e){this.clearCurrentDragSourceNode(),this.currentNativeSource=ar(t,e),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const e=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},e)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,e){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(e))}handleDragEnter(t,e){this.dragEnterTargetIds.unshift(e)}handleDragOver(t,e){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(e)}handleDrop(t,e){this.dropTargetIds.unshift(e)}constructor(t,e,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&ue(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const o=ft(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:a}=s,l=$t(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const c=this.monitor.getSourceId(),h=this.sourceNodes.get(c),g=this.sourcePreviewNodes.get(c)||h;if(g){const{anchorX:d,anchorY:y,offsetX:v,offsetY:w}=this.getCurrentSourcePreviewNodeOptions(),x=hr(h,g,o,{anchorX:d,anchorY:y},{offsetX:v,offsetY:w});a.setDragImage(g,x.x,x.y)}}try{a==null||a.setData("application/json",{})}catch(c){}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(a&&!a.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:o}=s,a=$t(o);a&&this.beginDragNativeItem(a,o)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:i}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=s.altKey,i.length>0&&this.actions.hover(i,{clientOffset:ft(s)}),i.some(o=>this.monitor.canDropOnTarget(o))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=ft(s),this.scheduleHover(i),(i||[]).some(o=>this.monitor.canDropOnTarget(o))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;s.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}else $t(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:ft(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const i=s.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(s.preventDefault(),i.dragDrop()))},this.options=new dr(e,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new ir(this.isNodeInDocument)}}const mr=function(n,t,e){return new fr(n,t,e)},yr=(0,b.forwardRef)((n,t)=>{const{hideGrid:e,restChilds:r}=n;return(0,b.useImperativeHandle)(t,()=>({})),O.jsx("div",{className:E("fiagram-canvas",{hideGrid:e}),children:r==null?void 0:r.map(s=>s)})}),vr=n=>{const o=n,{type:t,className:e,style:r,title:s}=o,i=Re(o,["type","className","style","title"]);return O.jsx("i",f({title:s,style:r,className:E("iconfont",`icon${t}`,e)},i))},br=({icon:n,onClick:t})=>O.jsx(vr,{type:n,onClick:t,className:"fiagram-tools-item"}),mt=({group:n})=>O.jsx("div",{className:"fiagram-tools-group",children:n.map((t,e)=>O.jsx(br,f({},t),e))}),ge=()=>{const n=[{icon:"top-aligned"},{icon:"bottom-aligned"},{icon:"left-aligned"},{icon:"right-aligned"},{icon:"vertical-aligned"},{icon:"horizontal-aligned"}];return O.jsx(mt,{group:n})},he=()=>{const n=[{icon:"vertically-centered"},{icon:"distributions-centered"},{icon:"horizontal-centered"}];return O.jsx(mt,{group:n})},de=()=>{const n=[{icon:"fullscreen-icon"}];return O.jsx(mt,{group:n})},q=({children:n})=>{const t=O.jsxs(b.Fragment,{children:[O.jsx(ge,{}),O.jsx(de,{}),O.jsx(he,{})]});return O.jsx("div",{className:"fiagram-tools",children:n!=null&&n.length?n:t})};q.Align=he,q.DirectionAlign=ge,q.FullScreen=de,q.displayName="Tools";const Sr=()=>{const n=[{icon:"tuoputu"},{icon:"fuwuqi"},{icon:"diandian"}];return O.jsx(mt,{group:n})},Ft=({children:n})=>{const t=O.jsx(b.Fragment,{children:O.jsx(Sr,{})});return O.jsx("div",{className:"fiagram-tools vertical left-top",children:n!=null&&n.length?n:t})};Ft.displayName="DragPanel";const xr=n=>{let t=null,e=null;const r=[],s=i=>{if(i&&typeof i=="object"){const{type:o}=i;o&&o.displayName?o.displayName==="DragBox"?e=i:o.displayName==="Tools"?t=i:r.push(i):r.push(i)}else r.push(i)};return Array.isArray(n)?n.forEach(i=>{s(i)}):s(n),{toolsChild:t,dragBoxChild:e,restChilds:r}},Or={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,t){console&&console[n]&&console[n].apply(console,t)}};class yt{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,e)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||Or,this.options=e,this.debug=e.debug}log(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"log","",!0)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"warn","",!0)}error(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"error","")}deprecate(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,r,s){return s&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new yt(this.logger,f({prefix:`${this.prefix}:${t}:`},this.options))}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new yt(this.logger,t)}}var z=new yt;class vt{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(e)||0;this.observers[r].set(e,s+1)}),this}off(t,e){if(this.observers[t]){if(!e){delete this.observers[t];return}this.observers[t].delete(e)}}emit(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(i=>{let[o,a]=i;for(let l=0;l<a;l++)o(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(i=>{let[o,a]=i;for(let l=0;l<a;l++)o.apply(o,[t,...r])})}}function nt(){let n,t;const e=new Promise((r,s)=>{n=r,t=s});return e.resolve=n,e.reject=t,e}function pe(n){return n==null?"":""+n}function wr(n,t,e){n.forEach(r=>{t[r]&&(e[r]=t[r])})}const Er=/###/g;function rt(n,t,e){function r(a){return a&&a.indexOf("###")>-1?a.replace(Er,"."):a}function s(){return!n||typeof n=="string"}const i=typeof t!="string"?t:t.split(".");let o=0;for(;o<i.length-1;){if(s())return{};const a=r(i[o]);!n[a]&&e&&(n[a]=new e),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++o}return s()?{}:{obj:n,k:r(i[o])}}function fe(n,t,e){const{obj:r,k:s}=rt(n,t,Object);if(r!==void 0||t.length===1){r[s]=e;return}let i=t[t.length-1],o=t.slice(0,t.length-1),a=rt(n,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=rt(n,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=e}function Dr(n,t,e,r){const{obj:s,k:i}=rt(n,t,Object);s[i]=s[i]||[],s[i].push(e)}function bt(n,t){const{obj:e,k:r}=rt(n,t);if(e)return e[r]}function Tr(n,t,e){const r=bt(n,e);return r!==void 0?r:bt(t,e)}function me(n,t,e){for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in n?typeof n[r]=="string"||n[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?e&&(n[r]=t[r]):me(n[r],t[r],e):n[r]=t[r]);return n}function Z(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Cr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Ir(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,t=>Cr[t]):n}class Nr{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const e=this.regExpMap.get(t);if(e!==void 0)return e;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Lr=[" ",",","?","!",";"],kr=new Nr(20);function Pr(n,t,e){t=t||"",e=e||"";const r=Lr.filter(o=>t.indexOf(o)<0&&e.indexOf(o)<0);if(r.length===0)return!0;const s=kr.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(n);if(!i){const o=n.indexOf(e);o>0&&!s.test(n.substring(0,o))&&(i=!0)}return i}function Mt(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[t])return n[t];const r=t.split(e);let s=n;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=e),a+=r[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=o}return s}function St(n){return n&&n.indexOf("_")>0?n.replace("_","-"):n}class ye extends vt{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,e],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&i?a.push(...r.split(i)):a.push(r)));const l=bt(this.data,a);return!l&&!e&&!r&&t.indexOf(".")>-1&&(t=a[0],e=a[1],r=a.slice(2).join(".")),l||!o||typeof r!="string"?l:Mt(this.data&&this.data[t]&&this.data[t][e],r,i)}addResource(t,e,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[t,e];r&&(a=a.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(a=t.split("."),s=e,e=a[1]),this.addNamespaces(e),fe(this.data,a,s),i.silent||this.emit("added",t,e,r,s)}addResources(t,e,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(typeof r[i]=="string"||Object.prototype.toString.apply(r[i])==="[object Array]")&&this.addResource(t,e,i,r[i],{silent:!0});s.silent||this.emit("added",t,e,r)}addResourceBundle(t,e,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[t,e];t.indexOf(".")>-1&&(a=t.split("."),s=r,r=e,e=a[1]),this.addNamespaces(e);let l=bt(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?me(l,r,i):l=f(f({},l),r),fe(this.data,a,l),o.silent||this.emit("added",t,e,r)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return this.getResource(t,e)!==void 0}getResourceBundle(t,e){return e||(e=this.options.defaultNS),this.options.compatibilityAPI==="v1"?f({},this.getResource(t,e)):this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find(r=>e[r]&&Object.keys(e[r]).length>0)}toJSON(){return this.data}}var ve={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,t,e,r,s){return n.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,e,r,s))}),t}};const be={};class xt extends vt{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),wr(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=z.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,e);return r&&r.res!==void 0}extractFromKey(t,e){let r=e.nsSeparator!==void 0?e.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator;let i=e.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!e.keySeparator&&!this.options.userDefinedNsSeparator&&!e.nsSeparator&&!Pr(t,r,s);if(o&&!a){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:i};const u=t.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(s)}return typeof i=="string"&&(i=[i]),{key:t,namespaces:i}}translate(t,e,r){if(typeof e!="object"&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),typeof e=="object"&&(e=f({},e)),e||(e={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const s=e.returnDetails!==void 0?e.returnDetails:this.options.returnDetails,i=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(t[t.length-1],e),l=a[a.length-1],u=e.lng||this.language,c=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const C=e.nsSeparator||this.options.nsSeparator;return s?{res:`${l}${C}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(e)}:`${l}${C}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(e)}:o}const h=this.resolve(t,e);let g=h&&h.res;const d=h&&h.usedKey||o,y=h&&h.exactUsedKey||o,v=Object.prototype.toString.apply(g),w=["[object Number]","[object Function]","[object RegExp]"],x=e.joinArrays!==void 0?e.joinArrays:this.options.joinArrays,L=!this.i18nFormat||this.i18nFormat.handleAsObject;if(L&&g&&typeof g!="string"&&typeof g!="boolean"&&typeof g!="number"&&w.indexOf(v)<0&&!(typeof x=="string"&&v==="[object Array]")){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,g,_(f({},e),{ns:a})):`key '${o} (${this.language})' returned an object instead of string.`;return s?(h.res=C,h.usedParams=this.getUsedParamsDetails(e),h):C}if(i){const C=v==="[object Array]",I=C?[]:{},K=C?y:d;for(const P in g)if(Object.prototype.hasOwnProperty.call(g,P)){const B=`${K}${i}${P}`;I[P]=this.translate(B,_(f({},e),{joinArrays:!1,ns:a})),I[P]===B&&(I[P]=g[P])}g=I}}else if(L&&typeof x=="string"&&v==="[object Array]")g=g.join(x),g&&(g=this.extendTranslation(g,t,e,r));else{let C=!1,I=!1;const K=e.count!==void 0&&typeof e.count!="string",P=xt.hasDefaultValue(e),B=K?this.pluralResolver.getSuffix(u,e.count,e):"",es=e.ordinal&&K?this.pluralResolver.getSuffix(u,e.count,{ordinal:!1}):"",Ce=K&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),it=Ce&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${B}`]||e[`defaultValue${es}`]||e.defaultValue;!this.isValidLookup(g)&&P&&(C=!0,g=it),this.isValidLookup(g)||(I=!0,g=o);const ns=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:g,ot=P&&it!==g&&this.options.updateMissing;if(I||C||ot){if(this.logger.log(ot?"updateKey":"missingKey",u,l,o,ot?it:g),i){const A=this.resolve(o,_(f({},e),{keySeparator:!1}));A&&A.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let at=[];const wt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&wt&&wt[0])for(let A=0;A<wt.length;A++)at.push(wt[A]);else this.options.saveMissingTo==="all"?at=this.languageUtils.toResolveHierarchy(e.lng||this.language):at.push(e.lng||this.language);const Ie=(A,Y,lt)=>{const Ne=P&&lt!==g?lt:ns;this.options.missingKeyHandler?this.options.missingKeyHandler(A,l,Y,Ne,ot,e):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(A,l,Y,Ne,ot,e),this.emit("missingKey",A,l,Y,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&K?at.forEach(A=>{const Y=this.pluralResolver.getSuffixes(A,e);Ce&&e[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(lt=>{Ie([A],o+lt,e[`defaultValue${lt}`]||it)})}):Ie(at,o,it))}g=this.extendTranslation(g,t,e,h,r),I&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${l}:${o}`),(I||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,C?g:void 0):g=this.options.parseMissingKeyHandler(g))}return s?(h.res=g,h.usedParams=this.getUsedParamsDetails(e),h):g}extendTranslation(t,e,r,s,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,f(f({},this.options.interpolation.defaultVariables),r),r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(_(f({},r),{interpolation:f(f({},this.options.interpolation),r.interpolation)}));const u=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const g=t.match(this.interpolator.nestingRegexp);c=g&&g.length}let h=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(h=f(f({},this.options.interpolation.defaultVariables),h)),t=this.interpolator.interpolate(t,h,r.lng||this.language,r),u){const g=t.match(this.interpolator.nestingRegexp),d=g&&g.length;c<d&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=s.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var g=arguments.length,d=new Array(g),y=0;y<g;y++)d[y]=arguments[y];return i&&i[0]===d[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${e[0]}`),null):o.translate(...d,e)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=ve.handle(l,t,e,this.options&&this.options.postProcessPassResolved?f({i18nResolved:_(f({},s),{usedParams:this.getUsedParamsDetails(r)})},r):r,this)),t}resolve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,o,a;return typeof t=="string"&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,e),c=u.key;s=c;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const g=e.count!==void 0&&typeof e.count!="string",d=g&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),y=e.context!==void 0&&(typeof e.context=="string"||typeof e.context=="number")&&e.context!=="",v=e.lngs?e.lngs:this.languageUtils.toResolveHierarchy(e.lng||this.language,e.fallbackLng);h.forEach(w=>{this.isValidLookup(r)||(a=w,!be[`${v[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(be[`${v[0]}-${w}`]=!0,this.logger.warn(`key "${s}" for languages "${v.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(x=>{if(this.isValidLookup(r))return;o=x;const L=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(L,c,x,w,e);else{let I;g&&(I=this.pluralResolver.getSuffix(x,e.count,e));const K=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(L.push(c+I),e.ordinal&&I.indexOf(P)===0&&L.push(c+I.replace(P,this.options.pluralSeparator)),d&&L.push(c+K)),y){const B=`${c}${this.options.contextSeparator}${e.context}`;L.push(B),g&&(L.push(B+I),e.ordinal&&I.indexOf(P)===0&&L.push(B+I.replace(P,this.options.pluralSeparator)),d&&L.push(B+K))}}let C;for(;C=L.pop();)this.isValidLookup(r)||(i=C,r=this.getResource(x,w,C,e))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,e,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,r,s):this.resourceStore.getResource(t,e,r,s)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&typeof t.replace!="string";let s=r?t.replace:t;if(r&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s=f(f({},this.options.interpolation.defaultVariables),s)),!r){s=f({},s);for(const i of e)delete s[i]}return s}static hasDefaultValue(t){const e="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e===r.substring(0,e.length)&&t[r]!==void 0)return!0;return!1}}function Ut(n){return n.charAt(0).toUpperCase()+n.slice(1)}class Se{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=z.create("languageUtils")}getScriptPartFromCode(t){if(t=St(t),!t||t.indexOf("-")<0)return null;const e=t.split("-");return e.length===2||(e.pop(),e[e.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(e.join("-"))}getLanguagePartFromCode(t){if(t=St(t),!t||t.indexOf("-")<0)return t;const e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const e=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),e.indexOf(r[1].toLowerCase())>-1&&(r[1]=Ut(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),e.indexOf(r[1].toLowerCase())>-1&&(r[1]=Ut(r[1].toLowerCase())),e.indexOf(r[2].toLowerCase())>-1&&(r[2]=Ut(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach(r=>{if(e)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(e=s)}),!e&&this.options.supportedLngs&&t.forEach(r=>{if(e)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return e=s;e=this.options.supportedLngs.find(i=>{if(i===s||!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if(typeof t=="function"&&(t=t(e)),typeof t=="string"&&(t=[t]),Object.prototype.toString.apply(t)==="[object Array]")return t;if(!e)return t.default||[];let r=t[e];return r||(r=t[this.getScriptPartFromCode(e)]),r||(r=t[this.formatLanguageCode(e)]),r||(r=t[this.getLanguagePartFromCode(e)]),r||(r=t.default),r||[]}toResolveHierarchy(t,e){const r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):typeof t=="string"&&i(this.formatLanguageCode(t)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}let Rr=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],jr={1:function(n){return+(n>1)},2:function(n){return+(n!=1)},3:function(n){return 0},4:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},5:function(n){return n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},6:function(n){return n==1?0:n>=2&&n<=4?1:2},7:function(n){return n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},8:function(n){return n==1?0:n==2?1:n!=8&&n!=11?2:3},9:function(n){return+(n>=2)},10:function(n){return n==1?0:n==2?1:n<7?2:n<11?3:4},11:function(n){return n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3},12:function(n){return+(n%10!=1||n%100==11)},13:function(n){return+(n!==0)},14:function(n){return n==1?0:n==2?1:n==3?2:3},15:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2},16:function(n){return n%10==1&&n%100!=11?0:n!==0?1:2},17:function(n){return n==1||n%10==1&&n%100!=11?0:1},18:function(n){return n==0?0:n==1?1:2},19:function(n){return n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3},20:function(n){return n==1?0:n==0||n%100>0&&n%100<20?1:2},21:function(n){return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0},22:function(n){return n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3}};const Ar=["v1","v2","v3"],$r=["v4"],xe={zero:0,one:1,two:2,few:3,many:4,other:5};function Fr(){const n={};return Rr.forEach(t=>{t.lngs.forEach(e=>{n[e]={numbers:t.nr,plurals:jr[t.fc]}})}),n}class Mr{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=e,this.logger=z.create("pluralResolver"),(!this.options.compatibilityJSON||$r.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Fr()}addRule(t,e){this.rules[t]=e}getRule(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(St(t==="dev"?"en":t),{type:e.ordinal?"ordinal":"cardinal"})}catch(r){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,e);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(s=>`${e}${s}`)}getSuffixes(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,e);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>xe[s]-xe[i]).map(s=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(t,s,e)):[]}getSuffix(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(t,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(e)}`:this.getSuffixRetroCompatible(s,e):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,e){const r=t.noAbs?t.plurals(e):t.plurals(Math.abs(e));let s=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Ar.includes(this.options.compatibilityJSON)}}function Oe(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Tr(n,t,e);return!i&&s&&typeof e=="string"&&(i=Mt(n,e,r),i===void 0&&(i=Mt(t,e,r))),i}class Ur{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=z.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(e=>e),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const e=t.interpolation;this.escape=e.escape!==void 0?e.escape:Ir,this.escapeValue=e.escapeValue!==void 0?e.escapeValue:!0,this.useRawValueToEscape=e.useRawValueToEscape!==void 0?e.useRawValueToEscape:!1,this.prefix=e.prefix?Z(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?Z(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?Z(e.nestingPrefix):e.nestingPrefixEscaped||Z("$t("),this.nestingSuffix=e.nestingSuffix?Z(e.nestingSuffix):e.nestingSuffixEscaped||Z(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=e.alwaysFormat!==void 0?e.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(e,r)=>e&&e.source===r?(e.lastIndex=0,e):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,e,r,s){let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(d){return d.replace(/\$/g,"$$$$")}const c=d=>{if(d.indexOf(this.formatSeparator)<0){const x=Oe(e,l,d,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,r,_(f(f({},s),e),{interpolationkey:d})):x}const y=d.split(this.formatSeparator),v=y.shift().trim(),w=y.join(this.formatSeparator).trim();return this.format(Oe(e,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,_(f(f({},s),e),{interpolationkey:v}))};this.resetRegExp();const h=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,g=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:d=>u(d)},{regex:this.regexp,safeValue:d=>this.escapeValue?u(this.escape(d)):u(d)}].forEach(d=>{for(a=0;i=d.regex.exec(t);){const y=i[1].trim();if(o=c(y),o===void 0)if(typeof h=="function"){const w=h(t,i,s);o=typeof w=="string"?w:""}else if(s&&Object.prototype.hasOwnProperty.call(s,y))o="";else if(g){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=pe(o));const v=d.safeValue(o);if(t=t.replace(i[0],v),g?(d.regex.lastIndex+=o.length,d.regex.lastIndex-=i[0].length):d.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,o;function a(l,u){const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const h=l.split(new RegExp(`${c}[ ]*{`));let g=`{${h[1]}`;l=h[0],g=this.interpolate(g,o);const d=g.match(/'/g),y=g.match(/"/g);(d&&d.length%2===0&&!y||y.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),u&&(o=f(f({},u),o))}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${c}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l}for(;s=this.nestingRegexp.exec(t);){let l=[];o=f({},r),o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const c=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=c.shift(),l=c,u=!0}if(i=e(a.call(this,s[1].trim(),o),o),i&&s[0]===t&&typeof i!="string")return i;typeof i!="string"&&(i=pe(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),i=""),u&&(i=l.reduce((c,h)=>this.format(c,h,r.lng,_(f({},r),{interpolationkey:s[1].trim()})),i.trim())),t=t.replace(s[0],i),this.regexp.lastIndex=0}return t}}function _r(n){let t=n.toLowerCase().trim();const e={};if(n.indexOf("(")>-1){const r=n.split("(");t=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);t==="currency"&&s.indexOf(":")<0?e.currency||(e.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?e.range||(e.range=s.trim()):s.split(";").forEach(i=>{if(!i)return;const[o,...a]=i.split(":"),l=a.join(":").trim().replace(/^'+|'+$/g,"");e[o.trim()]||(e[o.trim()]=l),l==="false"&&(e[o.trim()]=!1),l==="true"&&(e[o.trim()]=!0),isNaN(l)||(e[o.trim()]=parseInt(l,10))})}return{formatName:t,formatOptions:e}}function tt(n){const t={};return function(e,r,s){const i=r+JSON.stringify(s);let o=t[i];return o||(o=n(St(r),s),t[i]=o),o(e)}}class Vr{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=z.create("formatter"),this.options=t,this.formats={number:tt((e,r)=>{const s=new Intl.NumberFormat(e,f({},r));return i=>s.format(i)}),currency:tt((e,r)=>{const s=new Intl.NumberFormat(e,_(f({},r),{style:"currency"}));return i=>s.format(i)}),datetime:tt((e,r)=>{const s=new Intl.DateTimeFormat(e,f({},r));return i=>s.format(i)}),relativetime:tt((e,r)=>{const s=new Intl.RelativeTimeFormat(e,f({},r));return i=>s.format(i,r.range||"day")}),list:tt((e,r)=>{const s=new Intl.ListFormat(e,f({},r));return i=>s.format(i)})},this.init(t)}init(t){const e=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||","}add(t,e){this.formats[t.toLowerCase().trim()]=e}addCached(t,e){this.formats[t.toLowerCase().trim()]=tt(e)}format(t,e,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return e.split(this.formatSeparator).reduce((i,o)=>{const{formatName:a,formatOptions:l}=_r(o);if(this.formats[a]){let u=i;try{const c=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},h=c.locale||c.lng||s.locale||s.lng||r;u=this.formats[a](i,h,f(f(f({},l),s),c))}catch(c){this.logger.warn(c)}return u}else this.logger.warn(`there was no format function for ${a}`);return i},t)}}function Hr(n,t){n.pending[t]!==void 0&&(delete n.pending[t],n.pendingCount--)}class zr extends vt{constructor(t,e,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=e,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=z.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(t,e,r,s){const i={},o={},a={},l={};return t.forEach(u=>{let c=!0;e.forEach(h=>{const g=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,c=!1,o[g]===void 0&&(o[g]=!0),i[g]===void 0&&(i[g]=!0),l[h]===void 0&&(l[h]=!0)))}),c||(a[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(t,e,r){const s=t.split("|"),i=s[0],o=s[1];e&&this.emit("failedLoading",i,o,e),r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=e?-1:2;const a={};this.queue.forEach(l=>{Dr(l.loaded,[i],o),Hr(l,t),e&&l.errors.push(e),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const c=l.loaded[u];c.length&&c.forEach(h=>{a[u][h]===void 0&&(a[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(t,e,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:e,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&c&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,e,r,s+1,i*2,o)},i);return}o(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(t,e);u&&typeof u.then=="function"?u.then(c=>a(null,c)).catch(a):a(null,u)}catch(u){a(u)}return}return l(t,e,a)}prepareLoading(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof e=="string"&&(e=[e]);const i=this.queueLoad(t,e,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,e,r){this.prepareLoading(t,e,{},r)}reload(t,e,r){this.prepareLoading(t,e,{reload:!0},r)}loadOne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${e}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${e}loaded namespace ${i} for language ${s}`,a),this.loaded(t,o,a)})}saveMissing(t,e,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)){this.logger.warn(`did not save key "${r}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l=_(f({},o),{isUpdate:i}),u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(t,e,r,s,l):c=u(t,e,r,s),c&&typeof c.then=="function"?c.then(h=>a(null,h)).catch(a):a(null,c)}catch(c){a(c)}else u(t,e,r,s,a,l)}!t||!t[0]||this.store.addResource(t[0],e,r,s)}}}function we(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(n){let t={};if(typeof n[1]=="object"&&(t=n[1]),typeof n[1]=="string"&&(t.defaultValue=n[1]),typeof n[2]=="string"&&(t.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const e=n[3]||n[2];Object.keys(e).forEach(r=>{t[r]=e[r]})}return t},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Ee(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function Ot(){}function Kr(n){Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})}class st extends vt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Ee(t),this.services={},this.logger=z,this.modules={external:[]},Kr(this),e&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,e),this;setTimeout(()=>{this.init(t,e)},0)}}init(){var t=this;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),!e.defaultNS&&e.defaultNS!==!1&&e.ns&&(typeof e.ns=="string"?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=we();this.options=f(f(f({},s),this.options),Ee(e)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=f(f({},s.interpolation),this.options.interpolation)),e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);function i(l){return l?typeof l=="function"?new l:l:null}if(!this.options.isClone){this.modules.logger?z.init(i(this.modules.logger),this.options):z.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=Vr);const u=new Se(this.options);this.store=new ye(this.options.resources,this.options);const c=this.services;c.logger=z,c.resourceStore=this.store,c.languageUtils=u,c.pluralResolver=new Mr(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(c.formatter=i(l),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new Ur(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new zr(i(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",function(h){for(var g=arguments.length,d=new Array(g>1?g-1:0),y=1;y<g;y++)d[y-1]=arguments[y];t.emit(h,...d)}),this.modules.languageDetector&&(c.languageDetector=i(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=i(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new xt(this.services,this.options),this.translator.on("*",function(h){for(var g=arguments.length,d=new Array(g>1?g-1:0),y=1;y<g;y++)d[y-1]=arguments[y];t.emit(h,...d)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ot),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return t.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return t.store[l](...arguments),t}});const o=nt(),a=()=>{const l=(u,c)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(c),r(u,c)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),o}loadResources(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot;const r=typeof t=="string"?t:this.language;if(typeof t=="function"&&(e=t),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return e();const s=[],i=o=>{!o||o==="cimode"||this.services.languageUtils.toResolveHierarchy(o).forEach(a=>{a!=="cimode"&&s.indexOf(a)<0&&s.push(a)})};r?i(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(o=>i(o)),this.options.preload&&this.options.preload.forEach(o=>i(o)),this.services.backendConnector.load(s,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),e(o)})}else e(null)}reloadResources(t,e,r){const s=nt();return t||(t=this.languages),e||(e=this.options.ns),r||(r=Ot),this.services.backendConnector.reload(t,e,i=>{s.resolve(),r(i)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&ve.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let e=0;e<this.languages.length;e++){const r=this.languages[e];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,e){var r=this;this.isLanguageChangingTo=t;const s=nt();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),e&&e(l,function(){return r.t(...arguments)})},a=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{o(c,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),s}getFixedT(t,e,r){var s=this;const i=function(o,a){let l;if(typeof a!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),h=2;h<u;h++)c[h-2]=arguments[h];l=s.options.overloadTranslationOptionHandler([o,a].concat(c))}else l=f({},a);l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix=l.keyPrefix||r||i.keyPrefix;const g=s.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(o)?d=o.map(y=>`${l.keyPrefix}${g}${y}`):d=l.keyPrefix?`${l.keyPrefix}${g}${o}`:o,s.t(d,l)};return typeof t=="string"?i.lng=t:i.lngs=t,i.ns=e,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=e.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===2};if(e.precheck){const a=e.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!s||o(i,t)))}loadNamespaces(t,e){const r=nt();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),e&&e(s)}),r):(e&&e(),Promise.resolve())}loadLanguages(t,e){const r=nt();typeof t=="string"&&(t=[t]);const s=this.options.preload||[],i=t.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),e&&e(o)}),r):(e&&e(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Se(we());return e.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new st(t,e)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const s=_(f(f({},this.options),t),{isClone:!0}),i=new st(s);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services=f({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new ye(this.store.data,s),i.services.resourceStore=i.store),i.translator=new xt(i.services,s),i.translator.on("*",function(o){for(var a=arguments.length,l=new Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];i.emit(o,...l)}),i.init(s,e),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const k=st.createInstance();k.createInstance=st.createInstance,k.createInstance,k.dir,k.init,k.loadResources,k.reloadResources,k.use,k.changeLanguage,k.getFixedT,k.t,k.exists,k.setDefaultNamespace,k.hasLoadedNamespace,k.loadNamespaces,k.loadLanguages;const Br=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Gr={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xA9","&#169;":"\xA9","&reg;":"\xAE","&#174;":"\xAE","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},Jr=n=>Gr[n];let De={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:n=>n.replace(Br,Jr)};function Wr(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};De=f(f({},De),n)}const Xr={type:"3rdParty",init(n){Wr(n.options.react)}},Yr={bottomAlign:"\u4E0B\u5BF9\u9F50",center:"\u5C45\u4E2D",cutPic:"\u622A\u56FE",delete:"\u5220\u9664",deleteDataTopic:"\u5220\u9664\u8BE5\u8282\u70B9\u4F1A\u628A\u5B50\u8282\u70B9\u4E00\u5E76\u5220\u9664!",edge:"\u8FDE\u7EBF",exitFullScreen:"\u9000\u51FA\u5168\u5C4F",fullScreen:"\u5168\u5C4F",horizonAlign:"\u6C34\u5E73\u5C45\u4E2D\u5BF9\u9F50",horizonCenter:"\u6C34\u5E73\u5C45\u4E2D",horizonLayout:"\u6A2A\u5411\u5E03\u5C40",leftAlign:"\u5DE6\u5BF9\u9F50",locationEle:"\u5B9A\u4F4D\u5143\u7D20",marquee:"\u6846\u9009(shift+drag)",node:"\u8282\u70B9",rightAlign:"\u53F3\u5BF9\u9F50",starLayout:"\u661F\u578B\u5E03\u5C40",sureDelete:"\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u8282\u70B9\u6216\u8FDE\u7EBF\u5417?",tileCenter:"\u5E73\u94FA\u5C45\u4E2D",topAlign:"\u4E0A\u5BF9\u9F50",verticalAlign:"\u5782\u76F4\u5C45\u4E2D\u5BF9\u9F50",verticalCenter:"\u5782\u76F4\u5C45\u4E2D",verticalLayout:"\u7EB5\u5411\u5E03\u5C40",withdrawn:"\u64A4\u56DE(ctrl+z)",zoomIn:"\u7F29\u5C0F",zoomOut:"\u653E\u5927"},Qr={translation:Yr},qr={bottomAlign:"Bottom Align",center:"Center",cutPic:"Capture",delete:"Delete",deleteDataTopic:"Deleting this node removes the child nodes along with it!",edge:"Edge",exitFullScreen:"Exit Full Screen",fullScreen:"Full Screen",horizonAlign:"Horizon center Align",horizonCenter:"Horizon center",horizonLayout:"Horizon Layout",leftAlign:"Left Align",locationEle:"Location Element",marquee:"Marquee(shift+drag)",node:"Node",rightAlign:"Right Align",starLayout:"Star Layout",sureDelete:"Sure delete node or edges?",tileCenter:"Tile Center",topAlign:"Top Align",verticalAlign:"Vertical Center Align",verticalCenter:"Vertical Center",verticalLayout:"Vertical Layout",withdrawn:"withdrawn(ctrl+z)",zoomIn:"zoom in",zoomOut:"zoom out"},Zr={translation:qr},ts={zh:Qr,en:Zr};k.use(Xr).init({resources:ts,lng:"zh",fallbackLng:"zh",interpolation:{escapeValue:!1}});const Te=n=>{const{style:t,className:e,hideTools:r,canvasClassName:s,canvasStyle:i,onLoad:o,hideGrid:a,hideDragBox:l,children:u}=n,c=(0,b.useRef)(null),{toolsChild:h,dragBoxChild:g,restChilds:d}=xr(u),y=()=>!r&&(h||O.jsx(q,{})),v=()=>!l&&(g||O.jsx(Ft,{}));return O.jsx(tr,{backend:mr,children:O.jsxs("div",{style:t,className:E("fiagram",e,{hideTools:r}),children:[O.jsx(y,{}),O.jsx(v,{}),O.jsx(yr,{ref:c,className:s,style:i,onLoad:o,hideGrid:a,restChilds:d})]})})};Te.displayName="Diagram"}}]);
}());