!(function(){var UA=Object.defineProperty,HA=Object.defineProperties;var qA=Object.getOwnPropertyDescriptors;var Cu=Object.getOwnPropertySymbols;var o0=Object.prototype.hasOwnProperty,a0=Object.prototype.propertyIsEnumerable;var i0=(se,Et,Pt)=>Et in se?UA(se,Et,{enumerable:!0,configurable:!0,writable:!0,value:Pt}):se[Et]=Pt,J=(se,Et)=>{for(var Pt in Et||(Et={}))o0.call(Et,Pt)&&i0(se,Pt,Et[Pt]);if(Cu)for(var Pt of Cu(Et))a0.call(Et,Pt)&&i0(se,Pt,Et[Pt]);return se},Mt=(se,Et)=>HA(se,qA(Et));var $r=(se,Et)=>{var Pt={};for(var S in se)o0.call(se,S)&&Et.indexOf(S)<0&&(Pt[S]=se[S]);if(se!=null&&Cu)for(var S of Cu(se))Et.indexOf(S)<0&&a0.call(se,S)&&(Pt[S]=se[S]);return Pt};(self.webpackChunk_fiagram_docs=self.webpackChunk_fiagram_docs||[]).push([[887],{44675:function(se){var Et=se.exports={},Pt,S;function Fo(){throw new Error("setTimeout has not been defined")}function Yi(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Pt=setTimeout:Pt=Fo}catch(Yt){Pt=Fo}try{typeof clearTimeout=="function"?S=clearTimeout:S=Yi}catch(Yt){S=Yi}})();function $a(Yt){if(Pt===setTimeout)return setTimeout(Yt,0);if((Pt===Fo||!Pt)&&setTimeout)return Pt=setTimeout,setTimeout(Yt,0);try{return Pt(Yt,0)}catch(He){try{return Pt.call(null,Yt,0)}catch(ai){return Pt.call(this,Yt,0)}}}function Tu(Yt){if(S===clearTimeout)return clearTimeout(Yt);if((S===Yi||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(Yt);try{return S(Yt)}catch(He){try{return S.call(null,Yt)}catch(ai){return S.call(this,Yt)}}}var bn=[],nn=!1,Ue,ir=-1;function Ia(){!nn||!Ue||(nn=!1,Ue.length?bn=Ue.concat(bn):ir=-1,bn.length&&Ir())}function Ir(){if(!nn){var Yt=$a(Ia);nn=!0;for(var He=bn.length;He;){for(Ue=bn,bn=[];++ir<He;)Ue&&Ue[ir].run();ir=-1,He=bn.length}Ue=null,nn=!1,Tu(Yt)}}Et.nextTick=function(Yt){var He=new Array(arguments.length-1);if(arguments.length>1)for(var ai=1;ai<arguments.length;ai++)He[ai-1]=arguments[ai];bn.push(new Bo(Yt,He)),bn.length===1&&!nn&&$a(Ir)};function Bo(Yt,He){this.fun=Yt,this.array=He}Bo.prototype.run=function(){this.fun.apply(null,this.array)},Et.title="browser",Et.browser=!0,Et.env={},Et.argv=[],Et.version="",Et.versions={};function wn(){}Et.on=wn,Et.addListener=wn,Et.once=wn,Et.off=wn,Et.removeListener=wn,Et.removeAllListeners=wn,Et.emit=wn,Et.prependListener=wn,Et.prependOnceListener=wn,Et.listeners=function(Yt){return[]},Et.binding=function(Yt){throw new Error("process.binding is not supported")},Et.cwd=function(){return"/"},Et.chdir=function(Yt){throw new Error("process.chdir is not supported")},Et.umask=function(){return 0}},45887:function(se,Et,Pt){"use strict";Pt.r(Et),Pt.d(Et,{Diagram:function(){return Kg},DragPanel:function(){return uc},Tools:function(){return Un}});var S=Pt(92379),Fo=Pt.t(S,2),Yi=Pt(95295),$a=Pt(44675),Tu=Object.defineProperty,bn=(t,e,n)=>e in t?Tu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nn=(t,e,n)=>(bn(t,typeof e!="symbol"?e+"":e,n),n),Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ir(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ia={exports:{}},Ir={};var Bo;function wn(){if(Bo)return Ir;Bo=1;var t=S,e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,d){var g,m={},p=null,b=null;d!==void 0&&(p=""+d),h.key!==void 0&&(p=""+h.key),h.ref!==void 0&&(b=h.ref);for(g in h)i.call(h,g)&&!s.hasOwnProperty(g)&&(m[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:e,type:c,key:p,ref:b,props:m,_owner:a.current}}return Ir.Fragment=n,Ir.jsx=l,Ir.jsxs=l,Ir}var Yt={};var He;function ai(){return He||(He=1),Yt}Ia.exports=wn();var q=Ia.exports,yf={exports:{}};(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(s=a(s,i(c)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var c in s)e.call(s,c)&&s[c]&&(l=a(l,c));return l}function a(s,l){return l?s?s+" "+l:s+l:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(yf);var s0=yf.exports;const ue=ir(s0),bf=(0,S.createContext)({dragDropManager:void 0});function xn(t){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(t)}function u0(t,e){if(xn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(xn(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wf(t){var e=u0(t,"string");return xn(e)=="symbol"?e:e+""}function Ee(t,e,n){return e=wf(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xf(Object(n),!0).forEach(function(i){Ee(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function rn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var _f=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Au=function(){return Math.random().toString(36).substring(7).split("").join(".")},Of={INIT:"@@redux/INIT"+Au(),REPLACE:"@@redux/REPLACE"+Au(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Au()}};function l0(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function WA(t){if(t===void 0)return"undefined";if(t===null)return"null";var e=typeof t;switch(e){case"boolean":case"string":case"number":case"symbol":case"function":return e}if(Array.isArray(t))return"array";if(h0(t))return"date";if(f0(t))return"error";var n=c0(t);switch(n){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return n}return e.slice(8,-1).toLowerCase().replace(/\s/g,"")}function c0(t){return typeof t.constructor=="function"?t.constructor.name:null}function f0(t){return t instanceof Error||typeof t.message=="string"&&t.constructor&&typeof t.constructor.stackTraceLimit=="number"}function h0(t){return t instanceof Date?!0:typeof t.toDateString=="function"&&typeof t.getDate=="function"&&typeof t.setDate=="function"}function VA(t){var e=typeof t;return e}function Sf(t,e,n){var i;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rn(1));return n(Sf)(t,e)}if(typeof t!="function")throw new Error(rn(2));var a=t,s=e,l=[],c=l,h=!1;function d(){c===l&&(c=l.slice())}function g(){if(h)throw new Error(rn(3));return s}function m(k){if(typeof k!="function")throw new Error(rn(4));if(h)throw new Error(rn(5));var w=!0;return d(),c.push(k),function(){if(w){if(h)throw new Error(rn(6));w=!1,d();var O=c.indexOf(k);c.splice(O,1),l=null}}}function p(k){if(!l0(k))throw new Error(rn(7));if(typeof k.type>"u")throw new Error(rn(8));if(h)throw new Error(rn(9));try{h=!0,s=a(s,k)}finally{h=!1}for(var w=l=c,O=0;O<w.length;O++){var I=w[O];I()}return k}function b(k){if(typeof k!="function")throw new Error(rn(10));a=k,p({type:Of.REPLACE})}function E(){var k,w=m;return k={subscribe:function(O){if(typeof O!="object"||O===null)throw new Error(rn(11));function I(){O.next&&O.next(g())}I();var A=w(I);return{unsubscribe:A}}},k[_f]=function(){return this},k}return p({type:Of.INIT}),i={dispatch:p,subscribe:m,getState:g,replaceReducer:b},i[_f]=E,i}function Ot(t,e,...n){if(d0()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let i;if(e===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;i=new Error(e.replace(/%s/g,function(){return n[a++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}function d0(){return typeof $a<"u"&&!0}function g0(t,e,n){return e.split(".").reduce((i,a)=>i&&i[a]?i[a]:n||null,t)}function p0(t,e){return t.filter(n=>n!==e)}function Ef(t){return typeof t=="object"}function v0(t,e){const n=new Map,i=s=>{n.set(s,n.has(s)?n.get(s)+1:1)};t.forEach(i),e.forEach(i);const a=[];return n.forEach((s,l)=>{s===1&&a.push(l)}),a}function m0(t,e){return t.filter(n=>e.indexOf(n)>-1)}const Ru="dnd-core/INIT_COORDS",Pa="dnd-core/BEGIN_DRAG",Nu="dnd-core/PUBLISH_DRAG_SOURCE",ja="dnd-core/HOVER",La="dnd-core/DROP",Ma="dnd-core/END_DRAG";function Df(t,e){return{type:Ru,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const y0={type:Ru,payload:{clientOffset:null,sourceClientOffset:null}};function b0(t){return function(e=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:a,getSourceClientOffset:s}=n,l=t.getMonitor(),c=t.getRegistry();t.dispatch(Df(a)),w0(e,l,c);const h=O0(e,l);if(h==null){t.dispatch(y0);return}let d=null;if(a){if(!s)throw new Error("getSourceClientOffset must be defined");x0(s),d=s(h)}t.dispatch(Df(a,d));const g=c.getSource(h).beginDrag(l,h);if(g==null)return;_0(g),c.pinSource(h);const m=c.getSourceType(h);return{type:Pa,payload:{itemType:m,item:g,sourceId:h,clientOffset:a||null,sourceClientOffset:d||null,isSourcePublic:!!i}}}}function w0(t,e,n){Ot(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(i){Ot(n.getSource(i),"Expected sourceIds to be registered.")})}function x0(t){Ot(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function _0(t){Ot(Ef(t),"Item must be an object.")}function O0(t,e){let n=null;for(let i=t.length-1;i>=0;i--)if(e.canDragSource(t[i])){n=t[i];break}return n}function S0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){S0(t,a,n[a])})}return t}function D0(t){return function(e={}){const n=t.getMonitor(),i=t.getRegistry();k0(n),A0(n).forEach((a,s)=>{const l=C0(a,s,i,n),c={type:La,payload:{dropResult:E0({},e,l)}};t.dispatch(c)})}}function k0(t){Ot(t.isDragging(),"Cannot call drop while not dragging."),Ot(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function C0(t,e,n,i){const a=n.getTarget(t);let s=a?a.drop(i,t):void 0;return T0(s),typeof s>"u"&&(s=e===0?{}:i.getDropResult()),s}function T0(t){Ot(typeof t>"u"||Ef(t),"Drop result must either be an object or undefined.")}function A0(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function R0(t){return function(){const e=t.getMonitor(),n=t.getRegistry();N0(e);const i=e.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(e,i),n.unpinSource()),{type:Ma}}}function N0(t){Ot(t.isDragging(),"Cannot call endDrag while not dragging.")}function $u(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function $0(t){return function(e,{clientOffset:n}={}){I0(e);const i=e.slice(0),a=t.getMonitor(),s=t.getRegistry(),l=a.getItemType();return j0(i,s,l),P0(i,a,s),L0(i,a,s),{type:ja,payload:{targetIds:i,clientOffset:n||null}}}}function I0(t){Ot(Array.isArray(t),"Expected targetIds to be an array.")}function P0(t,e,n){Ot(e.isDragging(),"Cannot call hover while not dragging."),Ot(!e.didDrop(),"Cannot call hover after drop.");for(let i=0;i<t.length;i++){const a=t[i];Ot(t.lastIndexOf(a)===i,"Expected targetIds to be unique in the passed array.");const s=n.getTarget(a);Ot(s,"Expected targetIds to be registered.")}}function j0(t,e,n){for(let i=t.length-1;i>=0;i--){const a=t[i],s=e.getTargetType(a);$u(s,n)||t.splice(i,1)}}function L0(t,e,n){t.forEach(function(i){n.getTarget(i).hover(e,i)})}function M0(t){return function(){if(t.getMonitor().isDragging())return{type:Nu}}}function z0(t){return{beginDrag:b0(t),publishDragSource:M0(t),hover:$0(t),drop:D0(t),endDrag:R0(t)}}class F0{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function i(s){return(...l)=>{const c=s.apply(e,l);typeof c<"u"&&n(c)}}const a=z0(this);return Object.keys(a).reduce((s,l)=>{const c=a[l];return s[l]=i(c),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const i=this.store.getState().refCount>0;this.backend&&(i&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!i&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function B0(t,e){return{x:t.x+e.x,y:t.y+e.y}}function kf(t,e){return{x:t.x-e.x,y:t.y-e.y}}function X0(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:i}=t;return!e||!n||!i?null:kf(B0(e,i),n)}function U0(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:kf(e,n)}const Xo=[],Iu=[];Xo.__IS_NONE__=!0,Iu.__IS_ALL__=!0;function H0(t,e){return t===Xo?!1:t===Iu||typeof e>"u"?!0:m0(e,t).length>0}class q0{subscribeToStateChange(e,n={}){const{handlerIds:i}=n;Ot(typeof e=="function","listener must be a function."),Ot(typeof i>"u"||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const s=()=>{const l=this.store.getState(),c=l.stateId;try{c===a||c===a+1&&!H0(l.dirtyHandlerIds,i)||e()}finally{a=c}};return this.store.subscribe(s)}subscribeToOffsetChange(e){Ot(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const i=()=>{const a=this.store.getState().dragOffset;a!==n&&(n=a,e())};return this.store.subscribe(i)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return Ot(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(Ot(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const i=this.registry.getTargetType(e),a=this.getItemType();return $u(i,a)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(Ot(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const i=this.registry.getSourceType(e),a=this.getItemType();return i!==a?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:i}=n;if(!this.isDragging())return!1;const a=this.registry.getTargetType(e),s=this.getItemType();if(s&&!$u(a,s))return!1;const l=this.getTargetIds();if(!l.length)return!1;const c=l.indexOf(e);return i?c===l.length-1:c>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return X0(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return U0(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const Cf=typeof global<"u"?global:self,Tf=Cf.MutationObserver||Cf.WebKitMutationObserver;function Af(t){return function(){const e=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(e),clearInterval(n),t()}}}function W0(t){let e=1;const n=new Tf(t),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}const V0=typeof Tf=="function"?W0:Af;class Y0{enqueueTask(e){const{queue:n,requestFlush:i}=this;n.length||(i(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let i=0,a=e.length-this.index;i<a;i++)e[i]=e[i+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=V0(this.flush),this.requestErrorThrow=Af(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class G0{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class K0{create(e){const n=this.freeTasks,i=n.length?n.pop():new G0(this.onError,a=>n[n.length]=a);return i.task=e,i}constructor(e){this.onError=e,this.freeTasks=[]}}const Rf=new Y0,Z0=new K0(Rf.registerPendingError);function Q0(t){Rf.enqueueTask(Z0.create(t))}const Pu="dnd-core/ADD_SOURCE",ju="dnd-core/ADD_TARGET",Lu="dnd-core/REMOVE_SOURCE",za="dnd-core/REMOVE_TARGET";function J0(t){return{type:Pu,payload:{sourceId:t}}}function tm(t){return{type:ju,payload:{targetId:t}}}function em(t){return{type:Lu,payload:{sourceId:t}}}function nm(t){return{type:za,payload:{targetId:t}}}function rm(t){Ot(typeof t.canDrag=="function","Expected canDrag to be a function."),Ot(typeof t.beginDrag=="function","Expected beginDrag to be a function."),Ot(typeof t.endDrag=="function","Expected endDrag to be a function.")}function im(t){Ot(typeof t.canDrop=="function","Expected canDrop to be a function."),Ot(typeof t.hover=="function","Expected hover to be a function."),Ot(typeof t.drop=="function","Expected beginDrag to be a function.")}function Mu(t,e){if(e&&Array.isArray(t)){t.forEach(n=>Mu(n,!1));return}Ot(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var on;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(on||(on={}));let om=0;function am(){return om++}function sm(t){const e=am().toString();switch(t){case on.SOURCE:return`S${e}`;case on.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Nf(t){switch(t[0]){case"S":return on.SOURCE;case"T":return on.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function $f(t,e){const n=t.entries();let i=!1;do{const{done:a,value:[,s]}=n.next();if(s===e)return!0;i=!!a}while(!i);return!1}class um{addSource(e,n){Mu(e),rm(n);const i=this.addHandler(on.SOURCE,e,n);return this.store.dispatch(J0(i)),i}addTarget(e,n){Mu(e,!0),im(n);const i=this.addHandler(on.TARGET,e,n);return this.store.dispatch(tm(i)),i}containsHandler(e){return $f(this.dragSources,e)||$f(this.dropTargets,e)}getSource(e,n=!1){return Ot(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Ot(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Ot(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Ot(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Nf(e)===on.SOURCE}isTargetId(e){return Nf(e)===on.TARGET}removeSource(e){Ot(this.getSource(e),"Expected an existing source."),this.store.dispatch(em(e)),Q0(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){Ot(this.getTarget(e),"Expected an existing target."),this.store.dispatch(nm(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);Ot(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){Ot(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,i){const a=sm(e);return this.types.set(a,n),e===on.SOURCE?this.dragSources.set(a,i):e===on.TARGET&&this.dropTargets.set(a,i),a}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const lm=(t,e)=>t===e;function cm(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function fm(t,e,n=lm){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!n(t[i],e[i]))return!1;return!0}function hm(t=Xo,e){switch(e.type){case ja:break;case Pu:case ju:case za:case Lu:return Xo;case Pa:case Nu:case Ma:case La:default:return Iu}const{targetIds:n=[],prevTargetIds:i=[]}=e.payload,a=v0(n,i);if(!(a.length>0||!fm(n,i)))return Xo;const s=i[i.length-1],l=n[n.length-1];return s!==l&&(s&&a.push(s),l&&a.push(l)),a}function dm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){dm(t,a,n[a])})}return t}const If={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function pm(t=If,e){const{payload:n}=e;switch(e.type){case Ru:case Pa:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case ja:return cm(t.clientOffset,n.clientOffset)?t:gm({},t,{clientOffset:n.clientOffset});case Ma:case La:return If;default:return t}}function vm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){vm(t,a,n[a])})}return t}const mm={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ym(t=mm,e){const{payload:n}=e;switch(e.type){case Pa:return Gi({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Nu:return Gi({},t,{isSourcePublic:!0});case ja:return Gi({},t,{targetIds:n.targetIds});case za:return t.targetIds.indexOf(n.targetId)===-1?t:Gi({},t,{targetIds:p0(t.targetIds,n.targetId)});case La:return Gi({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Ma:return Gi({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function bm(t=0,e){switch(e.type){case Pu:case ju:return t+1;case Lu:case za:return t-1;default:return t}}function wm(t=0){return t+1}function xm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){xm(t,a,n[a])})}return t}function Om(t={},e){return{dirtyHandlerIds:hm(t.dirtyHandlerIds,{type:e.type,payload:_m({},e.payload,{prevTargetIds:g0(t,"dragOperation.targetIds",[])})}),dragOffset:pm(t.dragOffset,e),refCount:bm(t.refCount,e),dragOperation:ym(t.dragOperation,e),stateId:wm(t.stateId)}}function Sm(t,e=void 0,n={},i=!1){const a=Em(i),s=new q0(a,new um(a)),l=new F0(a,s),c=t(l,e,n);return l.receiveBackend(c),l}function Em(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Sf(Om,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Dm(t,e){if(t==null)return{};var n=km(t,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function km(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,s;for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}let Pf=0;const Fa=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Cm=(0,S.memo)(function(t){var{children:e}=t,n=Dm(t,["children"]);const[i,a]=Tm(n);return(0,S.useEffect)(()=>{if(a){const s=jf();return++Pf,()=>{--Pf===0&&(s[Fa]=null)}}},[]),q.jsx(bf.Provider,{value:i,children:e})});function Tm(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=Am(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function Am(t,e=jf(),n,i){const a=e;return a[Fa]||(a[Fa]={dragDropManager:Sm(t,e,n,i)}),a[Fa]}function jf(){return typeof global<"u"?global:window}var Rm=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,a,s;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(a=i;a--!==0;)if(!t(e[a],n[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(n).length)return!1;for(a=i;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[a]))return!1;for(a=i;a--!==0;){var l=s[a];if(!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n};const Nm=ir(Rm),si=typeof window<"u"?S.useLayoutEffect:S.useEffect;function Lf(t,e,n){const[i,a]=(0,S.useState)(()=>e(t)),s=(0,S.useCallback)(()=>{const l=e(t);Nm(i,l)||(a(l),n&&n())},[i,t,n]);return si(s),[i,s]}function $m(t,e,n){const[i,a]=Lf(t,e,n);return si(function(){const s=t.getHandlerId();if(s!=null)return t.subscribeToStateChange(a,{handlerIds:[s]})},[t,a]),i}function Mf(t,e,n){return $m(e,t||(()=>({})),()=>n.reconnect())}function zf(t,e){const n=[];return typeof t!="function"&&n.push(t),(0,S.useMemo)(()=>typeof t=="function"?t():t,n)}function Im(t){return(0,S.useMemo)(()=>t.hooks.dragSource(),[t])}function Pm(t){return(0,S.useMemo)(()=>t.hooks.dragPreview(),[t])}let zu=!1,Fu=!1;class jm{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Ot(!zu,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return zu=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{zu=!1}}isDragging(){if(!this.sourceId)return!1;Ot(!Fu,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Fu=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Fu=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Bu=!1;class Lm{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;Ot(!Bu,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Bu=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Bu=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Mm(t,e,n){const i=n.getRegistry(),a=i.addTarget(t,e);return[a,()=>i.removeTarget(a)]}function zm(t,e,n){const i=n.getRegistry(),a=i.addSource(t,e);return[a,()=>i.removeSource(a)]}function Xu(t,e,n,i){let a;if(a!==void 0)return!!a;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const s=Object.keys(t),l=Object.keys(e);if(s.length!==l.length)return!1;const c=Object.prototype.hasOwnProperty.bind(e);for(let h=0;h<s.length;h++){const d=s[h];if(!c(d))return!1;const g=t[d],m=e[d];if(a=void 0,a===!1||a===void 0&&g!==m)return!1}return!0}function Uu(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Fm(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Bm(t){return(e=null,n=null)=>{if(!(0,S.isValidElement)(e)){const a=e;return t(a,n),a}const i=e;return Fm(i),Xm(i,n?a=>t(a,n):t)}}function Ff(t){const e={};return Object.keys(t).forEach(n=>{const i=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const a=Bm(i);e[n]=()=>a}}),e}function Bf(t,e){typeof t=="function"?t(e):t.current=e}function Xm(t,e){const n=t.ref;return Ot(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,S.cloneElement)(t,{ref:i=>{Bf(n,i),Bf(e,i)}}):(0,S.cloneElement)(t,{ref:e})}class Um{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,i=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(i&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Xu(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Xu(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Ff({dragSource:(n,i)=>{this.clearDragSource(),this.dragSourceOptions=i||null,Uu(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,i)=>{this.clearDragPreview(),this.dragPreviewOptions=i||null,Uu(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Hm{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Xu(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Ff({dropTarget:(n,i)=>{this.clearDropTarget(),this.dropTargetOptions=i,Uu(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function ui(){const{dragDropManager:t}=(0,S.useContext)(bf);return Ot(t!=null,"Expected drag drop context"),t}function qm(t,e){const n=ui(),i=(0,S.useMemo)(()=>new Um(n.getBackend()),[n]);return si(()=>(i.dragSourceOptions=t||null,i.reconnect(),()=>i.disconnectDragSource()),[i,t]),si(()=>(i.dragPreviewOptions=e||null,i.reconnect(),()=>i.disconnectDragPreview()),[i,e]),i}function Wm(){const t=ui();return(0,S.useMemo)(()=>new jm(t),[t])}class Vm{beginDrag(){const e=this.spec,n=this.monitor;let i=null;return typeof e.item=="object"?i=e.item:typeof e.item=="function"?i=e.item(n):i={},i!=null?i:null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const i=this.spec,a=this.monitor,{isDragging:s}=i;return s?s(a):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,i=this.connector,{end:a}=e;a&&a(n.getItem(),n),i.reconnect()}constructor(e,n,i){this.spec=e,this.monitor=n,this.connector=i}}function Ym(t,e,n){const i=(0,S.useMemo)(()=>new Vm(t,e,n),[e,n]);return(0,S.useEffect)(()=>{i.spec=t},[t]),i}function Gm(t){return(0,S.useMemo)(()=>{const e=t.type;return Ot(e!=null,"spec.type must be defined"),e},[t])}function Km(t,e,n){const i=ui(),a=Ym(t,e,n),s=Gm(t);si(function(){if(s!=null){const[l,c]=zm(s,a,i);return e.receiveHandlerId(l),n.receiveHandlerId(l),c}},[i,e,n,a,s])}function Zm(t,e){const n=zf(t);Ot(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const i=Wm(),a=qm(n.options,n.previewOptions);return Km(n,i,a),[Mf(n.collect,i,a),Im(a),Pm(a)]}function Qm(t){const e=ui().getMonitor(),[n,i]=Lf(e,t);return(0,S.useEffect)(()=>e.subscribeToOffsetChange(i)),(0,S.useEffect)(()=>e.subscribeToStateChange(i)),n}function Jm(t){return(0,S.useMemo)(()=>t.hooks.dropTarget(),[t])}function ty(t){const e=ui(),n=(0,S.useMemo)(()=>new Hm(e.getBackend()),[e]);return si(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function ey(){const t=ui();return(0,S.useMemo)(()=>new Lm(t),[t])}function ny(t){const{accept:e}=t;return(0,S.useMemo)(()=>(Ot(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class ry{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function iy(t,e){const n=(0,S.useMemo)(()=>new ry(t,e),[e]);return(0,S.useEffect)(()=>{n.spec=t},[t]),n}function oy(t,e,n){const i=ui(),a=iy(t,e),s=ny(t);si(function(){const[l,c]=Mm(s,a,i);return e.receiveHandlerId(l),n.receiveHandlerId(l),c},[i,e,a,n,s.map(l=>l.toString()).join("|")])}function ay(t,e){const n=zf(t),i=ey(),a=ty(n.options);return oy(n,i,a),[Mf(n.collect,i,a),Jm(a)]}function Xf(t){let e=null;return()=>(e==null&&(e=t()),e)}function sy(t,e){return t.filter(n=>n!==e)}function uy(t,e){const n=new Set,i=s=>n.add(s);t.forEach(i),e.forEach(i);const a=[];return n.forEach(s=>a.push(s)),a}class ly{enter(e){const n=this.entered.length,i=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(e));return this.entered=uy(this.entered.filter(i),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=sy(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class cy{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(i=>{const a=this.config.exposeProperties[i];a!=null&&(n[i]={value:a(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Uf="__NATIVE_FILE__",Hf="__NATIVE_URL__",qf="__NATIVE_TEXT__",Wf="__NATIVE_HTML__",Vf=Object.freeze(Object.defineProperty({__proto__:null,FILE:Uf,HTML:Wf,TEXT:qf,URL:Hf},Symbol.toStringTag,{value:"Module"}));function Hu(t,e,n){const i=e.reduce((a,s)=>a||t.getData(s),"");return i!=null?i:n}const qu={[Uf]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Wf]:{exposeProperties:{html:(t,e)=>Hu(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Hf]:{exposeProperties:{urls:(t,e)=>Hu(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[qf]:{exposeProperties:{text:(t,e)=>Hu(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function fy(t,e){const n=qu[t];if(!n)throw new Error(`native type ${t} has no configuration`);const i=new cy(n);return i.loadDataTransfer(e),i}function Wu(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(qu).filter(n=>{const i=qu[n];return i!=null&&i.matchesTypes?i.matchesTypes.some(a=>e.indexOf(a)>-1):!1})[0]||null}const hy=Xf(()=>/firefox/i.test(navigator.userAgent)),Yf=Xf(()=>!!window.safari);class Gf{interpolate(e){const{xs:n,ys:i,c1s:a,c2s:s,c3s:l}=this;let c=n.length-1;if(e===n[c])return i[c];let h=0,d=l.length-1,g;for(;h<=d;){g=Math.floor(.5*(h+d));const b=n[g];if(b<e)h=g+1;else if(b>e)d=g-1;else return i[g]}c=Math.max(0,d);const m=e-n[c],p=m*m;return i[c]+a[c]*m+s[c]*p+l[c]*m*p}constructor(e,n){const{length:i}=e,a=[];for(let b=0;b<i;b++)a.push(b);a.sort((b,E)=>e[b]<e[E]?-1:1);const s=[],l=[];let c,h;for(let b=0;b<i-1;b++)c=e[b+1]-e[b],h=n[b+1]-n[b],s.push(c),l.push(h/c);const d=[l[0]];for(let b=0;b<s.length-1;b++){const E=l[b],k=l[b+1];if(E*k<=0)d.push(0);else{c=s[b];const w=s[b+1],O=c+w;d.push(3*O/((O+w)/E+(O+c)/k))}}d.push(l[l.length-1]);const g=[],m=[];let p;for(let b=0;b<d.length-1;b++){p=l[b];const E=d[b],k=1/s[b],w=E+d[b+1]-p-p;g.push((p-E-w)*k),m.push(w*k*k)}this.xs=e,this.ys=n,this.c1s=d,this.c2s=g,this.c3s=m}}const dy=1;function Kf(t){const e=t.nodeType===dy?t:t.parentElement;if(!e)return null;const{top:n,left:i}=e.getBoundingClientRect();return{x:i,y:n}}function Ba(t){return{x:t.clientX,y:t.clientY}}function gy(t){var e;return t.nodeName==="IMG"&&(hy()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function py(t,e,n,i){let a=t?e.width:n,s=t?e.height:i;return Yf()&&t&&(s/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:s}}function vy(t,e,n,i,a){const s=gy(e),l=Kf(s?t:e),c={x:n.x-l.x,y:n.y-l.y},{offsetWidth:h,offsetHeight:d}=t,{anchorX:g,anchorY:m}=i,{dragPreviewWidth:p,dragPreviewHeight:b}=py(s,e,h,d),E=()=>{let _=new Gf([0,.5,1],[c.y,c.y/d*b,c.y+b-d]).interpolate(m);return Yf()&&s&&(_+=(window.devicePixelRatio-1)*b),_},k=()=>new Gf([0,.5,1],[c.x,c.x/h*p,c.x+p-h]).interpolate(g),{offsetX:w,offsetY:O}=a,I=w===0||w,A=O===0||O;return{x:I?w:k(),y:A?O:E()}}class my{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function yy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){yy(t,a,n[a])})}return t}class by{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,i){return this.sourcePreviewNodeOptions.set(e,i),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,i){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,i);const a=l=>this.handleDragStart(l,e),s=l=>this.handleSelectStart(l);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",a),n.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",a),n.removeEventListener("selectstart",s),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const i=l=>this.handleDragEnter(l,e),a=l=>this.handleDragOver(l,e),s=l=>this.handleDrop(l,e);return n.addEventListener("dragenter",i),n.addEventListener("dragover",a),n.addEventListener("drop",s),()=>{n.removeEventListener("dragenter",i),n.removeEventListener("dragover",a),n.removeEventListener("drop",s)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return Zf({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return Zf({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Vf).some(n=>Vf[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=fy(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var i;return(i=this.rootElement)===null||i===void 0?void 0:i.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,i){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const s=this.sourceNodes.get(a);return s&&Kf(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const l=Ba(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:l});const{dataTransfer:c}=a,h=Wu(c);if(this.monitor.isDragging()){if(c&&typeof c.setDragImage=="function"){const g=this.monitor.getSourceId(),m=this.sourceNodes.get(g),p=this.sourcePreviewNodes.get(g)||m;if(p){const{anchorX:b,anchorY:E,offsetX:k,offsetY:w}=this.getCurrentSourcePreviewNodeOptions(),O=vy(m,p,l,{anchorX:b,anchorY:E},{offsetX:k,offsetY:w});c.setDragImage(p,O.x,O.y)}}try{c==null||c.setData("application/json",{})}catch(g){}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(h)this.beginDragNativeItem(h);else{if(c&&!c.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:l}=a,c=Wu(l);c&&this.beginDragNativeItem(c,l)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:s}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=a.altKey,s.length>0&&this.actions.hover(s,{clientOffset:Ba(a)}),s.some(l=>this.monitor.canDropOnTarget(l))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=Ba(a),this.scheduleHover(s),(s||[]).some(l=>this.monitor.canDropOnTarget(l))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;a.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(a.dataTransfer)}else Wu(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:Ba(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const s=a.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(a.preventDefault(),s.dragDrop()))},this.options=new my(n,i),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new ly(this.isNodeInDocument)}}let Xa;function wy(){return Xa||(Xa=new Image,Xa.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Xa}const xy=function(t,e,n){return new by(t,e,n)};var _y={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Qf=t=>{let e;const n=new Set,i=(c,h)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const g=e;e=(h!=null?h:typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(m=>m(e,g))}},a=()=>e,s={setState:i,getState:a,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(_y?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=e=t(i,a,s);return s},Oy=t=>t?Qf(t):Qf;var Jf={exports:{}},Vu={},th={exports:{}},Yu={};var eh;function Sy(){if(eh)return Yu;eh=1;var t=S;function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,a=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(m,p){var b=p(),E=i({inst:{value:b,getSnapshot:p}}),k=E[0].inst,w=E[1];return s(function(){k.value=b,k.getSnapshot=p,h(k)&&w({inst:k})},[m,b,p]),a(function(){return h(k)&&w({inst:k}),m(function(){h(k)&&w({inst:k})})},[m]),l(b),b}function h(m){var p=m.getSnapshot;m=m.value;try{var b=p();return!n(m,b)}catch(E){return!0}}function d(m,p){return p()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Yu.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,Yu}var Ey={};var nh;function YA(){return nh||(nh=1),Ey}var rh;function Dy(){return rh||(rh=1,th.exports=Sy()),th.exports}var ih;function ky(){if(ih)return Vu;ih=1;var t=S,e=Dy();function n(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var i=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,h=t.useDebugValue;return Vu.useSyncExternalStoreWithSelector=function(d,g,m,p,b){var E=s(null);if(E.current===null){var k={hasValue:!1,value:null};E.current=k}else k=E.current;E=c(function(){function O(P){if(!I){if(I=!0,A=P,P=p(P),b!==void 0&&k.hasValue){var M=k.value;if(b(M,P))return _=M}return _=P}if(M=_,i(A,P))return M;var nt=p(P);return b!==void 0&&b(M,nt)?M:(A=P,_=nt)}var I=!1,A,_,L=m===void 0?null:m;return[function(){return O(g())},L===null?void 0:function(){return O(L())}]},[g,m,p,b]);var w=a(d,E[0],E[1]);return l(function(){k.hasValue=!0,k.value=w},[w]),h(w),w},Vu}var Cy={};var oh;function GA(){return oh||(oh=1),Cy}Jf.exports=ky();var Ty=Jf.exports;const Ay=ir(Ty);var ah={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:Ry}=S,{useSyncExternalStoreWithSelector:Ny}=Ay;let sh=!1;const $y=t=>t;function Iy(t,e=$y,n){(ah?"production":void 0)!=="production"&&n&&!sh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),sh=!0);const i=Ny(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Ry(i),i}const uh=t=>{(ah?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Oy(t):t,n=(i,a)=>Iy(e,i,a);return Object.assign(n,e),n},Py=t=>t?uh(t):uh;var lh=Symbol.for("immer-nothing"),ch=Symbol.for("immer-draftable"),qe=Symbol.for("immer-state"),KA=[];function _n(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ki=Object.getPrototypeOf;function Zi(t){return!!t&&!!t[qe]}function li(t){var e;return t?fh(t)||Array.isArray(t)||!!t[ch]||!!((e=t.constructor)!=null&&e[ch])||qa(t)||Wa(t):!1}var jy=Object.prototype.constructor.toString();function fh(t){if(!t||typeof t!="object")return!1;const e=Ki(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===jy}function Ua(t,e){Ha(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function Ha(t){const e=t[qe];return e?e.type_:Array.isArray(t)?1:qa(t)?2:Wa(t)?3:0}function Gu(t,e){return Ha(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function hh(t,e,n){const i=Ha(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function Ly(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function qa(t){return t instanceof Map}function Wa(t){return t instanceof Set}function ci(t){return t.copy_||t.base_}function Ku(t,e){if(qa(t))return new Map(t);if(Wa(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=fh(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[qe];let a=Reflect.ownKeys(i);for(let s=0;s<a.length;s++){const l=a[s],c=i[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(i[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(Ki(t),i)}else{const i=Ki(t);if(i!==null&&n)return J({},t);const a=Object.create(i);return Object.assign(a,t)}}function Zu(t,e=!1){return Va(t)||Zi(t)||!li(t)||(Ha(t)>1&&(t.set=t.add=t.clear=t.delete=My),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>Zu(i,!0))),t}function My(){_n(2)}function Va(t){return Object.isFrozen(t)}var zy={};function fi(t){const e=zy[t];return e||_n(0,t),e}var Uo;function dh(){return Uo}function Fy(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gh(t,e){e&&(fi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Qu(t){Ju(t),t.drafts_.forEach(By),t.drafts_=null}function Ju(t){t===Uo&&(Uo=t.parent_)}function ph(t){return Uo=Fy(Uo,t)}function By(t){const e=t[qe];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function vh(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[qe].modified_&&(Qu(e),_n(4)),li(t)&&(t=Ya(e,t),e.parent_||Ga(e,t)),e.patches_&&fi("Patches").generateReplacementPatches_(n[qe].base_,t,e.patches_,e.inversePatches_)):t=Ya(e,n,[]),Qu(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==lh?t:void 0}function Ya(t,e,n){if(Va(e))return e;const i=e[qe];if(!i)return Ua(e,(a,s)=>mh(t,i,e,a,s,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Ga(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,l=!1;i.type_===3&&(s=new Set(a),a.clear(),l=!0),Ua(s,(c,h)=>mh(t,i,a,c,h,n,l)),Ga(t,a,!1),n&&t.patches_&&fi("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function mh(t,e,n,i,a,s,l){if(Zi(a)){const c=s&&e&&e.type_!==3&&!Gu(e.assigned_,i)?s.concat(i):void 0,h=Ya(t,a,c);if(hh(n,i,h),Zi(h))t.canAutoFreeze_=!1;else return}else l&&n.add(a);if(li(a)&&!Va(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Ya(t,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Ga(t,a)}}function Ga(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Zu(e,n)}function Xy(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:dh(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,s=tl;n&&(a=[i],s=Ho);const{revoke:l,proxy:c}=Proxy.revocable(a,s);return i.draft_=c,i.revoke_=l,c}var tl={get(t,e){if(e===qe)return t;const n=ci(t);if(!Gu(n,e))return Uy(t,n,e);const i=n[e];return t.finalized_||!li(i)?i:i===el(t.base_,e)?(rl(t),t.copy_[e]=il(i,t)):i},has(t,e){return e in ci(t)},ownKeys(t){return Reflect.ownKeys(ci(t))},set(t,e,n){const i=yh(ci(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const a=el(ci(t),e),s=a==null?void 0:a[qe];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Ly(n,a)&&(n!==void 0||Gu(t.base_,e)))return!0;rl(t),nl(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return el(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,rl(t),nl(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ci(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){_n(11)},getPrototypeOf(t){return Ki(t.base_)},setPrototypeOf(){_n(12)}},Ho={};Ua(tl,(t,e)=>{Ho[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ho.deleteProperty=function(t,e){return Ho.set.call(this,t,e,void 0)},Ho.set=function(t,e,n){return tl.set.call(this,t[0],e,n,t[0])};function el(t,e){const n=t[qe];return(n?ci(n):t)[e]}function Uy(t,e,n){var i;const a=yh(e,n);return a?"value"in a?a.value:(i=a.get)==null?void 0:i.call(t.draft_):void 0}function yh(t,e){if(!(e in t))return;let n=Ki(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Ki(n)}}function nl(t){t.modified_||(t.modified_=!0,t.parent_&&nl(t.parent_))}function rl(t){t.copy_||(t.copy_=Ku(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Hy=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(c=s,...h){return l.produce(c,d=>n.call(this,d,...h))}}typeof n!="function"&&_n(6),i!==void 0&&typeof i!="function"&&_n(7);let a;if(li(e)){const s=ph(this),l=il(e,void 0);let c=!0;try{a=n(l),c=!1}finally{c?Qu(s):Ju(s)}return gh(s,i),vh(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===lh&&(a=void 0),this.autoFreeze_&&Zu(a,!0),i){const s=[],l=[];fi("Patches").generateReplacementPatches_(e,a,s,l),i(s,l)}return a}else _n(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,c=>e(c,...l));let i,a;return[this.produce(e,n,(s,l)=>{i=s,a=l}),i,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){li(t)||_n(8),Zi(t)&&(t=qy(t));const e=ph(this),n=il(t,void 0);return n[qe].isManual_=!0,Ju(e),n}finishDraft(t,e){const n=t&&t[qe];(!n||!n.isManual_)&&_n(9);const{scope_:i}=n;return gh(i,e),vh(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const i=fi("Patches").applyPatches_;return Zi(t)?i(t,e):this.produce(t,a=>i(a,e))}};function il(t,e){const n=qa(t)?fi("MapSet").proxyMap_(t,e):Wa(t)?fi("MapSet").proxySet_(t,e):Xy(t,e);return(e?e.scope_:dh()).drafts_.push(n),n}function qy(t){return Zi(t)||_n(10,t),bh(t)}function bh(t){if(!li(t)||Va(t))return t;const e=t[qe];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Ku(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Ku(t,!0);return Ua(n,(i,a)=>{hh(n,i,bh(a))}),e&&(e.finalized_=!1),n}var We=new Hy,je=We.produce;We.produceWithPatches.bind(We),We.setAutoFreeze.bind(We),We.setUseStrictShallowCopy.bind(We),We.applyPatches.bind(We),We.createDraft.bind(We),We.finishDraft.bind(We);var Ka={exports:{}};Ka.exports,function(t,e){(function(){var n,i="4.17.21",a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",d=500,g="__lodash_placeholder__",m=1,p=2,b=4,E=1,k=2,w=1,O=2,I=4,A=8,_=16,L=32,P=64,M=128,nt=256,ft=512,G=30,tt="...",rt=800,Y=16,C=1,j=2,N=3,F=1/0,B=9007199254740991,Q=17976931348623157e292,U=NaN,K=4294967295,et=K-1,it=K>>>1,at=[["ary",M],["bind",w],["bindKey",O],["curry",A],["curryRight",_],["flip",ft],["partial",L],["partialRight",P],["rearg",nt]],st="[object Arguments]",gt="[object Array]",mt="[object AsyncFunction]",ct="[object Boolean]",yt="[object Date]",ce="[object DOMException]",Gt="[object Error]",De="[object Function]",Ge="[object GeneratorFunction]",jt="[object Map]",ee="[object Number]",Me="[object Null]",Ht="[object Object]",sn="[object Promise]",wt="[object Proxy]",$t="[object RegExp]",kt="[object Set]",ie="[object String]",un="[object Symbol]",cr="[object Undefined]",qn="[object WeakMap]",ke="[object WeakSet]",fr="[object ArrayBuffer]",ln="[object DataView]",Ce="[object Float32Array]",Te="[object Float64Array]",Ur="[object Int8Array]",Ae="[object Int16Array]",_i="[object Int32Array]",Hr="[object Uint8Array]",Oi="[object Uint8ClampedArray]",Wn="[object Uint16Array]",xe="[object Uint32Array]",Vn=/\b__p \+= '';/g,kn=/\b(__p \+=) '' \+/g,Re=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Si=/&(?:amp|lt|gt|quot|#39);/g,Ei=/[&<>"']/g,Cn=RegExp(Si.source),ne=RegExp(Ei.source),Zt=/<%-([\s\S]+?)%>/g,Qt=/<%([\s\S]+?)%>/g,hr=/<%=([\s\S]+?)%>/g,Yn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dr=/^\w*$/,Di=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gr=/[\\^$.*+?()[\]{}|]/g,pr=RegExp(gr.source),Ne=/^\s+/,da=/\s/,ki=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qr=/\{\n\/\* \[wrapped with (.+)\] \*/,Ci=/,? & /,vr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mr=/[()=,{}\[\]\/\s]/,Tn=/\\(\\)?/g,yr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ti=/\w*$/,Ai=/^[-+]0x[0-9a-f]+$/i,Gn=/^0b[01]+$/i,fo=/^\[object .+?Constructor\]$/,Wr=/^0o[0-7]+$/i,br=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Vr=/($^)/,ho=/['\n\r\u2028\u2029\\]/g,wr="\\ud800-\\udfff",xr="\\u0300-\\u036f",go="\\ufe20-\\ufe2f",ga="\\u20d0-\\u20ff",Kn=xr+go+ga,Ri="\\u2700-\\u27bf",po="a-z\\xdf-\\xf6\\xf8-\\xff",cn="\\xac\\xb1\\xd7\\xf7",An="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ni="\\u2000-\\u206f",vo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rn="A-Z\\xc0-\\xd6\\xd8-\\xde",Zn="\\ufe0e\\ufe0f",Yr=cn+An+Ni+vo,Qn="['\u2019]",Nn="["+wr+"]",mo="["+Yr+"]",Gr="["+Kn+"]",yo="\\d+",bo="["+Ri+"]",wo="["+po+"]",xo="[^"+wr+Yr+yo+Ri+po+Rn+"]",$i="\\ud83c[\\udffb-\\udfff]",_o="(?:"+Gr+"|"+$i+")",Oo="[^"+wr+"]",Ii="(?:\\ud83c[\\udde6-\\uddff]){2}",Kr="[\\ud800-\\udbff][\\udc00-\\udfff]",he="["+Rn+"]",Pi="\\u200d",Jn="(?:"+wo+"|"+xo+")",tr="(?:"+he+"|"+xo+")",_r="(?:"+Qn+"(?:d|ll|m|re|s|t|ve))?",ji="(?:"+Qn+"(?:D|LL|M|RE|S|T|VE))?",Or=_o+"?",Li="["+Zn+"]?",Mi="(?:"+Pi+"(?:"+[Oo,Ii,Kr].join("|")+")"+Li+Or+")*",So="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Eo=Li+Or+Mi,va="(?:"+[bo,Ii,Kr].join("|")+")"+Eo,fc="(?:"+[Oo+Gr+"?",Gr,Ii,Kr,Nn].join("|")+")",ut=RegExp(Qn,"g"),At=RegExp(Gr,"g"),fe=RegExp($i+"(?="+$i+")|"+fc+Eo,"g"),de=RegExp([he+"?"+wo+"+"+_r+"(?="+[mo,he,"$"].join("|")+")",tr+"+"+ji+"(?="+[mo,he+Jn,"$"].join("|")+")",he+"?"+Jn+"+"+_r,he+"+"+ji,pa,So,yo,va].join("|"),"g"),Jt=RegExp("["+Pi+wr+Kn+Zn+"]"),Do=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ma=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xs=-1,Ft={};Ft[Ce]=Ft[Te]=Ft[Ur]=Ft[Ae]=Ft[_i]=Ft[Hr]=Ft[Oi]=Ft[Wn]=Ft[xe]=!0,Ft[st]=Ft[gt]=Ft[fr]=Ft[ct]=Ft[ln]=Ft[yt]=Ft[Gt]=Ft[De]=Ft[jt]=Ft[ee]=Ft[Ht]=Ft[$t]=Ft[kt]=Ft[ie]=Ft[qn]=!1;var Wt={};Wt[st]=Wt[gt]=Wt[fr]=Wt[ln]=Wt[ct]=Wt[yt]=Wt[Ce]=Wt[Te]=Wt[Ur]=Wt[Ae]=Wt[_i]=Wt[jt]=Wt[ee]=Wt[Ht]=Wt[$t]=Wt[kt]=Wt[ie]=Wt[un]=Wt[Hr]=Wt[Oi]=Wt[Wn]=Wt[xe]=!0,Wt[Gt]=Wt[De]=Wt[qn]=!1;var oE={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},aE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sE={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},uE={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lE=parseFloat,cE=parseInt,Zg=typeof Ue=="object"&&Ue&&Ue.Object===Object&&Ue,fE=typeof self=="object"&&self&&self.Object===Object&&self,ye=Zg||fE||Function("return this")(),hc=e&&!e.nodeType&&e,zi=hc&&!0&&t&&!t.nodeType&&t,Qg=zi&&zi.exports===hc,dc=Qg&&Zg.process,fn=function(){try{var R=zi&&zi.require&&zi.require("util").types;return R||dc&&dc.binding&&dc.binding("util")}catch(H){}}(),Jg=fn&&fn.isArrayBuffer,tp=fn&&fn.isDate,ep=fn&&fn.isMap,np=fn&&fn.isRegExp,rp=fn&&fn.isSet,ip=fn&&fn.isTypedArray;function Ke(R,H,z){switch(z.length){case 0:return R.call(H);case 1:return R.call(H,z[0]);case 2:return R.call(H,z[0],z[1]);case 3:return R.call(H,z[0],z[1],z[2])}return R.apply(H,z)}function hE(R,H,z,lt){for(var xt=-1,Lt=R==null?0:R.length;++xt<Lt;){var ge=R[xt];H(lt,ge,z(ge),R)}return lt}function hn(R,H){for(var z=-1,lt=R==null?0:R.length;++z<lt&&H(R[z],z,R)!==!1;);return R}function dE(R,H){for(var z=R==null?0:R.length;z--&&H(R[z],z,R)!==!1;);return R}function op(R,H){for(var z=-1,lt=R==null?0:R.length;++z<lt;)if(!H(R[z],z,R))return!1;return!0}function Zr(R,H){for(var z=-1,lt=R==null?0:R.length,xt=0,Lt=[];++z<lt;){var ge=R[z];H(ge,z,R)&&(Lt[xt++]=ge)}return Lt}function Us(R,H){var z=R==null?0:R.length;return!!z&&ko(R,H,0)>-1}function gc(R,H,z){for(var lt=-1,xt=R==null?0:R.length;++lt<xt;)if(z(H,R[lt]))return!0;return!1}function Kt(R,H){for(var z=-1,lt=R==null?0:R.length,xt=Array(lt);++z<lt;)xt[z]=H(R[z],z,R);return xt}function Qr(R,H){for(var z=-1,lt=H.length,xt=R.length;++z<lt;)R[xt+z]=H[z];return R}function pc(R,H,z,lt){var xt=-1,Lt=R==null?0:R.length;for(lt&&Lt&&(z=R[++xt]);++xt<Lt;)z=H(z,R[xt],xt,R);return z}function gE(R,H,z,lt){var xt=R==null?0:R.length;for(lt&&xt&&(z=R[--xt]);xt--;)z=H(z,R[xt],xt,R);return z}function vc(R,H){for(var z=-1,lt=R==null?0:R.length;++z<lt;)if(H(R[z],z,R))return!0;return!1}var pE=mc("length");function vE(R){return R.split("")}function mE(R){return R.match(vr)||[]}function ap(R,H,z){var lt;return z(R,function(xt,Lt,ge){if(H(xt,Lt,ge))return lt=Lt,!1}),lt}function Hs(R,H,z,lt){for(var xt=R.length,Lt=z+(lt?1:-1);lt?Lt--:++Lt<xt;)if(H(R[Lt],Lt,R))return Lt;return-1}function ko(R,H,z){return H===H?TE(R,H,z):Hs(R,sp,z)}function yE(R,H,z,lt){for(var xt=z-1,Lt=R.length;++xt<Lt;)if(lt(R[xt],H))return xt;return-1}function sp(R){return R!==R}function up(R,H){var z=R==null?0:R.length;return z?bc(R,H)/z:U}function mc(R){return function(H){return H==null?n:H[R]}}function yc(R){return function(H){return R==null?n:R[H]}}function lp(R,H,z,lt,xt){return xt(R,function(Lt,ge,qt){z=lt?(lt=!1,Lt):H(z,Lt,ge,qt)}),z}function bE(R,H){var z=R.length;for(R.sort(H);z--;)R[z]=R[z].value;return R}function bc(R,H){for(var z,lt=-1,xt=R.length;++lt<xt;){var Lt=H(R[lt]);Lt!==n&&(z=z===n?Lt:z+Lt)}return z}function wc(R,H){for(var z=-1,lt=Array(R);++z<R;)lt[z]=H(z);return lt}function wE(R,H){return Kt(H,function(z){return[z,R[z]]})}function cp(R){return R&&R.slice(0,gp(R)+1).replace(Ne,"")}function Ze(R){return function(H){return R(H)}}function xc(R,H){return Kt(H,function(z){return R[z]})}function ya(R,H){return R.has(H)}function fp(R,H){for(var z=-1,lt=R.length;++z<lt&&ko(H,R[z],0)>-1;);return z}function hp(R,H){for(var z=R.length;z--&&ko(H,R[z],0)>-1;);return z}function xE(R,H){for(var z=R.length,lt=0;z--;)R[z]===H&&++lt;return lt}var _E=yc(oE),OE=yc(aE);function SE(R){return"\\"+uE[R]}function EE(R,H){return R==null?n:R[H]}function Co(R){return Jt.test(R)}function DE(R){return Do.test(R)}function kE(R){for(var H,z=[];!(H=R.next()).done;)z.push(H.value);return z}function _c(R){var H=-1,z=Array(R.size);return R.forEach(function(lt,xt){z[++H]=[xt,lt]}),z}function dp(R,H){return function(z){return R(H(z))}}function Jr(R,H){for(var z=-1,lt=R.length,xt=0,Lt=[];++z<lt;){var ge=R[z];(ge===H||ge===g)&&(R[z]=g,Lt[xt++]=z)}return Lt}function qs(R){var H=-1,z=Array(R.size);return R.forEach(function(lt){z[++H]=lt}),z}function CE(R){var H=-1,z=Array(R.size);return R.forEach(function(lt){z[++H]=[lt,lt]}),z}function TE(R,H,z){for(var lt=z-1,xt=R.length;++lt<xt;)if(R[lt]===H)return lt;return-1}function AE(R,H,z){for(var lt=z+1;lt--;)if(R[lt]===H)return lt;return lt}function To(R){return Co(R)?NE(R):pE(R)}function $n(R){return Co(R)?$E(R):vE(R)}function gp(R){for(var H=R.length;H--&&da.test(R.charAt(H)););return H}var RE=yc(sE);function NE(R){for(var H=fe.lastIndex=0;fe.test(R);)++H;return H}function $E(R){return R.match(fe)||[]}function IE(R){return R.match(de)||[]}var PE=function R(H){H=H==null?ye:Ao.defaults(ye.Object(),H,Ao.pick(ye,ma));var z=H.Array,lt=H.Date,xt=H.Error,Lt=H.Function,ge=H.Math,qt=H.Object,Oc=H.RegExp,jE=H.String,dn=H.TypeError,Ws=z.prototype,LE=Lt.prototype,Ro=qt.prototype,Vs=H["__core-js_shared__"],Ys=LE.toString,Xt=Ro.hasOwnProperty,ME=0,pp=function(){var r=/[^.]+$/.exec(Vs&&Vs.keys&&Vs.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Gs=Ro.toString,zE=Ys.call(qt),FE=ye._,BE=Oc("^"+Ys.call(Xt).replace(gr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ks=Qg?H.Buffer:n,ti=H.Symbol,Zs=H.Uint8Array,vp=Ks?Ks.allocUnsafe:n,Qs=dp(qt.getPrototypeOf,qt),mp=qt.create,yp=Ro.propertyIsEnumerable,Js=Ws.splice,bp=ti?ti.isConcatSpreadable:n,ba=ti?ti.iterator:n,Fi=ti?ti.toStringTag:n,tu=function(){try{var r=qi(qt,"defineProperty");return r({},"",{}),r}catch(o){}}(),XE=H.clearTimeout!==ye.clearTimeout&&H.clearTimeout,UE=lt&&lt.now!==ye.Date.now&&lt.now,HE=H.setTimeout!==ye.setTimeout&&H.setTimeout,eu=ge.ceil,nu=ge.floor,Sc=qt.getOwnPropertySymbols,qE=Ks?Ks.isBuffer:n,wp=H.isFinite,WE=Ws.join,VE=dp(qt.keys,qt),pe=ge.max,Oe=ge.min,YE=lt.now,GE=H.parseInt,xp=ge.random,KE=Ws.reverse,Ec=qi(H,"DataView"),wa=qi(H,"Map"),Dc=qi(H,"Promise"),No=qi(H,"Set"),xa=qi(H,"WeakMap"),_a=qi(qt,"create"),ru=xa&&new xa,$o={},ZE=Wi(Ec),QE=Wi(wa),JE=Wi(Dc),t2=Wi(No),e2=Wi(xa),iu=ti?ti.prototype:n,Oa=iu?iu.valueOf:n,_p=iu?iu.toString:n;function y(r){if(re(r)&&!_t(r)&&!(r instanceof Rt)){if(r instanceof gn)return r;if(Xt.call(r,"__wrapped__"))return Ov(r)}return new gn(r)}var Io=function(){function r(){}return function(o){if(!te(o))return{};if(mp)return mp(o);r.prototype=o;var u=new r;return r.prototype=n,u}}();function ou(){}function gn(r,o){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}y.templateSettings={escape:Zt,evaluate:Qt,interpolate:hr,variable:"",imports:{_:y}},y.prototype=ou.prototype,y.prototype.constructor=y,gn.prototype=Io(ou.prototype),gn.prototype.constructor=gn;function Rt(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=K,this.__views__=[]}function n2(){var r=new Rt(this.__wrapped__);return r.__actions__=ze(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=ze(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=ze(this.__views__),r}function r2(){if(this.__filtered__){var r=new Rt(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function i2(){var r=this.__wrapped__.value(),o=this.__dir__,u=_t(r),f=o<0,v=u?r.length:0,x=vD(0,v,this.__views__),D=x.start,T=x.end,$=T-D,W=f?T:D-1,V=this.__iteratees__,Z=V.length,ot=0,ht=Oe($,this.__takeCount__);if(!u||!f&&v==$&&ht==$)return Wp(r,this.__actions__);var pt=[];t:for(;$--&&ot<ht;){W+=o;for(var Dt=-1,vt=r[W];++Dt<Z;){var Tt=V[Dt],Nt=Tt.iteratee,tn=Tt.type,Pe=Nt(vt);if(tn==j)vt=Pe;else if(!Pe){if(tn==C)continue t;break t}}pt[ot++]=vt}return pt}Rt.prototype=Io(ou.prototype),Rt.prototype.constructor=Rt;function Bi(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var f=r[o];this.set(f[0],f[1])}}function o2(){this.__data__=_a?_a(null):{},this.size=0}function a2(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o}function s2(r){var o=this.__data__;if(_a){var u=o[r];return u===h?n:u}return Xt.call(o,r)?o[r]:n}function u2(r){var o=this.__data__;return _a?o[r]!==n:Xt.call(o,r)}function l2(r,o){var u=this.__data__;return this.size+=this.has(r)?0:1,u[r]=_a&&o===n?h:o,this}Bi.prototype.clear=o2,Bi.prototype.delete=a2,Bi.prototype.get=s2,Bi.prototype.has=u2,Bi.prototype.set=l2;function Sr(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var f=r[o];this.set(f[0],f[1])}}function c2(){this.__data__=[],this.size=0}function f2(r){var o=this.__data__,u=au(o,r);if(u<0)return!1;var f=o.length-1;return u==f?o.pop():Js.call(o,u,1),--this.size,!0}function h2(r){var o=this.__data__,u=au(o,r);return u<0?n:o[u][1]}function d2(r){return au(this.__data__,r)>-1}function g2(r,o){var u=this.__data__,f=au(u,r);return f<0?(++this.size,u.push([r,o])):u[f][1]=o,this}Sr.prototype.clear=c2,Sr.prototype.delete=f2,Sr.prototype.get=h2,Sr.prototype.has=d2,Sr.prototype.set=g2;function Er(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var f=r[o];this.set(f[0],f[1])}}function p2(){this.size=0,this.__data__={hash:new Bi,map:new(wa||Sr),string:new Bi}}function v2(r){var o=yu(this,r).delete(r);return this.size-=o?1:0,o}function m2(r){return yu(this,r).get(r)}function y2(r){return yu(this,r).has(r)}function b2(r,o){var u=yu(this,r),f=u.size;return u.set(r,o),this.size+=u.size==f?0:1,this}Er.prototype.clear=p2,Er.prototype.delete=v2,Er.prototype.get=m2,Er.prototype.has=y2,Er.prototype.set=b2;function Xi(r){var o=-1,u=r==null?0:r.length;for(this.__data__=new Er;++o<u;)this.add(r[o])}function w2(r){return this.__data__.set(r,h),this}function x2(r){return this.__data__.has(r)}Xi.prototype.add=Xi.prototype.push=w2,Xi.prototype.has=x2;function In(r){var o=this.__data__=new Sr(r);this.size=o.size}function _2(){this.__data__=new Sr,this.size=0}function O2(r){var o=this.__data__,u=o.delete(r);return this.size=o.size,u}function S2(r){return this.__data__.get(r)}function E2(r){return this.__data__.has(r)}function D2(r,o){var u=this.__data__;if(u instanceof Sr){var f=u.__data__;if(!wa||f.length<a-1)return f.push([r,o]),this.size=++u.size,this;u=this.__data__=new Er(f)}return u.set(r,o),this.size=u.size,this}In.prototype.clear=_2,In.prototype.delete=O2,In.prototype.get=S2,In.prototype.has=E2,In.prototype.set=D2;function Op(r,o){var u=_t(r),f=!u&&Vi(r),v=!u&&!f&&oi(r),x=!u&&!f&&!v&&Mo(r),D=u||f||v||x,T=D?wc(r.length,jE):[],$=T.length;for(var W in r)(o||Xt.call(r,W))&&!(D&&(W=="length"||v&&(W=="offset"||W=="parent")||x&&(W=="buffer"||W=="byteLength"||W=="byteOffset")||Tr(W,$)))&&T.push(W);return T}function Sp(r){var o=r.length;return o?r[Lc(0,o-1)]:n}function k2(r,o){return bu(ze(r),Ui(o,0,r.length))}function C2(r){return bu(ze(r))}function kc(r,o,u){(u!==n&&!Pn(r[o],u)||u===n&&!(o in r))&&Dr(r,o,u)}function Sa(r,o,u){var f=r[o];(!(Xt.call(r,o)&&Pn(f,u))||u===n&&!(o in r))&&Dr(r,o,u)}function au(r,o){for(var u=r.length;u--;)if(Pn(r[u][0],o))return u;return-1}function T2(r,o,u,f){return ei(r,function(v,x,D){o(f,v,u(v),D)}),f}function Ep(r,o){return r&&nr(o,ve(o),r)}function A2(r,o){return r&&nr(o,Be(o),r)}function Dr(r,o,u){o=="__proto__"&&tu?tu(r,o,{configurable:!0,enumerable:!0,value:u,writable:!0}):r[o]=u}function Cc(r,o){for(var u=-1,f=o.length,v=z(f),x=r==null;++u<f;)v[u]=x?n:lf(r,o[u]);return v}function Ui(r,o,u){return r===r&&(u!==n&&(r=r<=u?r:u),o!==n&&(r=r>=o?r:o)),r}function pn(r,o,u,f,v,x){var D,T=o&m,$=o&p,W=o&b;if(u&&(D=v?u(r,f,v,x):u(r)),D!==n)return D;if(!te(r))return r;var V=_t(r);if(V){if(D=yD(r),!T)return ze(r,D)}else{var Z=Se(r),ot=Z==De||Z==Ge;if(oi(r))return Gp(r,T);if(Z==Ht||Z==st||ot&&!v){if(D=$||ot?{}:gv(r),!T)return $?sD(r,A2(D,r)):aD(r,Ep(D,r))}else{if(!Wt[Z])return v?r:{};D=bD(r,Z,T)}}x||(x=new In);var ht=x.get(r);if(ht)return ht;x.set(r,D),Uv(r)?r.forEach(function(vt){D.add(pn(vt,o,u,vt,r,x))}):Bv(r)&&r.forEach(function(vt,Tt){D.set(Tt,pn(vt,o,u,Tt,r,x))});var pt=W?$?Yc:Vc:$?Be:ve,Dt=V?n:pt(r);return hn(Dt||r,function(vt,Tt){Dt&&(Tt=vt,vt=r[Tt]),Sa(D,Tt,pn(vt,o,u,Tt,r,x))}),D}function R2(r){var o=ve(r);return function(u){return Dp(u,r,o)}}function Dp(r,o,u){var f=u.length;if(r==null)return!f;for(r=qt(r);f--;){var v=u[f],x=o[v],D=r[v];if(D===n&&!(v in r)||!x(D))return!1}return!0}function kp(r,o,u){if(typeof r!="function")throw new dn(l);return Ra(function(){r.apply(n,u)},o)}function Ea(r,o,u,f){var v=-1,x=Us,D=!0,T=r.length,$=[],W=o.length;if(!T)return $;u&&(o=Kt(o,Ze(u))),f?(x=gc,D=!1):o.length>=a&&(x=ya,D=!1,o=new Xi(o));t:for(;++v<T;){var V=r[v],Z=u==null?V:u(V);if(V=f||V!==0?V:0,D&&Z===Z){for(var ot=W;ot--;)if(o[ot]===Z)continue t;$.push(V)}else x(o,Z,f)||$.push(V)}return $}var ei=tv(er),Cp=tv(Ac,!0);function N2(r,o){var u=!0;return ei(r,function(f,v,x){return u=!!o(f,v,x),u}),u}function su(r,o,u){for(var f=-1,v=r.length;++f<v;){var x=r[f],D=o(x);if(D!=null&&(T===n?D===D&&!Je(D):u(D,T)))var T=D,$=x}return $}function $2(r,o,u,f){var v=r.length;for(u=St(u),u<0&&(u=-u>v?0:v+u),f=f===n||f>v?v:St(f),f<0&&(f+=v),f=u>f?0:qv(f);u<f;)r[u++]=o;return r}function Tp(r,o){var u=[];return ei(r,function(f,v,x){o(f,v,x)&&u.push(f)}),u}function be(r,o,u,f,v){var x=-1,D=r.length;for(u||(u=xD),v||(v=[]);++x<D;){var T=r[x];o>0&&u(T)?o>1?be(T,o-1,u,f,v):Qr(v,T):f||(v[v.length]=T)}return v}var Tc=ev(),Ap=ev(!0);function er(r,o){return r&&Tc(r,o,ve)}function Ac(r,o){return r&&Ap(r,o,ve)}function uu(r,o){return Zr(o,function(u){return Ar(r[u])})}function Hi(r,o){o=ri(o,r);for(var u=0,f=o.length;r!=null&&u<f;)r=r[rr(o[u++])];return u&&u==f?r:n}function Rp(r,o,u){var f=o(r);return _t(r)?f:Qr(f,u(r))}function $e(r){return r==null?r===n?cr:Me:Fi&&Fi in qt(r)?pD(r):CD(r)}function Rc(r,o){return r>o}function I2(r,o){return r!=null&&Xt.call(r,o)}function P2(r,o){return r!=null&&o in qt(r)}function j2(r,o,u){return r>=Oe(o,u)&&r<pe(o,u)}function Nc(r,o,u){for(var f=u?gc:Us,v=r[0].length,x=r.length,D=x,T=z(x),$=1/0,W=[];D--;){var V=r[D];D&&o&&(V=Kt(V,Ze(o))),$=Oe(V.length,$),T[D]=!u&&(o||v>=120&&V.length>=120)?new Xi(D&&V):n}V=r[0];var Z=-1,ot=T[0];t:for(;++Z<v&&W.length<$;){var ht=V[Z],pt=o?o(ht):ht;if(ht=u||ht!==0?ht:0,!(ot?ya(ot,pt):f(W,pt,u))){for(D=x;--D;){var Dt=T[D];if(!(Dt?ya(Dt,pt):f(r[D],pt,u)))continue t}ot&&ot.push(pt),W.push(ht)}}return W}function L2(r,o,u,f){return er(r,function(v,x,D){o(f,u(v),x,D)}),f}function Da(r,o,u){o=ri(o,r),r=yv(r,o);var f=r==null?r:r[rr(mn(o))];return f==null?n:Ke(f,r,u)}function Np(r){return re(r)&&$e(r)==st}function M2(r){return re(r)&&$e(r)==fr}function z2(r){return re(r)&&$e(r)==yt}function ka(r,o,u,f,v){return r===o?!0:r==null||o==null||!re(r)&&!re(o)?r!==r&&o!==o:F2(r,o,u,f,ka,v)}function F2(r,o,u,f,v,x){var D=_t(r),T=_t(o),$=D?gt:Se(r),W=T?gt:Se(o);$=$==st?Ht:$,W=W==st?Ht:W;var V=$==Ht,Z=W==Ht,ot=$==W;if(ot&&oi(r)){if(!oi(o))return!1;D=!0,V=!1}if(ot&&!V)return x||(x=new In),D||Mo(r)?fv(r,o,u,f,v,x):dD(r,o,$,u,f,v,x);if(!(u&E)){var ht=V&&Xt.call(r,"__wrapped__"),pt=Z&&Xt.call(o,"__wrapped__");if(ht||pt){var Dt=ht?r.value():r,vt=pt?o.value():o;return x||(x=new In),v(Dt,vt,u,f,x)}}return ot?(x||(x=new In),gD(r,o,u,f,v,x)):!1}function B2(r){return re(r)&&Se(r)==jt}function $c(r,o,u,f){var v=u.length,x=v,D=!f;if(r==null)return!x;for(r=qt(r);v--;){var T=u[v];if(D&&T[2]?T[1]!==r[T[0]]:!(T[0]in r))return!1}for(;++v<x;){T=u[v];var $=T[0],W=r[$],V=T[1];if(D&&T[2]){if(W===n&&!($ in r))return!1}else{var Z=new In;if(f)var ot=f(W,V,$,r,o,Z);if(!(ot===n?ka(V,W,E|k,f,Z):ot))return!1}}return!0}function $p(r){if(!te(r)||OD(r))return!1;var o=Ar(r)?BE:fo;return o.test(Wi(r))}function X2(r){return re(r)&&$e(r)==$t}function U2(r){return re(r)&&Se(r)==kt}function H2(r){return re(r)&&Eu(r.length)&&!!Ft[$e(r)]}function Ip(r){return typeof r=="function"?r:r==null?Xe:typeof r=="object"?_t(r)?Lp(r[0],r[1]):jp(r):n0(r)}function Ic(r){if(!Aa(r))return VE(r);var o=[];for(var u in qt(r))Xt.call(r,u)&&u!="constructor"&&o.push(u);return o}function q2(r){if(!te(r))return kD(r);var o=Aa(r),u=[];for(var f in r)f=="constructor"&&(o||!Xt.call(r,f))||u.push(f);return u}function Pc(r,o){return r<o}function Pp(r,o){var u=-1,f=Fe(r)?z(r.length):[];return ei(r,function(v,x,D){f[++u]=o(v,x,D)}),f}function jp(r){var o=Kc(r);return o.length==1&&o[0][2]?vv(o[0][0],o[0][1]):function(u){return u===r||$c(u,r,o)}}function Lp(r,o){return Qc(r)&&pv(o)?vv(rr(r),o):function(u){var f=lf(u,r);return f===n&&f===o?cf(u,r):ka(o,f,E|k)}}function lu(r,o,u,f,v){r!==o&&Tc(o,function(x,D){if(v||(v=new In),te(x))W2(r,o,D,u,lu,f,v);else{var T=f?f(tf(r,D),x,D+"",r,o,v):n;T===n&&(T=x),kc(r,D,T)}},Be)}function W2(r,o,u,f,v,x,D){var T=tf(r,u),$=tf(o,u),W=D.get($);if(W){kc(r,u,W);return}var V=x?x(T,$,u+"",r,o,D):n,Z=V===n;if(Z){var ot=_t($),ht=!ot&&oi($),pt=!ot&&!ht&&Mo($);V=$,ot||ht||pt?_t(T)?V=T:oe(T)?V=ze(T):ht?(Z=!1,V=Gp($,!0)):pt?(Z=!1,V=Kp($,!0)):V=[]:Na($)||Vi($)?(V=T,Vi(T)?V=Wv(T):(!te(T)||Ar(T))&&(V=gv($))):Z=!1}Z&&(D.set($,V),v(V,$,f,x,D),D.delete($)),kc(r,u,V)}function Mp(r,o){var u=r.length;if(u)return o+=o<0?u:0,Tr(o,u)?r[o]:n}function zp(r,o,u){o.length?o=Kt(o,function(x){return _t(x)?function(D){return Hi(D,x.length===1?x[0]:x)}:x}):o=[Xe];var f=-1;o=Kt(o,Ze(dt()));var v=Pp(r,function(x,D,T){var $=Kt(o,function(W){return W(x)});return{criteria:$,index:++f,value:x}});return bE(v,function(x,D){return oD(x,D,u)})}function V2(r,o){return Fp(r,o,function(u,f){return cf(r,f)})}function Fp(r,o,u){for(var f=-1,v=o.length,x={};++f<v;){var D=o[f],T=Hi(r,D);u(T,D)&&Ca(x,ri(D,r),T)}return x}function Y2(r){return function(o){return Hi(o,r)}}function jc(r,o,u,f){var v=f?yE:ko,x=-1,D=o.length,T=r;for(r===o&&(o=ze(o)),u&&(T=Kt(r,Ze(u)));++x<D;)for(var $=0,W=o[x],V=u?u(W):W;($=v(T,V,$,f))>-1;)T!==r&&Js.call(T,$,1),Js.call(r,$,1);return r}function Bp(r,o){for(var u=r?o.length:0,f=u-1;u--;){var v=o[u];if(u==f||v!==x){var x=v;Tr(v)?Js.call(r,v,1):Fc(r,v)}}return r}function Lc(r,o){return r+nu(xp()*(o-r+1))}function G2(r,o,u,f){for(var v=-1,x=pe(eu((o-r)/(u||1)),0),D=z(x);x--;)D[f?x:++v]=r,r+=u;return D}function Mc(r,o){var u="";if(!r||o<1||o>B)return u;do o%2&&(u+=r),o=nu(o/2),o&&(r+=r);while(o);return u}function Ct(r,o){return ef(mv(r,o,Xe),r+"")}function K2(r){return Sp(zo(r))}function Z2(r,o){var u=zo(r);return bu(u,Ui(o,0,u.length))}function Ca(r,o,u,f){if(!te(r))return r;o=ri(o,r);for(var v=-1,x=o.length,D=x-1,T=r;T!=null&&++v<x;){var $=rr(o[v]),W=u;if($==="__proto__"||$==="constructor"||$==="prototype")return r;if(v!=D){var V=T[$];W=f?f(V,$,T):n,W===n&&(W=te(V)?V:Tr(o[v+1])?[]:{})}Sa(T,$,W),T=T[$]}return r}var Xp=ru?function(r,o){return ru.set(r,o),r}:Xe,Q2=tu?function(r,o){return tu(r,"toString",{configurable:!0,enumerable:!1,value:hf(o),writable:!0})}:Xe;function J2(r){return bu(zo(r))}function vn(r,o,u){var f=-1,v=r.length;o<0&&(o=-o>v?0:v+o),u=u>v?v:u,u<0&&(u+=v),v=o>u?0:u-o>>>0,o>>>=0;for(var x=z(v);++f<v;)x[f]=r[f+o];return x}function tD(r,o){var u;return ei(r,function(f,v,x){return u=o(f,v,x),!u}),!!u}function cu(r,o,u){var f=0,v=r==null?f:r.length;if(typeof o=="number"&&o===o&&v<=it){for(;f<v;){var x=f+v>>>1,D=r[x];D!==null&&!Je(D)&&(u?D<=o:D<o)?f=x+1:v=x}return v}return zc(r,o,Xe,u)}function zc(r,o,u,f){var v=0,x=r==null?0:r.length;if(x===0)return 0;o=u(o);for(var D=o!==o,T=o===null,$=Je(o),W=o===n;v<x;){var V=nu((v+x)/2),Z=u(r[V]),ot=Z!==n,ht=Z===null,pt=Z===Z,Dt=Je(Z);if(D)var vt=f||pt;else W?vt=pt&&(f||ot):T?vt=pt&&ot&&(f||!ht):$?vt=pt&&ot&&!ht&&(f||!Dt):ht||Dt?vt=!1:vt=f?Z<=o:Z<o;vt?v=V+1:x=V}return Oe(x,et)}function Up(r,o){for(var u=-1,f=r.length,v=0,x=[];++u<f;){var D=r[u],T=o?o(D):D;if(!u||!Pn(T,$)){var $=T;x[v++]=D===0?0:D}}return x}function Hp(r){return typeof r=="number"?r:Je(r)?U:+r}function Qe(r){if(typeof r=="string")return r;if(_t(r))return Kt(r,Qe)+"";if(Je(r))return _p?_p.call(r):"";var o=r+"";return o=="0"&&1/r==-F?"-0":o}function ni(r,o,u){var f=-1,v=Us,x=r.length,D=!0,T=[],$=T;if(u)D=!1,v=gc;else if(x>=a){var W=o?null:fD(r);if(W)return qs(W);D=!1,v=ya,$=new Xi}else $=o?[]:T;t:for(;++f<x;){var V=r[f],Z=o?o(V):V;if(V=u||V!==0?V:0,D&&Z===Z){for(var ot=$.length;ot--;)if($[ot]===Z)continue t;o&&$.push(Z),T.push(V)}else v($,Z,u)||($!==T&&$.push(Z),T.push(V))}return T}function Fc(r,o){return o=ri(o,r),r=yv(r,o),r==null||delete r[rr(mn(o))]}function qp(r,o,u,f){return Ca(r,o,u(Hi(r,o)),f)}function fu(r,o,u,f){for(var v=r.length,x=f?v:-1;(f?x--:++x<v)&&o(r[x],x,r););return u?vn(r,f?0:x,f?x+1:v):vn(r,f?x+1:0,f?v:x)}function Wp(r,o){var u=r;return u instanceof Rt&&(u=u.value()),pc(o,function(f,v){return v.func.apply(v.thisArg,Qr([f],v.args))},u)}function Bc(r,o,u){var f=r.length;if(f<2)return f?ni(r[0]):[];for(var v=-1,x=z(f);++v<f;)for(var D=r[v],T=-1;++T<f;)T!=v&&(x[v]=Ea(x[v]||D,r[T],o,u));return ni(be(x,1),o,u)}function Vp(r,o,u){for(var f=-1,v=r.length,x=o.length,D={};++f<v;){var T=f<x?o[f]:n;u(D,r[f],T)}return D}function Xc(r){return oe(r)?r:[]}function Uc(r){return typeof r=="function"?r:Xe}function ri(r,o){return _t(r)?r:Qc(r,o)?[r]:_v(Bt(r))}var eD=Ct;function ii(r,o,u){var f=r.length;return u=u===n?f:u,!o&&u>=f?r:vn(r,o,u)}var Yp=XE||function(r){return ye.clearTimeout(r)};function Gp(r,o){if(o)return r.slice();var u=r.length,f=vp?vp(u):new r.constructor(u);return r.copy(f),f}function Hc(r){var o=new r.constructor(r.byteLength);return new Zs(o).set(new Zs(r)),o}function nD(r,o){var u=o?Hc(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.byteLength)}function rD(r){var o=new r.constructor(r.source,Ti.exec(r));return o.lastIndex=r.lastIndex,o}function iD(r){return Oa?qt(Oa.call(r)):{}}function Kp(r,o){var u=o?Hc(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.length)}function Zp(r,o){if(r!==o){var u=r!==n,f=r===null,v=r===r,x=Je(r),D=o!==n,T=o===null,$=o===o,W=Je(o);if(!T&&!W&&!x&&r>o||x&&D&&$&&!T&&!W||f&&D&&$||!u&&$||!v)return 1;if(!f&&!x&&!W&&r<o||W&&u&&v&&!f&&!x||T&&u&&v||!D&&v||!$)return-1}return 0}function oD(r,o,u){for(var f=-1,v=r.criteria,x=o.criteria,D=v.length,T=u.length;++f<D;){var $=Zp(v[f],x[f]);if($){if(f>=T)return $;var W=u[f];return $*(W=="desc"?-1:1)}}return r.index-o.index}function Qp(r,o,u,f){for(var v=-1,x=r.length,D=u.length,T=-1,$=o.length,W=pe(x-D,0),V=z($+W),Z=!f;++T<$;)V[T]=o[T];for(;++v<D;)(Z||v<x)&&(V[u[v]]=r[v]);for(;W--;)V[T++]=r[v++];return V}function Jp(r,o,u,f){for(var v=-1,x=r.length,D=-1,T=u.length,$=-1,W=o.length,V=pe(x-T,0),Z=z(V+W),ot=!f;++v<V;)Z[v]=r[v];for(var ht=v;++$<W;)Z[ht+$]=o[$];for(;++D<T;)(ot||v<x)&&(Z[ht+u[D]]=r[v++]);return Z}function ze(r,o){var u=-1,f=r.length;for(o||(o=z(f));++u<f;)o[u]=r[u];return o}function nr(r,o,u,f){var v=!u;u||(u={});for(var x=-1,D=o.length;++x<D;){var T=o[x],$=f?f(u[T],r[T],T,u,r):n;$===n&&($=r[T]),v?Dr(u,T,$):Sa(u,T,$)}return u}function aD(r,o){return nr(r,Zc(r),o)}function sD(r,o){return nr(r,hv(r),o)}function hu(r,o){return function(u,f){var v=_t(u)?hE:T2,x=o?o():{};return v(u,r,dt(f,2),x)}}function Po(r){return Ct(function(o,u){var f=-1,v=u.length,x=v>1?u[v-1]:n,D=v>2?u[2]:n;for(x=r.length>3&&typeof x=="function"?(v--,x):n,D&&Ie(u[0],u[1],D)&&(x=v<3?n:x,v=1),o=qt(o);++f<v;){var T=u[f];T&&r(o,T,f,x)}return o})}function tv(r,o){return function(u,f){if(u==null)return u;if(!Fe(u))return r(u,f);for(var v=u.length,x=o?v:-1,D=qt(u);(o?x--:++x<v)&&f(D[x],x,D)!==!1;);return u}}function ev(r){return function(o,u,f){for(var v=-1,x=qt(o),D=f(o),T=D.length;T--;){var $=D[r?T:++v];if(u(x[$],$,x)===!1)break}return o}}function uD(r,o,u){var f=o&w,v=Ta(r);function x(){var D=this&&this!==ye&&this instanceof x?v:r;return D.apply(f?u:this,arguments)}return x}function nv(r){return function(o){o=Bt(o);var u=Co(o)?$n(o):n,f=u?u[0]:o.charAt(0),v=u?ii(u,1).join(""):o.slice(1);return f[r]()+v}}function jo(r){return function(o){return pc(t0(Jv(o).replace(ut,"")),r,"")}}function Ta(r){return function(){var o=arguments;switch(o.length){case 0:return new r;case 1:return new r(o[0]);case 2:return new r(o[0],o[1]);case 3:return new r(o[0],o[1],o[2]);case 4:return new r(o[0],o[1],o[2],o[3]);case 5:return new r(o[0],o[1],o[2],o[3],o[4]);case 6:return new r(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new r(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var u=Io(r.prototype),f=r.apply(u,o);return te(f)?f:u}}function lD(r,o,u){var f=Ta(r);function v(){for(var x=arguments.length,D=z(x),T=x,$=Lo(v);T--;)D[T]=arguments[T];var W=x<3&&D[0]!==$&&D[x-1]!==$?[]:Jr(D,$);if(x-=W.length,x<u)return sv(r,o,du,v.placeholder,n,D,W,n,n,u-x);var V=this&&this!==ye&&this instanceof v?f:r;return Ke(V,this,D)}return v}function rv(r){return function(o,u,f){var v=qt(o);if(!Fe(o)){var x=dt(u,3);o=ve(o),u=function(T){return x(v[T],T,v)}}var D=r(o,u,f);return D>-1?v[x?o[D]:D]:n}}function iv(r){return Cr(function(o){var u=o.length,f=u,v=gn.prototype.thru;for(r&&o.reverse();f--;){var x=o[f];if(typeof x!="function")throw new dn(l);if(v&&!D&&mu(x)=="wrapper")var D=new gn([],!0)}for(f=D?f:u;++f<u;){x=o[f];var T=mu(x),$=T=="wrapper"?Gc(x):n;$&&Jc($[0])&&$[1]==(M|A|L|nt)&&!$[4].length&&$[9]==1?D=D[mu($[0])].apply(D,$[3]):D=x.length==1&&Jc(x)?D[T]():D.thru(x)}return function(){var W=arguments,V=W[0];if(D&&W.length==1&&_t(V))return D.plant(V).value();for(var Z=0,ot=u?o[Z].apply(this,W):V;++Z<u;)ot=o[Z].call(this,ot);return ot}})}function du(r,o,u,f,v,x,D,T,$,W){var V=o&M,Z=o&w,ot=o&O,ht=o&(A|_),pt=o&ft,Dt=ot?n:Ta(r);function vt(){for(var Tt=arguments.length,Nt=z(Tt),tn=Tt;tn--;)Nt[tn]=arguments[tn];if(ht)var Pe=Lo(vt),en=xE(Nt,Pe);if(f&&(Nt=Qp(Nt,f,v,ht)),x&&(Nt=Jp(Nt,x,D,ht)),Tt-=en,ht&&Tt<W){var ae=Jr(Nt,Pe);return sv(r,o,du,vt.placeholder,u,Nt,ae,T,$,W-Tt)}var jn=Z?u:this,Nr=ot?jn[r]:r;return Tt=Nt.length,T?Nt=TD(Nt,T):pt&&Tt>1&&Nt.reverse(),V&&$<Tt&&(Nt.length=$),this&&this!==ye&&this instanceof vt&&(Nr=Dt||Ta(Nr)),Nr.apply(jn,Nt)}return vt}function ov(r,o){return function(u,f){return L2(u,r,o(f),{})}}function gu(r,o){return function(u,f){var v;if(u===n&&f===n)return o;if(u!==n&&(v=u),f!==n){if(v===n)return f;typeof u=="string"||typeof f=="string"?(u=Qe(u),f=Qe(f)):(u=Hp(u),f=Hp(f)),v=r(u,f)}return v}}function qc(r){return Cr(function(o){return o=Kt(o,Ze(dt())),Ct(function(u){var f=this;return r(o,function(v){return Ke(v,f,u)})})})}function pu(r,o){o=o===n?" ":Qe(o);var u=o.length;if(u<2)return u?Mc(o,r):o;var f=Mc(o,eu(r/To(o)));return Co(o)?ii($n(f),0,r).join(""):f.slice(0,r)}function cD(r,o,u,f){var v=o&w,x=Ta(r);function D(){for(var T=-1,$=arguments.length,W=-1,V=f.length,Z=z(V+$),ot=this&&this!==ye&&this instanceof D?x:r;++W<V;)Z[W]=f[W];for(;$--;)Z[W++]=arguments[++T];return Ke(ot,v?u:this,Z)}return D}function av(r){return function(o,u,f){return f&&typeof f!="number"&&Ie(o,u,f)&&(u=f=n),o=Rr(o),u===n?(u=o,o=0):u=Rr(u),f=f===n?o<u?1:-1:Rr(f),G2(o,u,f,r)}}function vu(r){return function(o,u){return typeof o=="string"&&typeof u=="string"||(o=yn(o),u=yn(u)),r(o,u)}}function sv(r,o,u,f,v,x,D,T,$,W){var V=o&A,Z=V?D:n,ot=V?n:D,ht=V?x:n,pt=V?n:x;o|=V?L:P,o&=~(V?P:L),o&I||(o&=~(w|O));var Dt=[r,o,v,ht,Z,pt,ot,T,$,W],vt=u.apply(n,Dt);return Jc(r)&&bv(vt,Dt),vt.placeholder=f,wv(vt,r,o)}function Wc(r){var o=ge[r];return function(u,f){if(u=yn(u),f=f==null?0:Oe(St(f),292),f&&wp(u)){var v=(Bt(u)+"e").split("e"),x=o(v[0]+"e"+(+v[1]+f));return v=(Bt(x)+"e").split("e"),+(v[0]+"e"+(+v[1]-f))}return o(u)}}var fD=No&&1/qs(new No([,-0]))[1]==F?function(r){return new No(r)}:pf;function uv(r){return function(o){var u=Se(o);return u==jt?_c(o):u==kt?CE(o):wE(o,r(o))}}function kr(r,o,u,f,v,x,D,T){var $=o&O;if(!$&&typeof r!="function")throw new dn(l);var W=f?f.length:0;if(W||(o&=~(L|P),f=v=n),D=D===n?D:pe(St(D),0),T=T===n?T:St(T),W-=v?v.length:0,o&P){var V=f,Z=v;f=v=n}var ot=$?n:Gc(r),ht=[r,o,u,f,v,V,Z,x,D,T];if(ot&&DD(ht,ot),r=ht[0],o=ht[1],u=ht[2],f=ht[3],v=ht[4],T=ht[9]=ht[9]===n?$?0:r.length:pe(ht[9]-W,0),!T&&o&(A|_)&&(o&=~(A|_)),!o||o==w)var pt=uD(r,o,u);else o==A||o==_?pt=lD(r,o,T):(o==L||o==(w|L))&&!v.length?pt=cD(r,o,u,f):pt=du.apply(n,ht);var Dt=ot?Xp:bv;return wv(Dt(pt,ht),r,o)}function lv(r,o,u,f){return r===n||Pn(r,Ro[u])&&!Xt.call(f,u)?o:r}function cv(r,o,u,f,v,x){return te(r)&&te(o)&&(x.set(o,r),lu(r,o,n,cv,x),x.delete(o)),r}function hD(r){return Na(r)?n:r}function fv(r,o,u,f,v,x){var D=u&E,T=r.length,$=o.length;if(T!=$&&!(D&&$>T))return!1;var W=x.get(r),V=x.get(o);if(W&&V)return W==o&&V==r;var Z=-1,ot=!0,ht=u&k?new Xi:n;for(x.set(r,o),x.set(o,r);++Z<T;){var pt=r[Z],Dt=o[Z];if(f)var vt=D?f(Dt,pt,Z,o,r,x):f(pt,Dt,Z,r,o,x);if(vt!==n){if(vt)continue;ot=!1;break}if(ht){if(!vc(o,function(Tt,Nt){if(!ya(ht,Nt)&&(pt===Tt||v(pt,Tt,u,f,x)))return ht.push(Nt)})){ot=!1;break}}else if(!(pt===Dt||v(pt,Dt,u,f,x))){ot=!1;break}}return x.delete(r),x.delete(o),ot}function dD(r,o,u,f,v,x,D){switch(u){case ln:if(r.byteLength!=o.byteLength||r.byteOffset!=o.byteOffset)return!1;r=r.buffer,o=o.buffer;case fr:return!(r.byteLength!=o.byteLength||!x(new Zs(r),new Zs(o)));case ct:case yt:case ee:return Pn(+r,+o);case Gt:return r.name==o.name&&r.message==o.message;case $t:case ie:return r==o+"";case jt:var T=_c;case kt:var $=f&E;if(T||(T=qs),r.size!=o.size&&!$)return!1;var W=D.get(r);if(W)return W==o;f|=k,D.set(r,o);var V=fv(T(r),T(o),f,v,x,D);return D.delete(r),V;case un:if(Oa)return Oa.call(r)==Oa.call(o)}return!1}function gD(r,o,u,f,v,x){var D=u&E,T=Vc(r),$=T.length,W=Vc(o),V=W.length;if($!=V&&!D)return!1;for(var Z=$;Z--;){var ot=T[Z];if(!(D?ot in o:Xt.call(o,ot)))return!1}var ht=x.get(r),pt=x.get(o);if(ht&&pt)return ht==o&&pt==r;var Dt=!0;x.set(r,o),x.set(o,r);for(var vt=D;++Z<$;){ot=T[Z];var Tt=r[ot],Nt=o[ot];if(f)var tn=D?f(Nt,Tt,ot,o,r,x):f(Tt,Nt,ot,r,o,x);if(!(tn===n?Tt===Nt||v(Tt,Nt,u,f,x):tn)){Dt=!1;break}vt||(vt=ot=="constructor")}if(Dt&&!vt){var Pe=r.constructor,en=o.constructor;Pe!=en&&"constructor"in r&&"constructor"in o&&!(typeof Pe=="function"&&Pe instanceof Pe&&typeof en=="function"&&en instanceof en)&&(Dt=!1)}return x.delete(r),x.delete(o),Dt}function Cr(r){return ef(mv(r,n,Dv),r+"")}function Vc(r){return Rp(r,ve,Zc)}function Yc(r){return Rp(r,Be,hv)}var Gc=ru?function(r){return ru.get(r)}:pf;function mu(r){for(var o=r.name+"",u=$o[o],f=Xt.call($o,o)?u.length:0;f--;){var v=u[f],x=v.func;if(x==null||x==r)return v.name}return o}function Lo(r){var o=Xt.call(y,"placeholder")?y:r;return o.placeholder}function dt(){var r=y.iteratee||df;return r=r===df?Ip:r,arguments.length?r(arguments[0],arguments[1]):r}function yu(r,o){var u=r.__data__;return _D(o)?u[typeof o=="string"?"string":"hash"]:u.map}function Kc(r){for(var o=ve(r),u=o.length;u--;){var f=o[u],v=r[f];o[u]=[f,v,pv(v)]}return o}function qi(r,o){var u=EE(r,o);return $p(u)?u:n}function pD(r){var o=Xt.call(r,Fi),u=r[Fi];try{r[Fi]=n;var f=!0}catch(x){}var v=Gs.call(r);return f&&(o?r[Fi]=u:delete r[Fi]),v}var Zc=Sc?function(r){return r==null?[]:(r=qt(r),Zr(Sc(r),function(o){return yp.call(r,o)}))}:vf,hv=Sc?function(r){for(var o=[];r;)Qr(o,Zc(r)),r=Qs(r);return o}:vf,Se=$e;(Ec&&Se(new Ec(new ArrayBuffer(1)))!=ln||wa&&Se(new wa)!=jt||Dc&&Se(Dc.resolve())!=sn||No&&Se(new No)!=kt||xa&&Se(new xa)!=qn)&&(Se=function(r){var o=$e(r),u=o==Ht?r.constructor:n,f=u?Wi(u):"";if(f)switch(f){case ZE:return ln;case QE:return jt;case JE:return sn;case t2:return kt;case e2:return qn}return o});function vD(r,o,u){for(var f=-1,v=u.length;++f<v;){var x=u[f],D=x.size;switch(x.type){case"drop":r+=D;break;case"dropRight":o-=D;break;case"take":o=Oe(o,r+D);break;case"takeRight":r=pe(r,o-D);break}}return{start:r,end:o}}function mD(r){var o=r.match(qr);return o?o[1].split(Ci):[]}function dv(r,o,u){o=ri(o,r);for(var f=-1,v=o.length,x=!1;++f<v;){var D=rr(o[f]);if(!(x=r!=null&&u(r,D)))break;r=r[D]}return x||++f!=v?x:(v=r==null?0:r.length,!!v&&Eu(v)&&Tr(D,v)&&(_t(r)||Vi(r)))}function yD(r){var o=r.length,u=new r.constructor(o);return o&&typeof r[0]=="string"&&Xt.call(r,"index")&&(u.index=r.index,u.input=r.input),u}function gv(r){return typeof r.constructor=="function"&&!Aa(r)?Io(Qs(r)):{}}function bD(r,o,u){var f=r.constructor;switch(o){case fr:return Hc(r);case ct:case yt:return new f(+r);case ln:return nD(r,u);case Ce:case Te:case Ur:case Ae:case _i:case Hr:case Oi:case Wn:case xe:return Kp(r,u);case jt:return new f;case ee:case ie:return new f(r);case $t:return rD(r);case kt:return new f;case un:return iD(r)}}function wD(r,o){var u=o.length;if(!u)return r;var f=u-1;return o[f]=(u>1?"& ":"")+o[f],o=o.join(u>2?", ":" "),r.replace(ki,`{
/* [wrapped with `+o+`] */
`)}function xD(r){return _t(r)||Vi(r)||!!(bp&&r&&r[bp])}function Tr(r,o){var u=typeof r;return o=o!=null?o:B,!!o&&(u=="number"||u!="symbol"&&br.test(r))&&r>-1&&r%1==0&&r<o}function Ie(r,o,u){if(!te(u))return!1;var f=typeof o;return(f=="number"?Fe(u)&&Tr(o,u.length):f=="string"&&o in u)?Pn(u[o],r):!1}function Qc(r,o){if(_t(r))return!1;var u=typeof r;return u=="number"||u=="symbol"||u=="boolean"||r==null||Je(r)?!0:dr.test(r)||!Yn.test(r)||o!=null&&r in qt(o)}function _D(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}function Jc(r){var o=mu(r),u=y[o];if(typeof u!="function"||!(o in Rt.prototype))return!1;if(r===u)return!0;var f=Gc(u);return!!f&&r===f[0]}function OD(r){return!!pp&&pp in r}var SD=Vs?Ar:mf;function Aa(r){var o=r&&r.constructor,u=typeof o=="function"&&o.prototype||Ro;return r===u}function pv(r){return r===r&&!te(r)}function vv(r,o){return function(u){return u==null?!1:u[r]===o&&(o!==n||r in qt(u))}}function ED(r){var o=Ou(r,function(f){return u.size===d&&u.clear(),f}),u=o.cache;return o}function DD(r,o){var u=r[1],f=o[1],v=u|f,x=v<(w|O|M),D=f==M&&u==A||f==M&&u==nt&&r[7].length<=o[8]||f==(M|nt)&&o[7].length<=o[8]&&u==A;if(!(x||D))return r;f&w&&(r[2]=o[2],v|=u&w?0:I);var T=o[3];if(T){var $=r[3];r[3]=$?Qp($,T,o[4]):T,r[4]=$?Jr(r[3],g):o[4]}return T=o[5],T&&($=r[5],r[5]=$?Jp($,T,o[6]):T,r[6]=$?Jr(r[5],g):o[6]),T=o[7],T&&(r[7]=T),f&M&&(r[8]=r[8]==null?o[8]:Oe(r[8],o[8])),r[9]==null&&(r[9]=o[9]),r[0]=o[0],r[1]=v,r}function kD(r){var o=[];if(r!=null)for(var u in qt(r))o.push(u);return o}function CD(r){return Gs.call(r)}function mv(r,o,u){return o=pe(o===n?r.length-1:o,0),function(){for(var f=arguments,v=-1,x=pe(f.length-o,0),D=z(x);++v<x;)D[v]=f[o+v];v=-1;for(var T=z(o+1);++v<o;)T[v]=f[v];return T[o]=u(D),Ke(r,this,T)}}function yv(r,o){return o.length<2?r:Hi(r,vn(o,0,-1))}function TD(r,o){for(var u=r.length,f=Oe(o.length,u),v=ze(r);f--;){var x=o[f];r[f]=Tr(x,u)?v[x]:n}return r}function tf(r,o){if(!(o==="constructor"&&typeof r[o]=="function")&&o!="__proto__")return r[o]}var bv=xv(Xp),Ra=HE||function(r,o){return ye.setTimeout(r,o)},ef=xv(Q2);function wv(r,o,u){var f=o+"";return ef(r,wD(f,AD(mD(f),u)))}function xv(r){var o=0,u=0;return function(){var f=YE(),v=Y-(f-u);if(u=f,v>0){if(++o>=rt)return arguments[0]}else o=0;return r.apply(n,arguments)}}function bu(r,o){var u=-1,f=r.length,v=f-1;for(o=o===n?f:o;++u<o;){var x=Lc(u,v),D=r[x];r[x]=r[u],r[u]=D}return r.length=o,r}var _v=ED(function(r){var o=[];return r.charCodeAt(0)===46&&o.push(""),r.replace(Di,function(u,f,v,x){o.push(v?x.replace(Tn,"$1"):f||u)}),o});function rr(r){if(typeof r=="string"||Je(r))return r;var o=r+"";return o=="0"&&1/r==-F?"-0":o}function Wi(r){if(r!=null){try{return Ys.call(r)}catch(o){}try{return r+""}catch(o){}}return""}function AD(r,o){return hn(at,function(u){var f="_."+u[0];o&u[1]&&!Us(r,f)&&r.push(f)}),r.sort()}function Ov(r){if(r instanceof Rt)return r.clone();var o=new gn(r.__wrapped__,r.__chain__);return o.__actions__=ze(r.__actions__),o.__index__=r.__index__,o.__values__=r.__values__,o}function RD(r,o,u){(u?Ie(r,o,u):o===n)?o=1:o=pe(St(o),0);var f=r==null?0:r.length;if(!f||o<1)return[];for(var v=0,x=0,D=z(eu(f/o));v<f;)D[x++]=vn(r,v,v+=o);return D}function ND(r){for(var o=-1,u=r==null?0:r.length,f=0,v=[];++o<u;){var x=r[o];x&&(v[f++]=x)}return v}function $D(){var r=arguments.length;if(!r)return[];for(var o=z(r-1),u=arguments[0],f=r;f--;)o[f-1]=arguments[f];return Qr(_t(u)?ze(u):[u],be(o,1))}var ID=Ct(function(r,o){return oe(r)?Ea(r,be(o,1,oe,!0)):[]}),PD=Ct(function(r,o){var u=mn(o);return oe(u)&&(u=n),oe(r)?Ea(r,be(o,1,oe,!0),dt(u,2)):[]}),jD=Ct(function(r,o){var u=mn(o);return oe(u)&&(u=n),oe(r)?Ea(r,be(o,1,oe,!0),n,u):[]});function LD(r,o,u){var f=r==null?0:r.length;return f?(o=u||o===n?1:St(o),vn(r,o<0?0:o,f)):[]}function MD(r,o,u){var f=r==null?0:r.length;return f?(o=u||o===n?1:St(o),o=f-o,vn(r,0,o<0?0:o)):[]}function zD(r,o){return r&&r.length?fu(r,dt(o,3),!0,!0):[]}function FD(r,o){return r&&r.length?fu(r,dt(o,3),!0):[]}function BD(r,o,u,f){var v=r==null?0:r.length;return v?(u&&typeof u!="number"&&Ie(r,o,u)&&(u=0,f=v),$2(r,o,u,f)):[]}function Sv(r,o,u){var f=r==null?0:r.length;if(!f)return-1;var v=u==null?0:St(u);return v<0&&(v=pe(f+v,0)),Hs(r,dt(o,3),v)}function Ev(r,o,u){var f=r==null?0:r.length;if(!f)return-1;var v=f-1;return u!==n&&(v=St(u),v=u<0?pe(f+v,0):Oe(v,f-1)),Hs(r,dt(o,3),v,!0)}function Dv(r){var o=r==null?0:r.length;return o?be(r,1):[]}function XD(r){var o=r==null?0:r.length;return o?be(r,F):[]}function UD(r,o){var u=r==null?0:r.length;return u?(o=o===n?1:St(o),be(r,o)):[]}function HD(r){for(var o=-1,u=r==null?0:r.length,f={};++o<u;){var v=r[o];f[v[0]]=v[1]}return f}function kv(r){return r&&r.length?r[0]:n}function qD(r,o,u){var f=r==null?0:r.length;if(!f)return-1;var v=u==null?0:St(u);return v<0&&(v=pe(f+v,0)),ko(r,o,v)}function WD(r){var o=r==null?0:r.length;return o?vn(r,0,-1):[]}var VD=Ct(function(r){var o=Kt(r,Xc);return o.length&&o[0]===r[0]?Nc(o):[]}),YD=Ct(function(r){var o=mn(r),u=Kt(r,Xc);return o===mn(u)?o=n:u.pop(),u.length&&u[0]===r[0]?Nc(u,dt(o,2)):[]}),GD=Ct(function(r){var o=mn(r),u=Kt(r,Xc);return o=typeof o=="function"?o:n,o&&u.pop(),u.length&&u[0]===r[0]?Nc(u,n,o):[]});function KD(r,o){return r==null?"":WE.call(r,o)}function mn(r){var o=r==null?0:r.length;return o?r[o-1]:n}function ZD(r,o,u){var f=r==null?0:r.length;if(!f)return-1;var v=f;return u!==n&&(v=St(u),v=v<0?pe(f+v,0):Oe(v,f-1)),o===o?AE(r,o,v):Hs(r,sp,v,!0)}function QD(r,o){return r&&r.length?Mp(r,St(o)):n}var JD=Ct(Cv);function Cv(r,o){return r&&r.length&&o&&o.length?jc(r,o):r}function tk(r,o,u){return r&&r.length&&o&&o.length?jc(r,o,dt(u,2)):r}function ek(r,o,u){return r&&r.length&&o&&o.length?jc(r,o,n,u):r}var nk=Cr(function(r,o){var u=r==null?0:r.length,f=Cc(r,o);return Bp(r,Kt(o,function(v){return Tr(v,u)?+v:v}).sort(Zp)),f});function rk(r,o){var u=[];if(!(r&&r.length))return u;var f=-1,v=[],x=r.length;for(o=dt(o,3);++f<x;){var D=r[f];o(D,f,r)&&(u.push(D),v.push(f))}return Bp(r,v),u}function nf(r){return r==null?r:KE.call(r)}function ik(r,o,u){var f=r==null?0:r.length;return f?(u&&typeof u!="number"&&Ie(r,o,u)?(o=0,u=f):(o=o==null?0:St(o),u=u===n?f:St(u)),vn(r,o,u)):[]}function ok(r,o){return cu(r,o)}function ak(r,o,u){return zc(r,o,dt(u,2))}function sk(r,o){var u=r==null?0:r.length;if(u){var f=cu(r,o);if(f<u&&Pn(r[f],o))return f}return-1}function uk(r,o){return cu(r,o,!0)}function lk(r,o,u){return zc(r,o,dt(u,2),!0)}function ck(r,o){var u=r==null?0:r.length;if(u){var f=cu(r,o,!0)-1;if(Pn(r[f],o))return f}return-1}function fk(r){return r&&r.length?Up(r):[]}function hk(r,o){return r&&r.length?Up(r,dt(o,2)):[]}function dk(r){var o=r==null?0:r.length;return o?vn(r,1,o):[]}function gk(r,o,u){return r&&r.length?(o=u||o===n?1:St(o),vn(r,0,o<0?0:o)):[]}function pk(r,o,u){var f=r==null?0:r.length;return f?(o=u||o===n?1:St(o),o=f-o,vn(r,o<0?0:o,f)):[]}function vk(r,o){return r&&r.length?fu(r,dt(o,3),!1,!0):[]}function mk(r,o){return r&&r.length?fu(r,dt(o,3)):[]}var yk=Ct(function(r){return ni(be(r,1,oe,!0))}),bk=Ct(function(r){var o=mn(r);return oe(o)&&(o=n),ni(be(r,1,oe,!0),dt(o,2))}),wk=Ct(function(r){var o=mn(r);return o=typeof o=="function"?o:n,ni(be(r,1,oe,!0),n,o)});function xk(r){return r&&r.length?ni(r):[]}function _k(r,o){return r&&r.length?ni(r,dt(o,2)):[]}function Ok(r,o){return o=typeof o=="function"?o:n,r&&r.length?ni(r,n,o):[]}function rf(r){if(!(r&&r.length))return[];var o=0;return r=Zr(r,function(u){if(oe(u))return o=pe(u.length,o),!0}),wc(o,function(u){return Kt(r,mc(u))})}function Tv(r,o){if(!(r&&r.length))return[];var u=rf(r);return o==null?u:Kt(u,function(f){return Ke(o,n,f)})}var Sk=Ct(function(r,o){return oe(r)?Ea(r,o):[]}),Ek=Ct(function(r){return Bc(Zr(r,oe))}),Dk=Ct(function(r){var o=mn(r);return oe(o)&&(o=n),Bc(Zr(r,oe),dt(o,2))}),kk=Ct(function(r){var o=mn(r);return o=typeof o=="function"?o:n,Bc(Zr(r,oe),n,o)}),Ck=Ct(rf);function Tk(r,o){return Vp(r||[],o||[],Sa)}function Ak(r,o){return Vp(r||[],o||[],Ca)}var Rk=Ct(function(r){var o=r.length,u=o>1?r[o-1]:n;return u=typeof u=="function"?(r.pop(),u):n,Tv(r,u)});function Av(r){var o=y(r);return o.__chain__=!0,o}function Nk(r,o){return o(r),r}function wu(r,o){return o(r)}var $k=Cr(function(r){var o=r.length,u=o?r[0]:0,f=this.__wrapped__,v=function(x){return Cc(x,r)};return o>1||this.__actions__.length||!(f instanceof Rt)||!Tr(u)?this.thru(v):(f=f.slice(u,+u+(o?1:0)),f.__actions__.push({func:wu,args:[v],thisArg:n}),new gn(f,this.__chain__).thru(function(x){return o&&!x.length&&x.push(n),x}))});function Ik(){return Av(this)}function Pk(){return new gn(this.value(),this.__chain__)}function jk(){this.__values__===n&&(this.__values__=Hv(this.value()));var r=this.__index__>=this.__values__.length,o=r?n:this.__values__[this.__index__++];return{done:r,value:o}}function Lk(){return this}function Mk(r){for(var o,u=this;u instanceof ou;){var f=Ov(u);f.__index__=0,f.__values__=n,o?v.__wrapped__=f:o=f;var v=f;u=u.__wrapped__}return v.__wrapped__=r,o}function zk(){var r=this.__wrapped__;if(r instanceof Rt){var o=r;return this.__actions__.length&&(o=new Rt(this)),o=o.reverse(),o.__actions__.push({func:wu,args:[nf],thisArg:n}),new gn(o,this.__chain__)}return this.thru(nf)}function Fk(){return Wp(this.__wrapped__,this.__actions__)}var Bk=hu(function(r,o,u){Xt.call(r,u)?++r[u]:Dr(r,u,1)});function Xk(r,o,u){var f=_t(r)?op:N2;return u&&Ie(r,o,u)&&(o=n),f(r,dt(o,3))}function Uk(r,o){var u=_t(r)?Zr:Tp;return u(r,dt(o,3))}var Hk=rv(Sv),qk=rv(Ev);function Wk(r,o){return be(xu(r,o),1)}function Vk(r,o){return be(xu(r,o),F)}function Yk(r,o,u){return u=u===n?1:St(u),be(xu(r,o),u)}function Rv(r,o){var u=_t(r)?hn:ei;return u(r,dt(o,3))}function Nv(r,o){var u=_t(r)?dE:Cp;return u(r,dt(o,3))}var Gk=hu(function(r,o,u){Xt.call(r,u)?r[u].push(o):Dr(r,u,[o])});function Kk(r,o,u,f){r=Fe(r)?r:zo(r),u=u&&!f?St(u):0;var v=r.length;return u<0&&(u=pe(v+u,0)),Du(r)?u<=v&&r.indexOf(o,u)>-1:!!v&&ko(r,o,u)>-1}var Zk=Ct(function(r,o,u){var f=-1,v=typeof o=="function",x=Fe(r)?z(r.length):[];return ei(r,function(D){x[++f]=v?Ke(o,D,u):Da(D,o,u)}),x}),Qk=hu(function(r,o,u){Dr(r,u,o)});function xu(r,o){var u=_t(r)?Kt:Pp;return u(r,dt(o,3))}function Jk(r,o,u,f){return r==null?[]:(_t(o)||(o=o==null?[]:[o]),u=f?n:u,_t(u)||(u=u==null?[]:[u]),zp(r,o,u))}var tC=hu(function(r,o,u){r[u?0:1].push(o)},function(){return[[],[]]});function eC(r,o,u){var f=_t(r)?pc:lp,v=arguments.length<3;return f(r,dt(o,4),u,v,ei)}function nC(r,o,u){var f=_t(r)?gE:lp,v=arguments.length<3;return f(r,dt(o,4),u,v,Cp)}function rC(r,o){var u=_t(r)?Zr:Tp;return u(r,Su(dt(o,3)))}function iC(r){var o=_t(r)?Sp:K2;return o(r)}function oC(r,o,u){(u?Ie(r,o,u):o===n)?o=1:o=St(o);var f=_t(r)?k2:Z2;return f(r,o)}function aC(r){var o=_t(r)?C2:J2;return o(r)}function sC(r){if(r==null)return 0;if(Fe(r))return Du(r)?To(r):r.length;var o=Se(r);return o==jt||o==kt?r.size:Ic(r).length}function uC(r,o,u){var f=_t(r)?vc:tD;return u&&Ie(r,o,u)&&(o=n),f(r,dt(o,3))}var lC=Ct(function(r,o){if(r==null)return[];var u=o.length;return u>1&&Ie(r,o[0],o[1])?o=[]:u>2&&Ie(o[0],o[1],o[2])&&(o=[o[0]]),zp(r,be(o,1),[])}),_u=UE||function(){return ye.Date.now()};function cC(r,o){if(typeof o!="function")throw new dn(l);return r=St(r),function(){if(--r<1)return o.apply(this,arguments)}}function $v(r,o,u){return o=u?n:o,o=r&&o==null?r.length:o,kr(r,M,n,n,n,n,o)}function Iv(r,o){var u;if(typeof o!="function")throw new dn(l);return r=St(r),function(){return--r>0&&(u=o.apply(this,arguments)),r<=1&&(o=n),u}}var of=Ct(function(r,o,u){var f=w;if(u.length){var v=Jr(u,Lo(of));f|=L}return kr(r,f,o,u,v)}),Pv=Ct(function(r,o,u){var f=w|O;if(u.length){var v=Jr(u,Lo(Pv));f|=L}return kr(o,f,r,u,v)});function jv(r,o,u){o=u?n:o;var f=kr(r,A,n,n,n,n,n,o);return f.placeholder=jv.placeholder,f}function Lv(r,o,u){o=u?n:o;var f=kr(r,_,n,n,n,n,n,o);return f.placeholder=Lv.placeholder,f}function Mv(r,o,u){var f,v,x,D,T,$,W=0,V=!1,Z=!1,ot=!0;if(typeof r!="function")throw new dn(l);o=yn(o)||0,te(u)&&(V=!!u.leading,Z="maxWait"in u,x=Z?pe(yn(u.maxWait)||0,o):x,ot="trailing"in u?!!u.trailing:ot);function ht(ae){var jn=f,Nr=v;return f=v=n,W=ae,D=r.apply(Nr,jn),D}function pt(ae){return W=ae,T=Ra(Tt,o),V?ht(ae):D}function Dt(ae){var jn=ae-$,Nr=ae-W,r0=o-jn;return Z?Oe(r0,x-Nr):r0}function vt(ae){var jn=ae-$,Nr=ae-W;return $===n||jn>=o||jn<0||Z&&Nr>=x}function Tt(){var ae=_u();if(vt(ae))return Nt(ae);T=Ra(Tt,Dt(ae))}function Nt(ae){return T=n,ot&&f?ht(ae):(f=v=n,D)}function tn(){T!==n&&Yp(T),W=0,f=$=v=T=n}function Pe(){return T===n?D:Nt(_u())}function en(){var ae=_u(),jn=vt(ae);if(f=arguments,v=this,$=ae,jn){if(T===n)return pt($);if(Z)return Yp(T),T=Ra(Tt,o),ht($)}return T===n&&(T=Ra(Tt,o)),D}return en.cancel=tn,en.flush=Pe,en}var fC=Ct(function(r,o){return kp(r,1,o)}),hC=Ct(function(r,o,u){return kp(r,yn(o)||0,u)});function dC(r){return kr(r,ft)}function Ou(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new dn(l);var u=function(){var f=arguments,v=o?o.apply(this,f):f[0],x=u.cache;if(x.has(v))return x.get(v);var D=r.apply(this,f);return u.cache=x.set(v,D)||x,D};return u.cache=new(Ou.Cache||Er),u}Ou.Cache=Er;function Su(r){if(typeof r!="function")throw new dn(l);return function(){var o=arguments;switch(o.length){case 0:return!r.call(this);case 1:return!r.call(this,o[0]);case 2:return!r.call(this,o[0],o[1]);case 3:return!r.call(this,o[0],o[1],o[2])}return!r.apply(this,o)}}function gC(r){return Iv(2,r)}var pC=eD(function(r,o){o=o.length==1&&_t(o[0])?Kt(o[0],Ze(dt())):Kt(be(o,1),Ze(dt()));var u=o.length;return Ct(function(f){for(var v=-1,x=Oe(f.length,u);++v<x;)f[v]=o[v].call(this,f[v]);return Ke(r,this,f)})}),af=Ct(function(r,o){var u=Jr(o,Lo(af));return kr(r,L,n,o,u)}),zv=Ct(function(r,o){var u=Jr(o,Lo(zv));return kr(r,P,n,o,u)}),vC=Cr(function(r,o){return kr(r,nt,n,n,n,o)});function mC(r,o){if(typeof r!="function")throw new dn(l);return o=o===n?o:St(o),Ct(r,o)}function yC(r,o){if(typeof r!="function")throw new dn(l);return o=o==null?0:pe(St(o),0),Ct(function(u){var f=u[o],v=ii(u,0,o);return f&&Qr(v,f),Ke(r,this,v)})}function bC(r,o,u){var f=!0,v=!0;if(typeof r!="function")throw new dn(l);return te(u)&&(f="leading"in u?!!u.leading:f,v="trailing"in u?!!u.trailing:v),Mv(r,o,{leading:f,maxWait:o,trailing:v})}function wC(r){return $v(r,1)}function xC(r,o){return af(Uc(o),r)}function _C(){if(!arguments.length)return[];var r=arguments[0];return _t(r)?r:[r]}function OC(r){return pn(r,b)}function SC(r,o){return o=typeof o=="function"?o:n,pn(r,b,o)}function EC(r){return pn(r,m|b)}function DC(r,o){return o=typeof o=="function"?o:n,pn(r,m|b,o)}function kC(r,o){return o==null||Dp(r,o,ve(o))}function Pn(r,o){return r===o||r!==r&&o!==o}var CC=vu(Rc),TC=vu(function(r,o){return r>=o}),Vi=Np(function(){return arguments}())?Np:function(r){return re(r)&&Xt.call(r,"callee")&&!yp.call(r,"callee")},_t=z.isArray,AC=Jg?Ze(Jg):M2;function Fe(r){return r!=null&&Eu(r.length)&&!Ar(r)}function oe(r){return re(r)&&Fe(r)}function RC(r){return r===!0||r===!1||re(r)&&$e(r)==ct}var oi=qE||mf,NC=tp?Ze(tp):z2;function $C(r){return re(r)&&r.nodeType===1&&!Na(r)}function IC(r){if(r==null)return!0;if(Fe(r)&&(_t(r)||typeof r=="string"||typeof r.splice=="function"||oi(r)||Mo(r)||Vi(r)))return!r.length;var o=Se(r);if(o==jt||o==kt)return!r.size;if(Aa(r))return!Ic(r).length;for(var u in r)if(Xt.call(r,u))return!1;return!0}function PC(r,o){return ka(r,o)}function jC(r,o,u){u=typeof u=="function"?u:n;var f=u?u(r,o):n;return f===n?ka(r,o,n,u):!!f}function sf(r){if(!re(r))return!1;var o=$e(r);return o==Gt||o==ce||typeof r.message=="string"&&typeof r.name=="string"&&!Na(r)}function LC(r){return typeof r=="number"&&wp(r)}function Ar(r){if(!te(r))return!1;var o=$e(r);return o==De||o==Ge||o==mt||o==wt}function Fv(r){return typeof r=="number"&&r==St(r)}function Eu(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=B}function te(r){var o=typeof r;return r!=null&&(o=="object"||o=="function")}function re(r){return r!=null&&typeof r=="object"}var Bv=ep?Ze(ep):B2;function MC(r,o){return r===o||$c(r,o,Kc(o))}function zC(r,o,u){return u=typeof u=="function"?u:n,$c(r,o,Kc(o),u)}function FC(r){return Xv(r)&&r!=+r}function BC(r){if(SD(r))throw new xt(s);return $p(r)}function XC(r){return r===null}function UC(r){return r==null}function Xv(r){return typeof r=="number"||re(r)&&$e(r)==ee}function Na(r){if(!re(r)||$e(r)!=Ht)return!1;var o=Qs(r);if(o===null)return!0;var u=Xt.call(o,"constructor")&&o.constructor;return typeof u=="function"&&u instanceof u&&Ys.call(u)==zE}var uf=np?Ze(np):X2;function HC(r){return Fv(r)&&r>=-B&&r<=B}var Uv=rp?Ze(rp):U2;function Du(r){return typeof r=="string"||!_t(r)&&re(r)&&$e(r)==ie}function Je(r){return typeof r=="symbol"||re(r)&&$e(r)==un}var Mo=ip?Ze(ip):H2;function qC(r){return r===n}function WC(r){return re(r)&&Se(r)==qn}function VC(r){return re(r)&&$e(r)==ke}var YC=vu(Pc),GC=vu(function(r,o){return r<=o});function Hv(r){if(!r)return[];if(Fe(r))return Du(r)?$n(r):ze(r);if(ba&&r[ba])return kE(r[ba]());var o=Se(r),u=o==jt?_c:o==kt?qs:zo;return u(r)}function Rr(r){if(!r)return r===0?r:0;if(r=yn(r),r===F||r===-F){var o=r<0?-1:1;return o*Q}return r===r?r:0}function St(r){var o=Rr(r),u=o%1;return o===o?u?o-u:o:0}function qv(r){return r?Ui(St(r),0,K):0}function yn(r){if(typeof r=="number")return r;if(Je(r))return U;if(te(r)){var o=typeof r.valueOf=="function"?r.valueOf():r;r=te(o)?o+"":o}if(typeof r!="string")return r===0?r:+r;r=cp(r);var u=Gn.test(r);return u||Wr.test(r)?cE(r.slice(2),u?2:8):Ai.test(r)?U:+r}function Wv(r){return nr(r,Be(r))}function KC(r){return r?Ui(St(r),-B,B):r===0?r:0}function Bt(r){return r==null?"":Qe(r)}var ZC=Po(function(r,o){if(Aa(o)||Fe(o)){nr(o,ve(o),r);return}for(var u in o)Xt.call(o,u)&&Sa(r,u,o[u])}),Vv=Po(function(r,o){nr(o,Be(o),r)}),ku=Po(function(r,o,u,f){nr(o,Be(o),r,f)}),QC=Po(function(r,o,u,f){nr(o,ve(o),r,f)}),JC=Cr(Cc);function tT(r,o){var u=Io(r);return o==null?u:Ep(u,o)}var eT=Ct(function(r,o){r=qt(r);var u=-1,f=o.length,v=f>2?o[2]:n;for(v&&Ie(o[0],o[1],v)&&(f=1);++u<f;)for(var x=o[u],D=Be(x),T=-1,$=D.length;++T<$;){var W=D[T],V=r[W];(V===n||Pn(V,Ro[W])&&!Xt.call(r,W))&&(r[W]=x[W])}return r}),nT=Ct(function(r){return r.push(n,cv),Ke(Yv,n,r)});function rT(r,o){return ap(r,dt(o,3),er)}function iT(r,o){return ap(r,dt(o,3),Ac)}function oT(r,o){return r==null?r:Tc(r,dt(o,3),Be)}function aT(r,o){return r==null?r:Ap(r,dt(o,3),Be)}function sT(r,o){return r&&er(r,dt(o,3))}function uT(r,o){return r&&Ac(r,dt(o,3))}function lT(r){return r==null?[]:uu(r,ve(r))}function cT(r){return r==null?[]:uu(r,Be(r))}function lf(r,o,u){var f=r==null?n:Hi(r,o);return f===n?u:f}function fT(r,o){return r!=null&&dv(r,o,I2)}function cf(r,o){return r!=null&&dv(r,o,P2)}var hT=ov(function(r,o,u){o!=null&&typeof o.toString!="function"&&(o=Gs.call(o)),r[o]=u},hf(Xe)),dT=ov(function(r,o,u){o!=null&&typeof o.toString!="function"&&(o=Gs.call(o)),Xt.call(r,o)?r[o].push(u):r[o]=[u]},dt),gT=Ct(Da);function ve(r){return Fe(r)?Op(r):Ic(r)}function Be(r){return Fe(r)?Op(r,!0):q2(r)}function pT(r,o){var u={};return o=dt(o,3),er(r,function(f,v,x){Dr(u,o(f,v,x),f)}),u}function vT(r,o){var u={};return o=dt(o,3),er(r,function(f,v,x){Dr(u,v,o(f,v,x))}),u}var mT=Po(function(r,o,u){lu(r,o,u)}),Yv=Po(function(r,o,u,f){lu(r,o,u,f)}),yT=Cr(function(r,o){var u={};if(r==null)return u;var f=!1;o=Kt(o,function(x){return x=ri(x,r),f||(f=x.length>1),x}),nr(r,Yc(r),u),f&&(u=pn(u,m|p|b,hD));for(var v=o.length;v--;)Fc(u,o[v]);return u});function bT(r,o){return Gv(r,Su(dt(o)))}var wT=Cr(function(r,o){return r==null?{}:V2(r,o)});function Gv(r,o){if(r==null)return{};var u=Kt(Yc(r),function(f){return[f]});return o=dt(o),Fp(r,u,function(f,v){return o(f,v[0])})}function xT(r,o,u){o=ri(o,r);var f=-1,v=o.length;for(v||(v=1,r=n);++f<v;){var x=r==null?n:r[rr(o[f])];x===n&&(f=v,x=u),r=Ar(x)?x.call(r):x}return r}function _T(r,o,u){return r==null?r:Ca(r,o,u)}function OT(r,o,u,f){return f=typeof f=="function"?f:n,r==null?r:Ca(r,o,u,f)}var Kv=uv(ve),Zv=uv(Be);function ST(r,o,u){var f=_t(r),v=f||oi(r)||Mo(r);if(o=dt(o,4),u==null){var x=r&&r.constructor;v?u=f?new x:[]:te(r)?u=Ar(x)?Io(Qs(r)):{}:u={}}return(v?hn:er)(r,function(D,T,$){return o(u,D,T,$)}),u}function ET(r,o){return r==null?!0:Fc(r,o)}function DT(r,o,u){return r==null?r:qp(r,o,Uc(u))}function kT(r,o,u,f){return f=typeof f=="function"?f:n,r==null?r:qp(r,o,Uc(u),f)}function zo(r){return r==null?[]:xc(r,ve(r))}function CT(r){return r==null?[]:xc(r,Be(r))}function TT(r,o,u){return u===n&&(u=o,o=n),u!==n&&(u=yn(u),u=u===u?u:0),o!==n&&(o=yn(o),o=o===o?o:0),Ui(yn(r),o,u)}function AT(r,o,u){return o=Rr(o),u===n?(u=o,o=0):u=Rr(u),r=yn(r),j2(r,o,u)}function RT(r,o,u){if(u&&typeof u!="boolean"&&Ie(r,o,u)&&(o=u=n),u===n&&(typeof o=="boolean"?(u=o,o=n):typeof r=="boolean"&&(u=r,r=n)),r===n&&o===n?(r=0,o=1):(r=Rr(r),o===n?(o=r,r=0):o=Rr(o)),r>o){var f=r;r=o,o=f}if(u||r%1||o%1){var v=xp();return Oe(r+v*(o-r+lE("1e-"+((v+"").length-1))),o)}return Lc(r,o)}var NT=jo(function(r,o,u){return o=o.toLowerCase(),r+(u?Qv(o):o)});function Qv(r){return ff(Bt(r).toLowerCase())}function Jv(r){return r=Bt(r),r&&r.replace(_e,_E).replace(At,"")}function $T(r,o,u){r=Bt(r),o=Qe(o);var f=r.length;u=u===n?f:Ui(St(u),0,f);var v=u;return u-=o.length,u>=0&&r.slice(u,v)==o}function IT(r){return r=Bt(r),r&&ne.test(r)?r.replace(Ei,OE):r}function PT(r){return r=Bt(r),r&&pr.test(r)?r.replace(gr,"\\$&"):r}var jT=jo(function(r,o,u){return r+(u?"-":"")+o.toLowerCase()}),LT=jo(function(r,o,u){return r+(u?" ":"")+o.toLowerCase()}),MT=nv("toLowerCase");function zT(r,o,u){r=Bt(r),o=St(o);var f=o?To(r):0;if(!o||f>=o)return r;var v=(o-f)/2;return pu(nu(v),u)+r+pu(eu(v),u)}function FT(r,o,u){r=Bt(r),o=St(o);var f=o?To(r):0;return o&&f<o?r+pu(o-f,u):r}function BT(r,o,u){r=Bt(r),o=St(o);var f=o?To(r):0;return o&&f<o?pu(o-f,u)+r:r}function XT(r,o,u){return u||o==null?o=0:o&&(o=+o),GE(Bt(r).replace(Ne,""),o||0)}function UT(r,o,u){return(u?Ie(r,o,u):o===n)?o=1:o=St(o),Mc(Bt(r),o)}function HT(){var r=arguments,o=Bt(r[0]);return r.length<3?o:o.replace(r[1],r[2])}var qT=jo(function(r,o,u){return r+(u?"_":"")+o.toLowerCase()});function WT(r,o,u){return u&&typeof u!="number"&&Ie(r,o,u)&&(o=u=n),u=u===n?K:u>>>0,u?(r=Bt(r),r&&(typeof o=="string"||o!=null&&!uf(o))&&(o=Qe(o),!o&&Co(r))?ii($n(r),0,u):r.split(o,u)):[]}var VT=jo(function(r,o,u){return r+(u?" ":"")+ff(o)});function YT(r,o,u){return r=Bt(r),u=u==null?0:Ui(St(u),0,r.length),o=Qe(o),r.slice(u,u+o.length)==o}function GT(r,o,u){var f=y.templateSettings;u&&Ie(r,o,u)&&(o=n),r=Bt(r),o=ku({},o,f,lv);var v=ku({},o.imports,f.imports,lv),x=ve(v),D=xc(v,x),T,$,W=0,V=o.interpolate||Vr,Z="__p += '",ot=Oc((o.escape||Vr).source+"|"+V.source+"|"+(V===hr?yr:Vr).source+"|"+(o.evaluate||Vr).source+"|$","g"),ht="//# sourceURL="+(Xt.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xs+"]")+`
`;r.replace(ot,function(vt,Tt,Nt,tn,Pe,en){return Nt||(Nt=tn),Z+=r.slice(W,en).replace(ho,SE),Tt&&(T=!0,Z+=`' +
__e(`+Tt+`) +
'`),Pe&&($=!0,Z+=`';
`+Pe+`;
__p += '`),Nt&&(Z+=`' +
((__t = (`+Nt+`)) == null ? '' : __t) +
'`),W=en+vt.length,vt}),Z+=`';
`;var pt=Xt.call(o,"variable")&&o.variable;if(!pt)Z=`with (obj) {
`+Z+`
}
`;else if(mr.test(pt))throw new xt(c);Z=($?Z.replace(Vn,""):Z).replace(kn,"$1").replace(Re,"$1;"),Z="function("+(pt||"obj")+`) {
`+(pt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(T?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Z+`return __p
}`;var Dt=e0(function(){return Lt(x,ht+"return "+Z).apply(n,D)});if(Dt.source=Z,sf(Dt))throw Dt;return Dt}function KT(r){return Bt(r).toLowerCase()}function ZT(r){return Bt(r).toUpperCase()}function QT(r,o,u){if(r=Bt(r),r&&(u||o===n))return cp(r);if(!r||!(o=Qe(o)))return r;var f=$n(r),v=$n(o),x=fp(f,v),D=hp(f,v)+1;return ii(f,x,D).join("")}function JT(r,o,u){if(r=Bt(r),r&&(u||o===n))return r.slice(0,gp(r)+1);if(!r||!(o=Qe(o)))return r;var f=$n(r),v=hp(f,$n(o))+1;return ii(f,0,v).join("")}function tA(r,o,u){if(r=Bt(r),r&&(u||o===n))return r.replace(Ne,"");if(!r||!(o=Qe(o)))return r;var f=$n(r),v=fp(f,$n(o));return ii(f,v).join("")}function eA(r,o){var u=G,f=tt;if(te(o)){var v="separator"in o?o.separator:v;u="length"in o?St(o.length):u,f="omission"in o?Qe(o.omission):f}r=Bt(r);var x=r.length;if(Co(r)){var D=$n(r);x=D.length}if(u>=x)return r;var T=u-To(f);if(T<1)return f;var $=D?ii(D,0,T).join(""):r.slice(0,T);if(v===n)return $+f;if(D&&(T+=$.length-T),uf(v)){if(r.slice(T).search(v)){var W,V=$;for(v.global||(v=Oc(v.source,Bt(Ti.exec(v))+"g")),v.lastIndex=0;W=v.exec(V);)var Z=W.index;$=$.slice(0,Z===n?T:Z)}}else if(r.indexOf(Qe(v),T)!=T){var ot=$.lastIndexOf(v);ot>-1&&($=$.slice(0,ot))}return $+f}function nA(r){return r=Bt(r),r&&Cn.test(r)?r.replace(Si,RE):r}var rA=jo(function(r,o,u){return r+(u?" ":"")+o.toUpperCase()}),ff=nv("toUpperCase");function t0(r,o,u){return r=Bt(r),o=u?n:o,o===n?DE(r)?IE(r):mE(r):r.match(o)||[]}var e0=Ct(function(r,o){try{return Ke(r,n,o)}catch(u){return sf(u)?u:new xt(u)}}),iA=Cr(function(r,o){return hn(o,function(u){u=rr(u),Dr(r,u,of(r[u],r))}),r});function oA(r){var o=r==null?0:r.length,u=dt();return r=o?Kt(r,function(f){if(typeof f[1]!="function")throw new dn(l);return[u(f[0]),f[1]]}):[],Ct(function(f){for(var v=-1;++v<o;){var x=r[v];if(Ke(x[0],this,f))return Ke(x[1],this,f)}})}function aA(r){return R2(pn(r,m))}function hf(r){return function(){return r}}function sA(r,o){return r==null||r!==r?o:r}var uA=iv(),lA=iv(!0);function Xe(r){return r}function df(r){return Ip(typeof r=="function"?r:pn(r,m))}function cA(r){return jp(pn(r,m))}function fA(r,o){return Lp(r,pn(o,m))}var hA=Ct(function(r,o){return function(u){return Da(u,r,o)}}),dA=Ct(function(r,o){return function(u){return Da(r,u,o)}});function gf(r,o,u){var f=ve(o),v=uu(o,f);u==null&&!(te(o)&&(v.length||!f.length))&&(u=o,o=r,r=this,v=uu(o,ve(o)));var x=!(te(u)&&"chain"in u)||!!u.chain,D=Ar(r);return hn(v,function(T){var $=o[T];r[T]=$,D&&(r.prototype[T]=function(){var W=this.__chain__;if(x||W){var V=r(this.__wrapped__),Z=V.__actions__=ze(this.__actions__);return Z.push({func:$,args:arguments,thisArg:r}),V.__chain__=W,V}return $.apply(r,Qr([this.value()],arguments))})}),r}function gA(){return ye._===this&&(ye._=FE),this}function pf(){}function pA(r){return r=St(r),Ct(function(o){return Mp(o,r)})}var vA=qc(Kt),mA=qc(op),yA=qc(vc);function n0(r){return Qc(r)?mc(rr(r)):Y2(r)}function bA(r){return function(o){return r==null?n:Hi(r,o)}}var wA=av(),xA=av(!0);function vf(){return[]}function mf(){return!1}function _A(){return{}}function OA(){return""}function SA(){return!0}function EA(r,o){if(r=St(r),r<1||r>B)return[];var u=K,f=Oe(r,K);o=dt(o),r-=K;for(var v=wc(f,o);++u<r;)o(u);return v}function DA(r){return _t(r)?Kt(r,rr):Je(r)?[r]:ze(_v(Bt(r)))}function kA(r){var o=++ME;return Bt(r)+o}var CA=gu(function(r,o){return r+o},0),TA=Wc("ceil"),AA=gu(function(r,o){return r/o},1),RA=Wc("floor");function NA(r){return r&&r.length?su(r,Xe,Rc):n}function $A(r,o){return r&&r.length?su(r,dt(o,2),Rc):n}function IA(r){return up(r,Xe)}function PA(r,o){return up(r,dt(o,2))}function jA(r){return r&&r.length?su(r,Xe,Pc):n}function LA(r,o){return r&&r.length?su(r,dt(o,2),Pc):n}var MA=gu(function(r,o){return r*o},1),zA=Wc("round"),FA=gu(function(r,o){return r-o},0);function BA(r){return r&&r.length?bc(r,Xe):0}function XA(r,o){return r&&r.length?bc(r,dt(o,2)):0}return y.after=cC,y.ary=$v,y.assign=ZC,y.assignIn=Vv,y.assignInWith=ku,y.assignWith=QC,y.at=JC,y.before=Iv,y.bind=of,y.bindAll=iA,y.bindKey=Pv,y.castArray=_C,y.chain=Av,y.chunk=RD,y.compact=ND,y.concat=$D,y.cond=oA,y.conforms=aA,y.constant=hf,y.countBy=Bk,y.create=tT,y.curry=jv,y.curryRight=Lv,y.debounce=Mv,y.defaults=eT,y.defaultsDeep=nT,y.defer=fC,y.delay=hC,y.difference=ID,y.differenceBy=PD,y.differenceWith=jD,y.drop=LD,y.dropRight=MD,y.dropRightWhile=zD,y.dropWhile=FD,y.fill=BD,y.filter=Uk,y.flatMap=Wk,y.flatMapDeep=Vk,y.flatMapDepth=Yk,y.flatten=Dv,y.flattenDeep=XD,y.flattenDepth=UD,y.flip=dC,y.flow=uA,y.flowRight=lA,y.fromPairs=HD,y.functions=lT,y.functionsIn=cT,y.groupBy=Gk,y.initial=WD,y.intersection=VD,y.intersectionBy=YD,y.intersectionWith=GD,y.invert=hT,y.invertBy=dT,y.invokeMap=Zk,y.iteratee=df,y.keyBy=Qk,y.keys=ve,y.keysIn=Be,y.map=xu,y.mapKeys=pT,y.mapValues=vT,y.matches=cA,y.matchesProperty=fA,y.memoize=Ou,y.merge=mT,y.mergeWith=Yv,y.method=hA,y.methodOf=dA,y.mixin=gf,y.negate=Su,y.nthArg=pA,y.omit=yT,y.omitBy=bT,y.once=gC,y.orderBy=Jk,y.over=vA,y.overArgs=pC,y.overEvery=mA,y.overSome=yA,y.partial=af,y.partialRight=zv,y.partition=tC,y.pick=wT,y.pickBy=Gv,y.property=n0,y.propertyOf=bA,y.pull=JD,y.pullAll=Cv,y.pullAllBy=tk,y.pullAllWith=ek,y.pullAt=nk,y.range=wA,y.rangeRight=xA,y.rearg=vC,y.reject=rC,y.remove=rk,y.rest=mC,y.reverse=nf,y.sampleSize=oC,y.set=_T,y.setWith=OT,y.shuffle=aC,y.slice=ik,y.sortBy=lC,y.sortedUniq=fk,y.sortedUniqBy=hk,y.split=WT,y.spread=yC,y.tail=dk,y.take=gk,y.takeRight=pk,y.takeRightWhile=vk,y.takeWhile=mk,y.tap=Nk,y.throttle=bC,y.thru=wu,y.toArray=Hv,y.toPairs=Kv,y.toPairsIn=Zv,y.toPath=DA,y.toPlainObject=Wv,y.transform=ST,y.unary=wC,y.union=yk,y.unionBy=bk,y.unionWith=wk,y.uniq=xk,y.uniqBy=_k,y.uniqWith=Ok,y.unset=ET,y.unzip=rf,y.unzipWith=Tv,y.update=DT,y.updateWith=kT,y.values=zo,y.valuesIn=CT,y.without=Sk,y.words=t0,y.wrap=xC,y.xor=Ek,y.xorBy=Dk,y.xorWith=kk,y.zip=Ck,y.zipObject=Tk,y.zipObjectDeep=Ak,y.zipWith=Rk,y.entries=Kv,y.entriesIn=Zv,y.extend=Vv,y.extendWith=ku,gf(y,y),y.add=CA,y.attempt=e0,y.camelCase=NT,y.capitalize=Qv,y.ceil=TA,y.clamp=TT,y.clone=OC,y.cloneDeep=EC,y.cloneDeepWith=DC,y.cloneWith=SC,y.conformsTo=kC,y.deburr=Jv,y.defaultTo=sA,y.divide=AA,y.endsWith=$T,y.eq=Pn,y.escape=IT,y.escapeRegExp=PT,y.every=Xk,y.find=Hk,y.findIndex=Sv,y.findKey=rT,y.findLast=qk,y.findLastIndex=Ev,y.findLastKey=iT,y.floor=RA,y.forEach=Rv,y.forEachRight=Nv,y.forIn=oT,y.forInRight=aT,y.forOwn=sT,y.forOwnRight=uT,y.get=lf,y.gt=CC,y.gte=TC,y.has=fT,y.hasIn=cf,y.head=kv,y.identity=Xe,y.includes=Kk,y.indexOf=qD,y.inRange=AT,y.invoke=gT,y.isArguments=Vi,y.isArray=_t,y.isArrayBuffer=AC,y.isArrayLike=Fe,y.isArrayLikeObject=oe,y.isBoolean=RC,y.isBuffer=oi,y.isDate=NC,y.isElement=$C,y.isEmpty=IC,y.isEqual=PC,y.isEqualWith=jC,y.isError=sf,y.isFinite=LC,y.isFunction=Ar,y.isInteger=Fv,y.isLength=Eu,y.isMap=Bv,y.isMatch=MC,y.isMatchWith=zC,y.isNaN=FC,y.isNative=BC,y.isNil=UC,y.isNull=XC,y.isNumber=Xv,y.isObject=te,y.isObjectLike=re,y.isPlainObject=Na,y.isRegExp=uf,y.isSafeInteger=HC,y.isSet=Uv,y.isString=Du,y.isSymbol=Je,y.isTypedArray=Mo,y.isUndefined=qC,y.isWeakMap=WC,y.isWeakSet=VC,y.join=KD,y.kebabCase=jT,y.last=mn,y.lastIndexOf=ZD,y.lowerCase=LT,y.lowerFirst=MT,y.lt=YC,y.lte=GC,y.max=NA,y.maxBy=$A,y.mean=IA,y.meanBy=PA,y.min=jA,y.minBy=LA,y.stubArray=vf,y.stubFalse=mf,y.stubObject=_A,y.stubString=OA,y.stubTrue=SA,y.multiply=MA,y.nth=QD,y.noConflict=gA,y.noop=pf,y.now=_u,y.pad=zT,y.padEnd=FT,y.padStart=BT,y.parseInt=XT,y.random=RT,y.reduce=eC,y.reduceRight=nC,y.repeat=UT,y.replace=HT,y.result=xT,y.round=zA,y.runInContext=R,y.sample=iC,y.size=sC,y.snakeCase=qT,y.some=uC,y.sortedIndex=ok,y.sortedIndexBy=ak,y.sortedIndexOf=sk,y.sortedLastIndex=uk,y.sortedLastIndexBy=lk,y.sortedLastIndexOf=ck,y.startCase=VT,y.startsWith=YT,y.subtract=FA,y.sum=BA,y.sumBy=XA,y.template=GT,y.times=EA,y.toFinite=Rr,y.toInteger=St,y.toLength=qv,y.toLower=KT,y.toNumber=yn,y.toSafeInteger=KC,y.toString=Bt,y.toUpper=ZT,y.trim=QT,y.trimEnd=JT,y.trimStart=tA,y.truncate=eA,y.unescape=nA,y.uniqueId=kA,y.upperCase=rA,y.upperFirst=ff,y.each=Rv,y.eachRight=Nv,y.first=kv,gf(y,function(){var r={};return er(y,function(o,u){Xt.call(y.prototype,u)||(r[u]=o)}),r}(),{chain:!1}),y.VERSION=i,hn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){y[r].placeholder=y}),hn(["drop","take"],function(r,o){Rt.prototype[r]=function(u){u=u===n?1:pe(St(u),0);var f=this.__filtered__&&!o?new Rt(this):this.clone();return f.__filtered__?f.__takeCount__=Oe(u,f.__takeCount__):f.__views__.push({size:Oe(u,K),type:r+(f.__dir__<0?"Right":"")}),f},Rt.prototype[r+"Right"]=function(u){return this.reverse()[r](u).reverse()}}),hn(["filter","map","takeWhile"],function(r,o){var u=o+1,f=u==C||u==N;Rt.prototype[r]=function(v){var x=this.clone();return x.__iteratees__.push({iteratee:dt(v,3),type:u}),x.__filtered__=x.__filtered__||f,x}}),hn(["head","last"],function(r,o){var u="take"+(o?"Right":"");Rt.prototype[r]=function(){return this[u](1).value()[0]}}),hn(["initial","tail"],function(r,o){var u="drop"+(o?"":"Right");Rt.prototype[r]=function(){return this.__filtered__?new Rt(this):this[u](1)}}),Rt.prototype.compact=function(){return this.filter(Xe)},Rt.prototype.find=function(r){return this.filter(r).head()},Rt.prototype.findLast=function(r){return this.reverse().find(r)},Rt.prototype.invokeMap=Ct(function(r,o){return typeof r=="function"?new Rt(this):this.map(function(u){return Da(u,r,o)})}),Rt.prototype.reject=function(r){return this.filter(Su(dt(r)))},Rt.prototype.slice=function(r,o){r=St(r);var u=this;return u.__filtered__&&(r>0||o<0)?new Rt(u):(r<0?u=u.takeRight(-r):r&&(u=u.drop(r)),o!==n&&(o=St(o),u=o<0?u.dropRight(-o):u.take(o-r)),u)},Rt.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Rt.prototype.toArray=function(){return this.take(K)},er(Rt.prototype,function(r,o){var u=/^(?:filter|find|map|reject)|While$/.test(o),f=/^(?:head|last)$/.test(o),v=y[f?"take"+(o=="last"?"Right":""):o],x=f||/^find/.test(o);v&&(y.prototype[o]=function(){var D=this.__wrapped__,T=f?[1]:arguments,$=D instanceof Rt,W=T[0],V=$||_t(D),Z=function(Tt){var Nt=v.apply(y,Qr([Tt],T));return f&&ot?Nt[0]:Nt};V&&u&&typeof W=="function"&&W.length!=1&&($=V=!1);var ot=this.__chain__,ht=!!this.__actions__.length,pt=x&&!ot,Dt=$&&!ht;if(!x&&V){D=Dt?D:new Rt(this);var vt=r.apply(D,T);return vt.__actions__.push({func:wu,args:[Z],thisArg:n}),new gn(vt,ot)}return pt&&Dt?r.apply(this,T):(vt=this.thru(Z),pt?f?vt.value()[0]:vt.value():vt)})}),hn(["pop","push","shift","sort","splice","unshift"],function(r){var o=Ws[r],u=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",f=/^(?:pop|shift)$/.test(r);y.prototype[r]=function(){var v=arguments;if(f&&!this.__chain__){var x=this.value();return o.apply(_t(x)?x:[],v)}return this[u](function(D){return o.apply(_t(D)?D:[],v)})}}),er(Rt.prototype,function(r,o){var u=y[o];if(u){var f=u.name+"";Xt.call($o,f)||($o[f]=[]),$o[f].push({name:o,func:u})}}),$o[du(n,O).name]=[{name:"wrapper",func:n}],Rt.prototype.clone=n2,Rt.prototype.reverse=r2,Rt.prototype.value=i2,y.prototype.at=$k,y.prototype.chain=Ik,y.prototype.commit=Pk,y.prototype.next=jk,y.prototype.plant=Mk,y.prototype.reverse=zk,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=Fk,y.prototype.first=y.prototype.head,ba&&(y.prototype[ba]=Lk),y},Ao=PE();zi?((zi.exports=Ao)._=Ao,hc._=Ao):ye._=Ao}).call(Ue)}(Ka,Ka.exports);var Wy=Ka.exports;const X=ir(Wy),wh="DragDropBox",Vt={TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right"},Ut={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom",HORIZON:"horizon",VERTICAL:"vertical"},Pr={STRAIGHT:"straight",CURVE_AUTO:"curve-auto",BROKEN:"broken",BROKEN_ROUNDED:"broken-rounded"},ol={Shift:16,Ctrl:17,Alt:18,Delete:46,Backspace:8},Ln=52,Mn=52,xh=10,_h=/(-\d+(\.\d+)?)|(\d+(\.\d+)?)/g,Vy=.1,Yy=10,al=120,Za=t=>t*(Math.PI/180);function zn({node:t,deg:e,coord:{x:n,y:i}}){const a=t.width/2,s=t.height/2,l=n,c=i,h=l*Math.cos(Za(e))-c*Math.sin(Za(e)),d=c*Math.cos(Za(e))+l*Math.sin(Za(e));return{x:a+h,y:s+d}}function jr(t,e){let n=[];const i=X.find(t,a=>a.id===e);return i?n=[i]:X.forEach(t,a=>{if(X.isEmpty(n)){const s=jr(a.children||[],e);X.isEmpty(s)||(n=[a].concat(s))}}),n}function On(t,e){const n=jr(t,e);if(!X.isEmpty(n)){const i=X.last(n);if(i){let a=0;const{relativeX:s,relativeY:l,absRotateDeg:c}=X.reduce(n,(h,d,g)=>{if(h.relativeX+=d.x||0,h.relativeY+=d.y||0,h.absRotateDeg+=+(d.rotateDeg||0),g>0&&(n[g-1].rotateDeg||a)){const m=n[g-1];m.rotateDeg&&(a+=+m.rotateDeg);const p=h.relativeX-(d.x||0),b=h.relativeY-(d.y||0),E=zn({node:m,deg:a,coord:{x:(d.x||0)+d.width/2-m.width/2,y:(d.y||0)+d.height/2-m.height/2}}),k=p+E.x,w=b+E.y,O=k-(h.relativeX+d.width/2),I=w-(h.relativeY+d.height/2);h.relativeX+=O,h.relativeY+=I}return h},{relativeX:0,relativeY:0,absRotateDeg:0});return Mt(J({},i),{absRotateDeg:c%360,relativeX:s,relativeY:l})}return i}}function Qa(t,e,n=0,i=0){const a=X.find(t,s=>Gy(s,e,n,i));return a&&(Qa(a.children||[],e,(a.x||0)+n,(a.y||0)+i)||a)}function Gy(t,e,n,i){let a=e.relativeX,s=e.relativeY,l=e.width,c=e.height;return e.expand===!1&&(a=((e==null?void 0:e.relativeX)||0)+((e.width||0)-52)/2,s=((e==null?void 0:e.relativeY)||0)+((e.height||0)-52)/2,l=52,c=52),t.expand!==!1&&t.id!==e.id&&t.draginDisabled!==!0&&(a||0)>=(t.x||0)+n&&(a||0)+l<=(t.x||0)+n+t.width&&(s||0)>=(t.y||0)+i&&(s||0)+c<=(t.y||0)+i+t.height}function sl(t,e){const n=jr(t,(e==null?void 0:e.id)||"");return X.reduce(n,(i,a)=>(i+=+(a.rotateDeg||0),i),0)%360}function Ky(t){const{x:e=0,y:n=0,rotateDeg:i,width:a,height:s}=t||{},l=`translate(${e}, ${n})`;return i?`${l} rotate(${i} ${(a||0)/2} ${(s||0)/2})`:l}function Zy(t){const e=X.findIndex(t,n=>n.expand===!1);return e>-1?t.slice(0,e+1):t}function ul(t,e){const n=jr(t,e);if(X.isEmpty(n))return null;const i=Zy(n);let a=0;const{relativeX:s,relativeY:l}=X.reduce(i,(m,p,b)=>{if(p.expand===!1?(m.relativeX+=(p.x||0)+(p.width-Ln)/2,m.relativeY+=(p.y||0)+(p.height-Mn)/2):(m.relativeX+=p.x||0,m.relativeY+=p.y||0),b>0&&(i[b-1].rotateDeg||a)){const E=i[b-1];E.rotateDeg&&(a+=+E.rotateDeg);const k=m.relativeX-(p.x||0),w=m.relativeY-(p.y||0),O=zn({node:E,deg:a,coord:{x:(p.x||0)+p.width/2-E.width/2,y:(p.y||0)+p.height/2-E.height/2}}),I=k+O.x,A=w+O.y,_=I-(m.relativeX+p.width/2),L=A-(m.relativeY+p.height/2);m.relativeX+=_,m.relativeY+=L}return m},{relativeX:0,relativeY:0}),c=X.last(i),h=X.reduce(i,(m,p)=>(m+=+(p.rotateDeg||0),m),0)%360,d=(c==null?void 0:c.expand)===!1?Ln:c==null?void 0:c.width,g=(c==null?void 0:c.expand)===!1?Mn:c==null?void 0:c.height;return Mt(J({},X.pick(c,["id","x","y","expand"])),{absRotateDeg:h,relativeX:s,relativeY:l,width:d||50,height:g||50,originWidth:c==null?void 0:c.width,originHeight:c==null?void 0:c.height})}function Fn(t,e,n){const[i,a]=(t==null?void 0:t.split("|"))||[];let s=+a;const l=X.includes([Vt.LEFT,Vt.RIGHT],i);s<1&&(s=l?s*e.height:s*e.width),e.expand===!1&&(s=l?s*e.height/(e==null?void 0:e.originHeight):s*e.width/(e==null?void 0:e.originWidth));const{relativeX:c=0,relativeY:h=0,width:d,height:g}=e;let m=0,p=0;const b=d/2,E=g/2;switch(i){case Vt.TOP:m=s||b;break;case Vt.RIGHT:m=d,p=s||E;break;case Vt.BOTTOM:m=s||b,p=g;break;default:p=s||E;break}if(n){const k=zn({node:e,deg:n,coord:{x:m-b,y:p-E}});m=k.x,p=k.y}return{x:c+m,y:h+p}}function Qy(t,e){const n=(e==null?void 0:e.children)||[];if(!X.isEmpty(n)){const i=X.minBy(n,g=>g.y),a=X.maxBy(n,g=>((g==null?void 0:g.x)||0)+g.width),s=X.maxBy(n,g=>((g==null?void 0:g.y)||0)+g.height),l=X.minBy(n,g=>g.x),c=4,h=((a==null?void 0:a.x)||0)+((a==null?void 0:a.width)||0)-((l==null?void 0:l.x)||0)+c*2,d=((s==null?void 0:s.y)||0)+((s==null?void 0:s.height)||0)-((i==null?void 0:i.y)||0)+c*2;if(t.width<h){const g=h-t.width,m=((l==null?void 0:l.x)||0)-c;t.width=h,e.width===h?t.x=e.x||0:(t.x!==e.x&&(t.x-=g-c),X.map(n,p=>{let b=(p==null?void 0:p.x)||0;return b-=m,b}))}if(t.height<d){const g=d-t.height,m=((l==null?void 0:l.y)||0)-c;t.height=d,e.height===d?t.y=e.y||0:(t.y!==e.y&&(t.y-=g-c),X.map(n,p=>{let b=(p==null?void 0:p.y)||0;return b-=m,b}))}}return t}function hi(t=[],e,n){const i=X.cloneDeep(t);return i&&i.length>0?X.map(i,a=>(a.id===e?a=typeof n=="function"?n(a):J(J({},a),n):a.children=hi(a.children,e,n),a)):i}function Oh(t){if(X.isEmpty(t))return[];const e=X.map(t,n=>[n].concat(Oh((n==null?void 0:n.children)||[])));return X.reduce(e,(n,i)=>n.concat(i),[])}function Jy(t,e,n){const i=[t],a=X.map(i,c=>Oh(c.children||[])),s=X.reduce(a,(c,h)=>c.concat(h||[]),[]),l=X.map(s.concat(i),"id");return X.map(n,c=>((X.includes(l,c.source)||X.includes(l,c.target))&&(c=Vo(e,c)),c))}function Sh({node:t,nodes:e,chain:n}){let i=[...e];const a=J({},t);n||(n=jr(e,t.id));const s=n[n.length-2],l=Qa(i,a);return X.isEqual(l,s)?s?i=hi(i,s.id,c=>{var h;const{x:d,y:g}=X.reduce(n.slice(0,-1),(p,b)=>({x:p.x+((b==null?void 0:b.x)||0),y:((p==null?void 0:p.y)||0)+((b==null?void 0:b.y)||0)}),{x:0,y:0}),m=X.findIndex(c.children,p=>p.id===a.id);return(h=c.children)!=null&&h[m]&&(c.children[m].x=((a==null?void 0:a.relativeX)||0)-d,c.children[m].y=((a==null?void 0:a.relativeY)||0)-g),c}):i=hi(i,a.id,c=>(c.x=a.relativeX,c.y=a.relativeY,c)):(s?i=hi(i,s.id,c=>(c.children=X.filter(c.children,h=>h.id!==a.id),c)):i=X.filter(i,c=>c.id!==a.id),l?i=hi(i,l.id,c=>{const{relativeX:h,relativeY:d}=On(i,(c==null?void 0:c.id)||"")||{relativeX:0,relativeY:0};return c.children=(c.children||[]).concat(Mt(J({},a),{x:((a==null?void 0:a.relativeX)||0)-(h||0),y:((a==null?void 0:a.relativeY)||0)-(d||0)})),c}):i=i.concat(Mt(J({},a),{x:a.relativeX,y:a.relativeY}))),i}function t1(t,e){return X.map(t,n=>ul(e,n.id))||[]}function e1(t){const[e,n]=t;return e>=Vy&&n<=Yy&&e<n}function n1({entry:t,exit:e,edge:{sourceDirection:n,targetDirection:i},srcAbsRotateDeg:a,tgtAbsRotateDeg:s,entryExt:l=xh,exitExt:c=xh}){const h=new Map([[Vt.TOP,[0,-1]],[Vt.RIGHT,[1,0]],[Vt.BOTTOM,[0,1]],[Vt.LEFT,[-1,0]]]);let[d,g]=n.split("|"),[m,p]=i.split("|");t.centerX=t.width/2+t.relativeX,t.centerY=t.height/2+t.relativeY,e.centerX=e.width/2+e.relativeX,e.centerY=e.height/2+e.relativeY;const b=h.get(d)||[0,0],E=h.get(m)||[0,0],k=[t.centerX+b[0]*t.width/2,t.centerY+b[1]*t.height/2];if(g){const O=X.includes([Vt.LEFT,Vt.RIGHT],d);g<1&&(g=O?g*(t.originHeight||t.height):g*(t.originWidth||t.width));const I=O?1:0,A=O?t.height/2:t.width/2;t.expand===!1&&(g=O?g*t.height/(t.originHeight||t.height):g*t.width/(t.originWidth||t.width)),k[I]+=+g-A}const w=[e.centerX+E[0]*e.width/2,e.centerY+E[1]*e.height/2];if(p){const O=X.includes([Vt.LEFT,Vt.RIGHT],m);p<1&&(p=O?p*(e.originHeight||e.height):p*(e.originWidth||e.width));const I=O?1:0,A=O?e.height/2:e.width/2;e.expand===!1&&(p=O?p*e.height/(e.originHeight||e.height):p*e.width/(e.originWidth||e.width)),w[I]+=+p-A}if(a){const O=zn({node:t,deg:a,coord:{x:k[0]-(t.relativeX+t.width/2),y:k[1]-(t.relativeY+t.height/2)}});k[0]=t.relativeX+O.x,k[1]=t.relativeY+O.y}if(s){const O=zn({node:e,deg:s,coord:{x:w[0]-(e.relativeX+e.width/2),y:w[1]-(e.relativeY+e.height/2)}});w[0]=e.relativeX+O.x,w[1]=e.relativeY+O.y}return{entryPoint:k,entryDirection:b,entryExt:l,exitPoint:w,exitDirection:E,exitExt:c}}const di=function(t,e){return[t[0]+e[0],t[1]+e[1]]},qo=function(t,e){return[t[0]*e,t[1]*e]},r1=function(t,e){return[e[0]-t[0],e[1]-t[1]]},Eh=function(t,e){return t[0]*e[1]-t[1]*e[0]===0},ll=function(t,e){return t[0]*e[0]+t[1]*e[1]},i1=function(t){const e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[t[0]/e,t[1]/e]};function o1({entryPoint:t=[0,0],entryDirection:e=[0,1],exitPoint:n=[10,10],exitDirection:i=[1,0],entryExt:a=10,exitExt:s=10}={},l=.5){if(i===null||i.join()==="0,0"){const _=r1(n,t);Math.abs(_[0])>Math.abs(_[1])?i=[_[0]/Math.abs(_[0]),0]:i=[0,_[1]/Math.abs(_[1])]}const c=di(t,qo(e,a)),h=di(n,qo(i,s));i=qo(i,-1);const d=[h[0]-c[0],0],g=[0,h[1]-c[1]],m=[d,g];let p;const b=m.find(_=>Eh(_,e))||[0,0];ll(b,e)>0?p=b:p=cl(m,b);let E;const k=m.find(_=>Eh(_,i))||[0,0];ll(k,i)>0?E=k:E=cl(m,k);const w=ll(p,E)>0?2:1,O=cl(m,E),I=[];if(I.push({position:t,direction:null},{position:c,direction:e}),w===1){const _=di(c,p),L=Wo(p),P=di(_,E),M=Wo(E);I.push({position:_,direction:L},{position:P,direction:M})}else{const _=di(c,qo(p,l)),L=Wo(p),P=di(_,O),M=Wo(O),nt=di(P,qo(E,1-l)),ft=Wo(E);I.push({position:_,direction:L},{position:P,direction:M,type:"pathMiddleP"},{position:nt,direction:ft})}I.push({position:n,direction:i});const A=I.filter(_=>_.direction!==!1);if(A.length===3){const _=JSON.parse(JSON.stringify(A[2]));_.position=[_.position[0]+s,_.position[1]],A.splice(2,0,_),A.splice(2,0,A[1],A[2])}return A.length===5&&(A.every(_=>_.position[0]===A[0].position[0])||A.every(_=>_.position[1]===A[0].position[1])?A.splice(2,1,A[1],A[3]):A[0].position[0]===A[1].position[0]?A[2].position[0]===A[0].position[0]?A.splice(3,0,A[3]):A.splice(2,0,A[1]):A[0].position[1]===A[1].position[1]&&(A[2].position[1]===A[0].position[1]?A.splice(3,0,A[3]):A.splice(2,0,A[1]))),A}function cl(t,e){return t.find(n=>n!==e)||[0,0]}function Wo(t){return t[0]===0&&t[1]===0?!1:t[0]===0?[0,t[1]/Math.abs(t[1])]:t[1]===0?[t[0]/Math.abs(t[0]),0]:i1(t)}const Dh=({srcNode:t,tgtNode:e,edge:n})=>{var i,a,s;const l=(n==null?void 0:n.type)||Pr.STRAIGHT,{absRotateDeg:c,absRotateDeg:h}=t,d=n1({entry:t,exit:e,edge:n,srcRotate:c,tgtRotate:h}),g=o1(d),m=8;let p="";g.forEach((_,L)=>{if(L>0){const P=g[L-1],[M,nt]=P.position,[ft,G]=_.position,tt=Math.max(Math.abs(ft-M),Math.abs(G-nt)),[rt,Y]=P.direction||[0,0],[C,j]=_.direction||[0,0],N=g[L+1],F=N?Math.max(Math.abs(N.position[0]-ft),Math.abs(N.position[1]-G)):0,B=Math.min(m,tt,F||m);l===Pr.BROKEN_ROUNDED&&tt>0&&F>0&&(rt!==C||Y!==j)?p+=j===0?`L ${M} ${nt-Y*B} Q ${M} ${nt} ${M+C*B} ${nt}`:`L ${M-rt*B} ${nt} Q ${M} ${nt} ${M} ${nt+j*B}`:p+=`L ${M} ${nt}`}else p=`M ${_.position[0]} ${_.position[1]}`});const b=((i=g[g.length-1])==null?void 0:i.position)||[];p+=`L ${b[0]} ${b[1]}`;const E=g.findIndex(_=>_.type==="pathMiddleP"),k=E!==-1?E:Math.floor(g.length/2),w=((a=g[k])==null?void 0:a.position)||[],O=(s=g[k-1])==null?void 0:s.position,I=O[0]+(w[0]-O[0])/2,A=O[1]+(w[1]-O[1])/2;return{pathD:p,centerX:I,centerY:A}};function kh(t,e){const n=(e.x||0)-(t.x||0),i=(e.y||0)-(t.y||0);return Math.sqrt(n*n+i*i)}const a1=({srcNode:t,tgtNode:e})=>{const n=t.absRotateDeg,i=e.absRotateDeg,{relativeX:a=0,relativeY:s=0}=t,{relativeX:l=0,relativeY:c=0}=e,[h,d]=a<l?[Fn(Vt.RIGHT,t),Fn(Vt.LEFT,e)]:[Fn(Vt.LEFT,t),Fn(Vt.RIGHT,e)],[g,m]=s<c?[Fn(Vt.BOTTOM,t),Fn(Vt.TOP,e)]:[Fn(Vt.TOP,t),Fn(Vt.BOTTOM,e)],p=kh(h,d),b=kh(g,m),E=p<b,[k,w]=E?[h,d]:[g,m];if(n){const P=zn({node:t,deg:n,coord:{x:k.x-((t.relativeX||0)+t.width/2),y:k.y-((t.relativeY||0)+t.height/2)}});k.x=(t.relativeX||0)+P.x,k.y=(t.relativeY||0)+P.y}if(i){const P=zn({node:e,deg:i,coord:{x:w.x-((e.relativeX||0)+e.width/2),y:w.y-((e.relativeY||0)+e.height/2)}});w.x=(e.relativeX||0)+P.x,w.y=(e.relativeY||0)+P.y}const O=80,I=E?k.x<w.x?1:-1:k.y<w.y?1:-1,A=E?`M ${k.x} ${k.y} C ${k.x+I*O} ${k.y} ${w.x-I*O} ${w.y} ${w.x} ${w.y}`:`M ${k.x} ${k.y} C ${k.x} ${k.y+I*O} ${w.x} ${w.y-I*O} ${w.x} ${w.y}`,_=k.x+(w.x-k.x)/2,L=k.y+(w.y-k.y)/2;return{pathD:A,centerX:_,centerY:L}},s1=({srcNode:t,tgtNode:e,edge:n})=>{const i=t.absRotateDeg,a=e.absRotateDeg,s=Fn(n==null?void 0:n.sourceDirection,t,i),l=Fn(n==null?void 0:n.targetDirection,e,a);return{centerX:s.x+(l.x-s.x)/2,centerY:s.y+(l.y-s.y)/2,pathD:`M ${s.x},${s.y} L ${l.x},${l.y}`}};function Ch(t,e){return X.map(e,n=>Vo(t||[],n))}function Vo(t,e){var n;const i=ul(t,e.source),a=ul(t,e.target),s=e.type||Pr.STRAIGHT;if(!i||!a)return Mt(J({},e),{pathD:"",centerX:0,centerY:0});if(i.id===a.id)return Mt(J({},e),{pathD:"",centerX:0,centerY:0});const l={[Pr.STRAIGHT]:s1,[Pr.CURVE_AUTO]:a1,[Pr.BROKEN]:Dh,[Pr.BROKEN_ROUNDED]:Dh};return J(J({},e),(n=l==null?void 0:l[s])==null?void 0:n.call(l,{srcNode:i,tgtNode:a,edge:e}))}function Qi(){return"100080000000000".replace(/[018]/g,t=>(+t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+t/4).toString(16))}const le=Py((t,e)=>({state:{width:0,height:0,nodes:[],edges:[],backupData:[],svgInfo:{},selectedNodes:[],selectedEdges:[],marqueeNodes:[],copyNode:null,targetInfo:null,gaussianBlur:26,centroidTick:0,uniqId:Qi(),edgeProps:{},nodeProps:{}},setState:n=>{t(i=>({state:J(J({},i),n)}))},getState:()=>e().state,setNodes:n=>{t(je(({state:i})=>{i.nodes=n}))},setEdges:n=>{t(je(({state:i})=>{i.edges=n}))},insertEdge:n=>{t(je(({state:i})=>{const a=Vo(i.nodes,n);i.edges=i.edges.concat(a)}))},deleteNodeByIds:n=>{t(je(({state:i})=>{i.nodes=X.filter(i.nodes,a=>!X.includes(n,a.id)),i.edges=X.filter(i.edges,a=>!X.includes(n,a.source)&&!X.includes(n,a.target))}))},deleteEdgeByIds:n=>{t(je(({state:i})=>{i.edges=X.filter(i.edges,a=>!X.includes(n,a.id))}))},setSvgInfo:n=>{t(je(({state:i})=>{i.svgInfo=n}))},setCanvasSize:n=>{t(je(({state:i})=>{i.width=(n==null?void 0:n.width)||0,i.height=(n==null?void 0:n.height)||0}))},setSelectedNodes:n=>{t(je(({state:i})=>{i.selectedNodes=n}))},setMarqueeNodes:n=>{t(je(({state:i})=>{i.marqueeNodes=n}))},setSelectedEdges:n=>{t(je(({state:i})=>{i.selectedEdges=n}))},updateEdge:n=>{let i=Array.isArray(n)?n:[n];t(je(({state:a})=>{i=X.map(i,s=>(s.pathD||(s=Vo(a.nodes,s)),s)),a.edges=X.map(a.edges,s=>{const l=X.findIndex(i,c=>c.id===s.id);return l>-1?i[l]:s})}))},resizeNode:(n,i)=>{t(je(({state:a})=>{const{nodes:s,edges:l}=a,c=jr(s,n==null?void 0:n.id),h=c[c.length-1];i=Qy(i,h);const d=hi(s,n==null?void 0:n.id,i),g=Ch(d,l);a.nodes=d,a.edges=g}))},updateNodesAndEdges:(n,i,a="patch")=>{t(je(({state:s})=>{var l;a==="patch"&&(s.backupData=(l=s.backupData)==null?void 0:l.concat({nodes:X.cloneDeep(s.nodes),edges:X.cloneDeep(s.edges)})),s.nodes=n,s.edges=i}))},updateNodes:n=>{t(je(({state:i})=>{const a=X.map(i.edges,s=>Vo(n,s));i.nodes=n,i.edges=a}))}}));var Th=function(){if(typeof Map<"u")return Map;function t(e,n){var i=-1;return e.some(function(a,s){return a[0]===n?(i=s,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var i=t(this.__entries__,n),a=this.__entries__[i];return a&&a[1]},e.prototype.set=function(n,i){var a=t(this.__entries__,n);~a?this.__entries__[a][1]=i:this.__entries__.push([n,i])},e.prototype.delete=function(n){var i=this.__entries__,a=t(i,n);~a&&i.splice(a,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,i){i===void 0&&(i=null);for(var a=0,s=this.__entries__;a<s.length;a++){var l=s[a];n.call(i,l[1],l[0])}},e}()}(),fl=typeof window<"u"&&typeof document<"u"&&window.document===document,Ja=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),u1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ja):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),l1=2;function c1(t,e){var n=!1,i=!1,a=0;function s(){n&&(n=!1,t()),i&&c()}function l(){u1(s)}function c(){var h=Date.now();if(n){if(h-a<l1)return;i=!0}else n=!0,i=!1,setTimeout(l,e);a=h}return c}var f1=20,h1=["top","right","bottom","left","width","height","size","weight"],d1=typeof MutationObserver<"u",g1=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=c1(this.refresh.bind(this),f1)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,i=n.indexOf(e);~i&&n.splice(i,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!fl||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),d1?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!fl||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,i=n===void 0?"":n,a=h1.some(function(s){return!!~i.indexOf(s)});a&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Ah=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var a=i[n];Object.defineProperty(t,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return t},Ji=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Ja},Rh=es(0,0,0,0);function ts(t){return parseFloat(t)||0}function Nh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(i,a){var s=t["border-"+a+"-width"];return i+ts(s)},0)}function p1(t){for(var e=["top","right","bottom","left"],n={},i=0,a=e;i<a.length;i++){var s=a[i],l=t["padding-"+s];n[s]=ts(l)}return n}function v1(t){var e=t.getBBox();return es(0,0,e.width,e.height)}function m1(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Rh;var i=Ji(t).getComputedStyle(t),a=p1(i),s=a.left+a.right,l=a.top+a.bottom,c=ts(i.width),h=ts(i.height);if(i.boxSizing==="border-box"&&(Math.round(c+s)!==e&&(c-=Nh(i,"left","right")+s),Math.round(h+l)!==n&&(h-=Nh(i,"top","bottom")+l)),!b1(t)){var d=Math.round(c+s)-e,g=Math.round(h+l)-n;Math.abs(d)!==1&&(c-=d),Math.abs(g)!==1&&(h-=g)}return es(a.left,a.top,c,h)}var y1=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Ji(t).SVGGraphicsElement}:function(t){return t instanceof Ji(t).SVGElement&&typeof t.getBBox=="function"}}();function b1(t){return t===Ji(t).document.documentElement}function w1(t){return fl?y1(t)?v1(t):m1(t):Rh}function x1(t){var e=t.x,n=t.y,i=t.width,a=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(s.prototype);return Ah(l,{x:e,y:n,width:i,height:a,top:n,right:e+i,bottom:a+n,left:e}),l}function es(t,e,n,i){return{x:t,y:e,width:n,height:i}}var _1=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=es(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=w1(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),O1=function(){function t(e,n){var i=x1(n);Ah(this,{target:e,contentRect:i})}return t}(),S1=function(){function t(e,n,i){if(this.activeObservations_=[],this.observations_=new Th,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=i}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ji(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new _1(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ji(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(i){return new O1(i.target,i.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),$h=typeof WeakMap<"u"?new WeakMap:new Th,Ih=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=g1.getInstance(),i=new S1(e,n,this);$h.set(this,i)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Ih.prototype[t]=function(){var e;return(e=$h.get(this))[t].apply(e,arguments)}});var Ph=function(){return typeof Ja.ResizeObserver<"u"?Ja.ResizeObserver:Ih}();function E1(t){return typeof t=="function"}function hl(t,e){if(!t)return e;let n;return E1(t)?n=t():"current"in t?n=t.current:n=t,n}function D1(t){const e=(0,S.useRef)(t);return e.current=t,e}function jh(t){const e=D1(t);(0,S.useEffect)(()=>()=>{e.current()},[])}function Lh(t,e){if(t===e)return!0;for(let n=0;n<t.length;n++)if(!Object.is(t[n],e[n]))return!1;return!0}function k1(t){return(e,n,i)=>{const a=(0,S.useRef)(!1),s=(0,S.useRef)([]),l=(0,S.useRef)([]),c=(0,S.useRef)();t(()=>{var h;const d=(Array.isArray(i)?i:[i]).map(g=>hl(g));if(!a.current){a.current=!0,s.current=d,l.current=n,c.current=e();return}(d.length!==s.current.length||!Lh(s.current,d)||!Lh(l.current,n))&&((h=c.current)==null||h.call(c),s.current=d,l.current=n,c.current=e())}),jh(()=>{var h;(h=c.current)==null||h.call(c),a.current=!1})}}function C1(t){const e=(0,S.useRef)(0),[n,i]=(0,S.useState)(t),a=(0,S.useCallback)(s=>{cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{i(s)})},[]);return jh(()=>{cancelAnimationFrame(e.current)}),[n,a]}function T1(t){const[e,n]=C1(()=>{const i=hl(t);return i?{width:i.clientWidth,height:i.clientHeight}:void 0});return k1(S.useLayoutEffect)(()=>{const i=hl(t);if(!i)return;const a=new Ph(s=>{s.forEach(l=>{const{clientWidth:c,clientHeight:h}=l.target;n({width:c,height:h})})});return a.observe(i),()=>{a.disconnect()}},[],t),e}var A1={value:()=>{}};function ns(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new rs(n)}function rs(t){this._=t}function R1(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",a=n.indexOf(".");if(a>=0&&(i=n.slice(a+1),n=n.slice(0,a)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}rs.prototype=ns.prototype={constructor:rs,on:function(t,e){var n=this._,i=R1(t+"",n),a,s=-1,l=i.length;if(arguments.length<2){for(;++s<l;)if((a=(t=i[s]).type)&&(a=N1(n[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<l;)if(a=(t=i[s]).type)n[a]=Mh(n[a],t.name,e);else if(e==null)for(a in n)n[a]=Mh(n[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new rs(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var n=new Array(a),i=0,a,s;i<a;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,a=s.length;i<a;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],a=0,s=i.length;a<s;++a)i[a].value.apply(e,n)}};function N1(t,e){for(var n=0,i=t.length,a;n<i;++n)if((a=t[n]).name===e)return a.value}function Mh(t,e,n){for(var i=0,a=t.length;i<a;++i)if(t[i].name===e){t[i]=A1,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var dl="http://www.w3.org/1999/xhtml";const zh={svg:"http://www.w3.org/2000/svg",xhtml:dl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function is(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),zh.hasOwnProperty(e)?{space:zh[e],local:t}:t}function $1(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===dl&&e.documentElement.namespaceURI===dl?e.createElement(t):e.createElementNS(n,t)}}function I1(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Fh(t){var e=is(t);return(e.local?I1:$1)(e)}function P1(){}function gl(t){return t==null?P1:function(){return this.querySelector(t)}}function j1(t){typeof t!="function"&&(t=gl(t));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var s=e[a],l=s.length,c=i[a]=new Array(l),h,d,g=0;g<l;++g)(h=s[g])&&(d=t.call(h,h.__data__,g,s))&&("__data__"in h&&(d.__data__=h.__data__),c[g]=d);return new Ve(i,this._parents)}function L1(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function M1(){return[]}function Bh(t){return t==null?M1:function(){return this.querySelectorAll(t)}}function z1(t){return function(){return L1(t.apply(this,arguments))}}function F1(t){typeof t=="function"?t=z1(t):t=Bh(t);for(var e=this._groups,n=e.length,i=[],a=[],s=0;s<n;++s)for(var l=e[s],c=l.length,h,d=0;d<c;++d)(h=l[d])&&(i.push(t.call(h,h.__data__,d,l)),a.push(h));return new Ve(i,a)}function Xh(t){return function(){return this.matches(t)}}function Uh(t){return function(e){return e.matches(t)}}var B1=Array.prototype.find;function X1(t){return function(){return B1.call(this.children,t)}}function U1(){return this.firstElementChild}function H1(t){return this.select(t==null?U1:X1(typeof t=="function"?t:Uh(t)))}var q1=Array.prototype.filter;function W1(){return Array.from(this.children)}function V1(t){return function(){return q1.call(this.children,t)}}function Y1(t){return this.selectAll(t==null?W1:V1(typeof t=="function"?t:Uh(t)))}function G1(t){typeof t!="function"&&(t=Xh(t));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var s=e[a],l=s.length,c=i[a]=[],h,d=0;d<l;++d)(h=s[d])&&t.call(h,h.__data__,d,s)&&c.push(h);return new Ve(i,this._parents)}function Hh(t){return new Array(t.length)}function K1(){return new Ve(this._enter||this._groups.map(Hh),this._parents)}function os(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}os.prototype={constructor:os,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Z1(t){return function(){return t}}function Q1(t,e,n,i,a,s){for(var l=0,c,h=e.length,d=s.length;l<d;++l)(c=e[l])?(c.__data__=s[l],i[l]=c):n[l]=new os(t,s[l]);for(;l<h;++l)(c=e[l])&&(a[l]=c)}function J1(t,e,n,i,a,s,l){var c,h,d=new Map,g=e.length,m=s.length,p=new Array(g),b;for(c=0;c<g;++c)(h=e[c])&&(p[c]=b=l.call(h,h.__data__,c,e)+"",d.has(b)?a[c]=h:d.set(b,h));for(c=0;c<m;++c)b=l.call(t,s[c],c,s)+"",(h=d.get(b))?(i[c]=h,h.__data__=s[c],d.delete(b)):n[c]=new os(t,s[c]);for(c=0;c<g;++c)(h=e[c])&&d.get(p[c])===h&&(a[c]=h)}function tb(t){return t.__data__}function eb(t,e){if(!arguments.length)return Array.from(this,tb);var n=e?J1:Q1,i=this._parents,a=this._groups;typeof t!="function"&&(t=Z1(t));for(var s=a.length,l=new Array(s),c=new Array(s),h=new Array(s),d=0;d<s;++d){var g=i[d],m=a[d],p=m.length,b=nb(t.call(g,g&&g.__data__,d,i)),E=b.length,k=c[d]=new Array(E),w=l[d]=new Array(E),O=h[d]=new Array(p);n(g,m,k,w,O,b,e);for(var I=0,A=0,_,L;I<E;++I)if(_=k[I]){for(I>=A&&(A=I+1);!(L=w[A])&&++A<E;);_._next=L||null}}return l=new Ve(l,i),l._enter=c,l._exit=h,l}function nb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rb(){return new Ve(this._exit||this._groups.map(Hh),this._parents)}function ib(t,e,n){var i=this.enter(),a=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(a=e(a),a&&(a=a.selection())),n==null?s.remove():n(s),i&&a?i.merge(a).order():a}function ob(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,a=n.length,s=i.length,l=Math.min(a,s),c=new Array(a),h=0;h<l;++h)for(var d=n[h],g=i[h],m=d.length,p=c[h]=new Array(m),b,E=0;E<m;++E)(b=d[E]||g[E])&&(p[E]=b);for(;h<a;++h)c[h]=n[h];return new Ve(c,this._parents)}function ab(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],a=i.length-1,s=i[a],l;--a>=0;)(l=i[a])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function sb(t){t||(t=ub);function e(m,p){return m&&p?t(m.__data__,p.__data__):!m-!p}for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s){for(var l=n[s],c=l.length,h=a[s]=new Array(c),d,g=0;g<c;++g)(d=l[g])&&(h[g]=d);h.sort(e)}return new Ve(a,this._parents).order()}function ub(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function lb(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function cb(){return Array.from(this)}function fb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],a=0,s=i.length;a<s;++a){var l=i[a];if(l)return l}return null}function hb(){let t=0;for(const e of this)++t;return t}function db(){return!this.node()}function gb(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var a=e[n],s=0,l=a.length,c;s<l;++s)(c=a[s])&&t.call(c,c.__data__,s,a);return this}function pb(t){return function(){this.removeAttribute(t)}}function vb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mb(t,e){return function(){this.setAttribute(t,e)}}function yb(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function bb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function wb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function xb(t,e){var n=is(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?vb:pb:typeof e=="function"?n.local?wb:bb:n.local?yb:mb)(n,e))}function qh(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function _b(t){return function(){this.style.removeProperty(t)}}function Ob(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Sb(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Eb(t,e,n){return arguments.length>1?this.each((e==null?_b:typeof e=="function"?Sb:Ob)(t,e,n!=null?n:"")):to(this.node(),t)}function to(t,e){return t.style.getPropertyValue(e)||qh(t).getComputedStyle(t,null).getPropertyValue(e)}function Db(t){return function(){delete this[t]}}function kb(t,e){return function(){this[t]=e}}function Cb(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Tb(t,e){return arguments.length>1?this.each((e==null?Db:typeof e=="function"?Cb:kb)(t,e)):this.node()[t]}function Wh(t){return t.trim().split(/^|\s+/)}function pl(t){return t.classList||new Vh(t)}function Vh(t){this._node=t,this._names=Wh(t.getAttribute("class")||"")}Vh.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Yh(t,e){for(var n=pl(t),i=-1,a=e.length;++i<a;)n.add(e[i])}function Gh(t,e){for(var n=pl(t),i=-1,a=e.length;++i<a;)n.remove(e[i])}function Ab(t){return function(){Yh(this,t)}}function Rb(t){return function(){Gh(this,t)}}function Nb(t,e){return function(){(e.apply(this,arguments)?Yh:Gh)(this,t)}}function $b(t,e){var n=Wh(t+"");if(arguments.length<2){for(var i=pl(this.node()),a=-1,s=n.length;++a<s;)if(!i.contains(n[a]))return!1;return!0}return this.each((typeof e=="function"?Nb:e?Ab:Rb)(n,e))}function Ib(){this.textContent=""}function Pb(t){return function(){this.textContent=t}}function jb(t){return function(){var e=t.apply(this,arguments);this.textContent=e!=null?e:""}}function Lb(t){return arguments.length?this.each(t==null?Ib:(typeof t=="function"?jb:Pb)(t)):this.node().textContent}function Mb(){this.innerHTML=""}function zb(t){return function(){this.innerHTML=t}}function Fb(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e!=null?e:""}}function Bb(t){return arguments.length?this.each(t==null?Mb:(typeof t=="function"?Fb:zb)(t)):this.node().innerHTML}function Xb(){this.nextSibling&&this.parentNode.appendChild(this)}function Ub(){return this.each(Xb)}function Hb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qb(){return this.each(Hb)}function Wb(t){var e=typeof t=="function"?t:Fh(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Vb(){return null}function Yb(t,e){var n=typeof t=="function"?t:Fh(t),i=e==null?Vb:typeof e=="function"?e:gl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Gb(){var t=this.parentNode;t&&t.removeChild(this)}function Kb(){return this.each(Gb)}function Zb(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Qb(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Jb(t){return this.select(t?Qb:Zb)}function tw(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ew(t){return function(e){t.call(this,e,this.__data__)}}function nw(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function rw(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,a=e.length,s;n<a;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function iw(t,e,n){return function(){var i=this.__on,a,s=ew(e);if(i){for(var l=0,c=i.length;l<c;++l)if((a=i[l]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=e;return}}this.addEventListener(t.type,s,n),a={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(a):this.__on=[a]}}function ow(t,e,n){var i=nw(t+""),a,s=i.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var h=0,d=c.length,g;h<d;++h)for(a=0,g=c[h];a<s;++a)if((l=i[a]).type===g.type&&l.name===g.name)return g.value}return}for(c=e?iw:rw,a=0;a<s;++a)this.each(c(i[a],e,n));return this}function Kh(t,e,n){var i=qh(t),a=i.CustomEvent;typeof a=="function"?a=new a(e,n):(a=i.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function aw(t,e){return function(){return Kh(this,t,e)}}function sw(t,e){return function(){return Kh(this,t,e.apply(this,arguments))}}function uw(t,e){return this.each((typeof e=="function"?sw:aw)(t,e))}function*lw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],a=0,s=i.length,l;a<s;++a)(l=i[a])&&(yield l)}var Zh=[null];function Ve(t,e){this._groups=t,this._parents=e}function Yo(){return new Ve([[document.documentElement]],Zh)}function cw(){return this}Ve.prototype=Yo.prototype={constructor:Ve,select:j1,selectAll:F1,selectChild:H1,selectChildren:Y1,filter:G1,data:eb,enter:K1,exit:rb,join:ib,merge:ob,selection:cw,order:ab,sort:sb,call:lb,nodes:cb,node:fb,size:hb,empty:db,each:gb,attr:xb,style:Eb,property:Tb,classed:$b,text:Lb,html:Bb,raise:Ub,lower:qb,append:Wb,insert:Yb,remove:Kb,clone:Jb,datum:tw,on:ow,dispatch:uw,[Symbol.iterator]:lw};function me(t){return typeof t=="string"?new Ve([[document.querySelector(t)]],[document.documentElement]):new Ve([[t]],Zh)}function fw(t){let e;for(;e=t.sourceEvent;)t=e;return t}function or(t,e){if(t=fw(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}const hw={passive:!1},Go={capture:!0,passive:!1};function vl(t){t.stopImmediatePropagation()}function eo(t){t.preventDefault(),t.stopImmediatePropagation()}function Qh(t){var e=t.document.documentElement,n=me(t).on("dragstart.drag",eo,Go);"onselectstart"in e?n.on("selectstart.drag",eo,Go):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Jh(t,e){var n=t.document.documentElement,i=me(t).on("dragstart.drag",null);e&&(i.on("click.drag",eo,Go),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const as=t=>()=>t;function ml(t,{sourceEvent:e,subject:n,target:i,identifier:a,active:s,x:l,y:c,dx:h,dy:d,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:g}})}ml.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function dw(t){return!t.ctrlKey&&!t.button}function gw(){return this.parentNode}function pw(t,e){return e!=null?e:{x:t.x,y:t.y}}function vw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ko(){var t=dw,e=gw,n=pw,i=vw,a={},s=ns("start","drag","end"),l=0,c,h,d,g,m=0;function p(_){_.on("mousedown.drag",b).filter(i).on("touchstart.drag",w).on("touchmove.drag",O,hw).on("touchend.drag touchcancel.drag",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(_,L){if(!(g||!t.call(this,_,L))){var P=A(this,e.call(this,_,L),_,L,"mouse");P&&(me(_.view).on("mousemove.drag",E,Go).on("mouseup.drag",k,Go),Qh(_.view),vl(_),d=!1,c=_.clientX,h=_.clientY,P("start",_))}}function E(_){if(eo(_),!d){var L=_.clientX-c,P=_.clientY-h;d=L*L+P*P>m}a.mouse("drag",_)}function k(_){me(_.view).on("mousemove.drag mouseup.drag",null),Jh(_.view,d),eo(_),a.mouse("end",_)}function w(_,L){if(t.call(this,_,L)){var P=_.changedTouches,M=e.call(this,_,L),nt=P.length,ft,G;for(ft=0;ft<nt;++ft)(G=A(this,M,_,L,P[ft].identifier,P[ft]))&&(vl(_),G("start",_,P[ft]))}}function O(_){var L=_.changedTouches,P=L.length,M,nt;for(M=0;M<P;++M)(nt=a[L[M].identifier])&&(eo(_),nt("drag",_,L[M]))}function I(_){var L=_.changedTouches,P=L.length,M,nt;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),M=0;M<P;++M)(nt=a[L[M].identifier])&&(vl(_),nt("end",_,L[M]))}function A(_,L,P,M,nt,ft){var G=s.copy(),tt=or(ft||P,L),rt,Y,C;if((C=n.call(_,new ml("beforestart",{sourceEvent:P,target:p,identifier:nt,active:l,x:tt[0],y:tt[1],dx:0,dy:0,dispatch:G}),M))!=null)return rt=C.x-tt[0]||0,Y=C.y-tt[1]||0,function j(N,F,B){var Q=tt,U;switch(N){case"start":a[nt]=j,U=l++;break;case"end":delete a[nt],--l;case"drag":tt=or(B||F,L),U=l;break}G.call(N,_,new ml(N,{sourceEvent:F,subject:C,target:p,identifier:nt,active:U,x:tt[0]+rt,y:tt[1]+Y,dx:tt[0]-Q[0],dy:tt[1]-Q[1],dispatch:G}),M)}}return p.filter=function(_){return arguments.length?(t=typeof _=="function"?_:as(!!_),p):t},p.container=function(_){return arguments.length?(e=typeof _=="function"?_:as(_),p):e},p.subject=function(_){return arguments.length?(n=typeof _=="function"?_:as(_),p):n},p.touchable=function(_){return arguments.length?(i=typeof _=="function"?_:as(!!_),p):i},p.on=function(){var _=s.on.apply(s,arguments);return _===s?p:_},p.clickDistance=function(_){return arguments.length?(m=(_=+_)*_,p):Math.sqrt(m)},p}function yl(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function td(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Zo(){}var Qo=.7,ss=1/Qo,no="\\s*([+-]?\\d+)\\s*",Jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mw=/^#([0-9a-f]{3,8})$/,yw=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),bw=new RegExp(`^rgb\\(${Bn},${Bn},${Bn}\\)$`),ww=new RegExp(`^rgba\\(${no},${no},${no},${Jo}\\)$`),xw=new RegExp(`^rgba\\(${Bn},${Bn},${Bn},${Jo}\\)$`),_w=new RegExp(`^hsl\\(${Jo},${Bn},${Bn}\\)$`),Ow=new RegExp(`^hsla\\(${Jo},${Bn},${Bn},${Jo}\\)$`),ed={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yl(Zo,ta,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nd,formatHex:nd,formatHex8:Sw,formatHsl:Ew,formatRgb:rd,toString:rd});function nd(){return this.rgb().formatHex()}function Sw(){return this.rgb().formatHex8()}function Ew(){return ud(this).formatHsl()}function rd(){return this.rgb().formatRgb()}function ta(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mw.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?id(e):n===3?new Le(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?us(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?us(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yw.exec(t))?new Le(e[1],e[2],e[3],1):(e=bw.exec(t))?new Le(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ww.exec(t))?us(e[1],e[2],e[3],e[4]):(e=xw.exec(t))?us(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_w.exec(t))?sd(e[1],e[2]/100,e[3]/100,1):(e=Ow.exec(t))?sd(e[1],e[2]/100,e[3]/100,e[4]):ed.hasOwnProperty(t)?id(ed[t]):t==="transparent"?new Le(NaN,NaN,NaN,0):null}function id(t){return new Le(t>>16&255,t>>8&255,t&255,1)}function us(t,e,n,i){return i<=0&&(t=e=n=NaN),new Le(t,e,n,i)}function Dw(t){return t instanceof Zo||(t=ta(t)),t?(t=t.rgb(),new Le(t.r,t.g,t.b,t.opacity)):new Le}function bl(t,e,n,i){return arguments.length===1?Dw(t):new Le(t,e,n,i!=null?i:1)}function Le(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}yl(Le,bl,td(Zo,{brighter(t){return t=t==null?ss:Math.pow(ss,t),new Le(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qo:Math.pow(Qo,t),new Le(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Le(gi(this.r),gi(this.g),gi(this.b),ls(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:od,formatHex:od,formatHex8:kw,formatRgb:ad,toString:ad}));function od(){return`#${pi(this.r)}${pi(this.g)}${pi(this.b)}`}function kw(){return`#${pi(this.r)}${pi(this.g)}${pi(this.b)}${pi((isNaN(this.opacity)?1:this.opacity)*255)}`}function ad(){const t=ls(this.opacity);return`${t===1?"rgb(":"rgba("}${gi(this.r)}, ${gi(this.g)}, ${gi(this.b)}${t===1?")":`, ${t})`}`}function ls(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pi(t){return t=gi(t),(t<16?"0":"")+t.toString(16)}function sd(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sn(t,e,n,i)}function ud(t){if(t instanceof Sn)return new Sn(t.h,t.s,t.l,t.opacity);if(t instanceof Zo||(t=ta(t)),!t)return new Sn;if(t instanceof Sn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,a=Math.min(e,n,i),s=Math.max(e,n,i),l=NaN,c=s-a,h=(s+a)/2;return c?(e===s?l=(n-i)/c+(n<i)*6:n===s?l=(i-e)/c+2:l=(e-n)/c+4,c/=h<.5?s+a:2-s-a,l*=60):c=h>0&&h<1?0:l,new Sn(l,c,h,t.opacity)}function Cw(t,e,n,i){return arguments.length===1?ud(t):new Sn(t,e,n,i!=null?i:1)}function Sn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}yl(Sn,Cw,td(Zo,{brighter(t){return t=t==null?ss:Math.pow(ss,t),new Sn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qo:Math.pow(Qo,t),new Sn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,a=2*n-i;return new Le(wl(t>=240?t-240:t+120,a,i),wl(t,a,i),wl(t<120?t+240:t-120,a,i),this.opacity)},clamp(){return new Sn(ld(this.h),cs(this.s),cs(this.l),ls(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ls(this.opacity);return`${t===1?"hsl(":"hsla("}${ld(this.h)}, ${cs(this.s)*100}%, ${cs(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ld(t){return t=(t||0)%360,t<0?t+360:t}function cs(t){return Math.max(0,Math.min(1,t||0))}function wl(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const cd=t=>()=>t;function Tw(t,e){return function(n){return t+n*e}}function Aw(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Rw(t){return(t=+t)==1?fd:function(e,n){return n-e?Aw(e,n,t):cd(isNaN(e)?n:e)}}function fd(t,e){var n=e-t;return n?Tw(t,n):cd(isNaN(t)?e:t)}const hd=function t(e){var n=Rw(e);function i(a,s){var l=n((a=bl(a)).r,(s=bl(s)).r),c=n(a.g,s.g),h=n(a.b,s.b),d=fd(a.opacity,s.opacity);return function(g){return a.r=l(g),a.g=c(g),a.b=h(g),a.opacity=d(g),a+""}}return i.gamma=t,i}(1);function Lr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var xl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_l=new RegExp(xl.source,"g");function Nw(t){return function(){return t}}function $w(t){return function(e){return t(e)+""}}function Iw(t,e){var n=xl.lastIndex=_l.lastIndex=0,i,a,s,l=-1,c=[],h=[];for(t=t+"",e=e+"";(i=xl.exec(t))&&(a=_l.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(i=i[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,h.push({i:l,x:Lr(i,a)})),n=_l.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?h[0]?$w(h[0].x):Nw(e):(e=h.length,function(d){for(var g=0,m;g<e;++g)c[(m=h[g]).i]=m.x(d);return c.join("")})}var dd=180/Math.PI,gd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pd(t,e,n,i,a,s){var l,c,h;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(h=t*n+e*i)&&(n-=t*h,i-=e*h),(c=Math.sqrt(n*n+i*i))&&(n/=c,i/=c,h/=c),t*i<e*n&&(t=-t,e=-e,h=-h,l=-l),{translateX:a,translateY:s,rotate:Math.atan2(e,t)*dd,skewX:Math.atan(h)*dd,scaleX:l,scaleY:c}}var fs;function Pw(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?gd:pd(e.a,e.b,e.c,e.d,e.e,e.f)}function jw(t){return t==null||(fs||(fs=document.createElementNS("http://www.w3.org/2000/svg","g")),fs.setAttribute("transform",t),!(t=fs.transform.baseVal.consolidate()))?gd:(t=t.matrix,pd(t.a,t.b,t.c,t.d,t.e,t.f))}function vd(t,e,n,i){function a(d){return d.length?d.pop()+" ":""}function s(d,g,m,p,b,E){if(d!==m||g!==p){var k=b.push("translate(",null,e,null,n);E.push({i:k-4,x:Lr(d,m)},{i:k-2,x:Lr(g,p)})}else(m||p)&&b.push("translate("+m+e+p+n)}function l(d,g,m,p){d!==g?(d-g>180?g+=360:g-d>180&&(d+=360),p.push({i:m.push(a(m)+"rotate(",null,i)-2,x:Lr(d,g)})):g&&m.push(a(m)+"rotate("+g+i)}function c(d,g,m,p){d!==g?p.push({i:m.push(a(m)+"skewX(",null,i)-2,x:Lr(d,g)}):g&&m.push(a(m)+"skewX("+g+i)}function h(d,g,m,p,b,E){if(d!==m||g!==p){var k=b.push(a(b)+"scale(",null,",",null,")");E.push({i:k-4,x:Lr(d,m)},{i:k-2,x:Lr(g,p)})}else(m!==1||p!==1)&&b.push(a(b)+"scale("+m+","+p+")")}return function(d,g){var m=[],p=[];return d=t(d),g=t(g),s(d.translateX,d.translateY,g.translateX,g.translateY,m,p),l(d.rotate,g.rotate,m,p),c(d.skewX,g.skewX,m,p),h(d.scaleX,d.scaleY,g.scaleX,g.scaleY,m,p),d=g=null,function(b){for(var E=-1,k=p.length,w;++E<k;)m[(w=p[E]).i]=w.x(b);return m.join("")}}}var Lw=vd(Pw,"px, ","px)","deg)"),Mw=vd(jw,", ",")",")"),zw=1e-12;function md(t){return((t=Math.exp(t))+1/t)/2}function Fw(t){return((t=Math.exp(t))-1/t)/2}function Bw(t){return((t=Math.exp(2*t))-1)/(t+1)}const Xw=function t(e,n,i){function a(s,l){var c=s[0],h=s[1],d=s[2],g=l[0],m=l[1],p=l[2],b=g-c,E=m-h,k=b*b+E*E,w,O;if(k<zw)O=Math.log(p/d)/e,w=function(M){return[c+M*b,h+M*E,d*Math.exp(e*M*O)]};else{var I=Math.sqrt(k),A=(p*p-d*d+i*k)/(2*d*n*I),_=(p*p-d*d-i*k)/(2*p*n*I),L=Math.log(Math.sqrt(A*A+1)-A),P=Math.log(Math.sqrt(_*_+1)-_);O=(P-L)/e,w=function(M){var nt=M*O,ft=md(L),G=d/(n*I)*(ft*Bw(e*nt+L)-Fw(L));return[c+G*b,h+G*E,d*ft/md(e*nt+L)]}}return w.duration=O*1e3*e/Math.SQRT2,w}return a.rho=function(s){var l=Math.max(.001,+s),c=l*l,h=c*c;return t(l,c,h)},a}(Math.SQRT2,2,4);var ro=0,ea=0,na=0,yd=1e3,hs,ra,ds=0,vi=0,gs=0,ia=typeof performance=="object"&&performance.now?performance:Date,bd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ol(){return vi||(bd(Uw),vi=ia.now()+gs)}function Uw(){vi=0}function ps(){this._call=this._time=this._next=null}ps.prototype=wd.prototype={constructor:ps,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ol():+n)+(e==null?0:+e),!this._next&&ra!==this&&(ra?ra._next=this:hs=this,ra=this),this._call=t,this._time=n,Sl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sl())}};function wd(t,e,n){var i=new ps;return i.restart(t,e,n),i}function Hw(){Ol(),++ro;for(var t=hs,e;t;)(e=vi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ro}function xd(){vi=(ds=ia.now())+gs,ro=ea=0;try{Hw()}finally{ro=0,Ww(),vi=0}}function qw(){var t=ia.now(),e=t-ds;e>yd&&(gs-=e,ds=t)}function Ww(){for(var t,e=hs,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:hs=n);ra=t,Sl(i)}function Sl(t){if(!ro){ea&&(ea=clearTimeout(ea));var e=t-vi;e>24?(t<1/0&&(ea=setTimeout(xd,t-ia.now()-gs)),na&&(na=clearInterval(na))):(na||(ds=ia.now(),na=setInterval(qw,yd)),ro=1,bd(xd))}}function _d(t,e,n){var i=new ps;return e=e==null?0:+e,i.restart(a=>{i.stop(),t(a+e)},e,n),i}var Vw=ns("start","end","cancel","interrupt"),Yw=[],Od=0,Sd=1,El=2,vs=3,Ed=4,Dl=5,ms=6;function ys(t,e,n,i,a,s){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;Gw(t,n,{name:e,index:i,group:a,on:Vw,tween:Yw,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Od})}function kl(t,e){var n=En(t,e);if(n.state>Od)throw new Error("too late; already scheduled");return n}function Xn(t,e){var n=En(t,e);if(n.state>vs)throw new Error("too late; already running");return n}function En(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Gw(t,e,n){var i=t.__transition,a;i[e]=n,n.timer=wd(s,0,n.time);function s(d){n.state=Sd,n.timer.restart(l,n.delay,n.time),n.delay<=d&&l(d-n.delay)}function l(d){var g,m,p,b;if(n.state!==Sd)return h();for(g in i)if(b=i[g],b.name===n.name){if(b.state===vs)return _d(l);b.state===Ed?(b.state=ms,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete i[g]):+g<e&&(b.state=ms,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete i[g])}if(_d(function(){n.state===vs&&(n.state=Ed,n.timer.restart(c,n.delay,n.time),c(d))}),n.state=El,n.on.call("start",t,t.__data__,n.index,n.group),n.state===El){for(n.state=vs,a=new Array(p=n.tween.length),g=0,m=-1;g<p;++g)(b=n.tween[g].value.call(t,t.__data__,n.index,n.group))&&(a[++m]=b);a.length=m+1}}function c(d){for(var g=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(h),n.state=Dl,1),m=-1,p=a.length;++m<p;)a[m].call(t,g);n.state===Dl&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=ms,n.timer.stop(),delete i[e];for(var d in i)return;delete t.__transition}}function bs(t,e){var n=t.__transition,i,a,s=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((i=n[l]).name!==e){s=!1;continue}a=i.state>El&&i.state<Dl,i.state=ms,i.timer.stop(),i.on.call(a?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[l]}s&&delete t.__transition}}function Kw(t){return this.each(function(){bs(this,t)})}function Zw(t,e){var n,i;return function(){var a=Xn(this,t),s=a.tween;if(s!==n){i=n=s;for(var l=0,c=i.length;l<c;++l)if(i[l].name===e){i=i.slice(),i.splice(l,1);break}}a.tween=i}}function Qw(t,e,n){var i,a;if(typeof n!="function")throw new Error;return function(){var s=Xn(this,t),l=s.tween;if(l!==i){a=(i=l).slice();for(var c={name:e,value:n},h=0,d=a.length;h<d;++h)if(a[h].name===e){a[h]=c;break}h===d&&a.push(c)}s.tween=a}}function Jw(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=En(this.node(),n).tween,a=0,s=i.length,l;a<s;++a)if((l=i[a]).name===t)return l.value;return null}return this.each((e==null?Zw:Qw)(n,t,e))}function Cl(t,e,n){var i=t._id;return t.each(function(){var a=Xn(this,i);(a.value||(a.value={}))[e]=n.apply(this,arguments)}),function(a){return En(a,i).value[e]}}function Dd(t,e){var n;return(typeof e=="number"?Lr:e instanceof ta?hd:(n=ta(e))?(e=n,hd):Iw)(t,e)}function tx(t){return function(){this.removeAttribute(t)}}function ex(t){return function(){this.removeAttributeNS(t.space,t.local)}}function nx(t,e,n){var i,a=n+"",s;return function(){var l=this.getAttribute(t);return l===a?null:l===i?s:s=e(i=l,n)}}function rx(t,e,n){var i,a=n+"",s;return function(){var l=this.getAttributeNS(t.space,t.local);return l===a?null:l===i?s:s=e(i=l,n)}}function ix(t,e,n){var i,a,s;return function(){var l,c=n(this),h;return c==null?void this.removeAttribute(t):(l=this.getAttribute(t),h=c+"",l===h?null:l===i&&h===a?s:(a=h,s=e(i=l,c)))}}function ox(t,e,n){var i,a,s;return function(){var l,c=n(this),h;return c==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),h=c+"",l===h?null:l===i&&h===a?s:(a=h,s=e(i=l,c)))}}function ax(t,e){var n=is(t),i=n==="transform"?Mw:Dd;return this.attrTween(t,typeof e=="function"?(n.local?ox:ix)(n,i,Cl(this,"attr."+t,e)):e==null?(n.local?ex:tx)(n):(n.local?rx:nx)(n,i,e))}function sx(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ux(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function lx(t,e){var n,i;function a(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&ux(t,s)),n}return a._value=e,a}function cx(t,e){var n,i;function a(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&sx(t,s)),n}return a._value=e,a}function fx(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=is(t);return this.tween(n,(i.local?lx:cx)(i,e))}function hx(t,e){return function(){kl(this,t).delay=+e.apply(this,arguments)}}function dx(t,e){return e=+e,function(){kl(this,t).delay=e}}function gx(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?hx:dx)(e,t)):En(this.node(),e).delay}function px(t,e){return function(){Xn(this,t).duration=+e.apply(this,arguments)}}function vx(t,e){return e=+e,function(){Xn(this,t).duration=e}}function mx(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?px:vx)(e,t)):En(this.node(),e).duration}function yx(t,e){if(typeof e!="function")throw new Error;return function(){Xn(this,t).ease=e}}function bx(t){var e=this._id;return arguments.length?this.each(yx(e,t)):En(this.node(),e).ease}function wx(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Xn(this,t).ease=n}}function xx(t){if(typeof t!="function")throw new Error;return this.each(wx(this._id,t))}function _x(t){typeof t!="function"&&(t=Xh(t));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var s=e[a],l=s.length,c=i[a]=[],h,d=0;d<l;++d)(h=s[d])&&t.call(h,h.__data__,d,s)&&c.push(h);return new ar(i,this._parents,this._name,this._id)}function Ox(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,a=n.length,s=Math.min(i,a),l=new Array(i),c=0;c<s;++c)for(var h=e[c],d=n[c],g=h.length,m=l[c]=new Array(g),p,b=0;b<g;++b)(p=h[b]||d[b])&&(m[b]=p);for(;c<i;++c)l[c]=e[c];return new ar(l,this._parents,this._name,this._id)}function Sx(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ex(t,e,n){var i,a,s=Sx(e)?kl:Xn;return function(){var l=s(this,t),c=l.on;c!==i&&(a=(i=c).copy()).on(e,n),l.on=a}}function Dx(t,e){var n=this._id;return arguments.length<2?En(this.node(),n).on.on(t):this.each(Ex(n,t,e))}function kx(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Cx(){return this.on("end.remove",kx(this._id))}function Tx(t){var e=this._name,n=this._id;typeof t!="function"&&(t=gl(t));for(var i=this._groups,a=i.length,s=new Array(a),l=0;l<a;++l)for(var c=i[l],h=c.length,d=s[l]=new Array(h),g,m,p=0;p<h;++p)(g=c[p])&&(m=t.call(g,g.__data__,p,c))&&("__data__"in g&&(m.__data__=g.__data__),d[p]=m,ys(d[p],e,n,p,d,En(g,n)));return new ar(s,this._parents,e,n)}function Ax(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Bh(t));for(var i=this._groups,a=i.length,s=[],l=[],c=0;c<a;++c)for(var h=i[c],d=h.length,g,m=0;m<d;++m)if(g=h[m]){for(var p=t.call(g,g.__data__,m,h),b,E=En(g,n),k=0,w=p.length;k<w;++k)(b=p[k])&&ys(b,e,n,k,p,E);s.push(p),l.push(g)}return new ar(s,l,e,n)}var Rx=Yo.prototype.constructor;function Nx(){return new Rx(this._groups,this._parents)}function $x(t,e){var n,i,a;return function(){var s=to(this,t),l=(this.style.removeProperty(t),to(this,t));return s===l?null:s===n&&l===i?a:a=e(n=s,i=l)}}function kd(t){return function(){this.style.removeProperty(t)}}function Ix(t,e,n){var i,a=n+"",s;return function(){var l=to(this,t);return l===a?null:l===i?s:s=e(i=l,n)}}function Px(t,e,n){var i,a,s;return function(){var l=to(this,t),c=n(this),h=c+"";return c==null&&(h=c=(this.style.removeProperty(t),to(this,t))),l===h?null:l===i&&h===a?s:(a=h,s=e(i=l,c))}}function jx(t,e){var n,i,a,s="style."+e,l="end."+s,c;return function(){var h=Xn(this,t),d=h.on,g=h.value[s]==null?c||(c=kd(e)):void 0;(d!==n||a!==g)&&(i=(n=d).copy()).on(l,a=g),h.on=i}}function Lx(t,e,n){var i=(t+="")=="transform"?Lw:Dd;return e==null?this.styleTween(t,$x(t,i)).on("end.style."+t,kd(t)):typeof e=="function"?this.styleTween(t,Px(t,i,Cl(this,"style."+t,e))).each(jx(this._id,t)):this.styleTween(t,Ix(t,i,e),n).on("end.style."+t,null)}function Mx(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function zx(t,e,n){var i,a;function s(){var l=e.apply(this,arguments);return l!==a&&(i=(a=l)&&Mx(t,l,n)),i}return s._value=e,s}function Fx(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,zx(t,e,n!=null?n:""))}function Bx(t){return function(){this.textContent=t}}function Xx(t){return function(){var e=t(this);this.textContent=e!=null?e:""}}function Ux(t){return this.tween("text",typeof t=="function"?Xx(Cl(this,"text",t)):Bx(t==null?"":t+""))}function Hx(t){return function(e){this.textContent=t.call(this,e)}}function qx(t){var e,n;function i(){var a=t.apply(this,arguments);return a!==n&&(e=(n=a)&&Hx(a)),e}return i._value=t,i}function Wx(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,qx(t))}function Vx(){for(var t=this._name,e=this._id,n=Cd(),i=this._groups,a=i.length,s=0;s<a;++s)for(var l=i[s],c=l.length,h,d=0;d<c;++d)if(h=l[d]){var g=En(h,e);ys(h,t,n,d,l,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new ar(i,this._parents,t,n)}function Yx(){var t,e,n=this,i=n._id,a=n.size();return new Promise(function(s,l){var c={value:l},h={value:function(){--a===0&&s()}};n.each(function(){var d=Xn(this,i),g=d.on;g!==t&&(e=(t=g).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(h)),d.on=e}),a===0&&s()})}var Gx=0;function ar(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Cd(){return++Gx}var sr=Yo.prototype;ar.prototype={constructor:ar,select:Tx,selectAll:Ax,selectChild:sr.selectChild,selectChildren:sr.selectChildren,filter:_x,merge:Ox,selection:Nx,transition:Vx,call:sr.call,nodes:sr.nodes,node:sr.node,size:sr.size,empty:sr.empty,each:sr.each,on:Dx,attr:ax,attrTween:fx,style:Lx,styleTween:Fx,text:Ux,textTween:Wx,remove:Cx,tween:Jw,delay:gx,duration:mx,ease:bx,easeVarying:xx,end:Yx,[Symbol.iterator]:sr[Symbol.iterator]};function Kx(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Zx={time:null,delay:0,duration:250,ease:Kx};function Qx(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Jx(t){var e,n;t instanceof ar?(e=t._id,t=t._name):(e=Cd(),(n=Zx).time=Ol(),t=t==null?null:t+"");for(var i=this._groups,a=i.length,s=0;s<a;++s)for(var l=i[s],c=l.length,h,d=0;d<c;++d)(h=l[d])&&ys(h,t,e,d,l,n||Qx(h,e));return new ar(i,this._parents,t,e)}Yo.prototype.interrupt=Kw,Yo.prototype.transition=Jx;const ws=t=>()=>t;function t_(t,{sourceEvent:e,target:n,transform:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function ur(t,e,n){this.k=t,this.x=e,this.y=n}ur.prototype={constructor:ur,scale:function(t){return t===1?this:new ur(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ur(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xs=new ur(1,0,0);oa.prototype=ur.prototype;function oa(t){for(;!t.__zoom;)if(!(t=t.parentNode))return xs;return t.__zoom}function Tl(t){t.stopImmediatePropagation()}function aa(t){t.preventDefault(),t.stopImmediatePropagation()}function e_(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function n_(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Td(){return this.__zoom||xs}function r_(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function i_(){return navigator.maxTouchPoints||"ontouchstart"in this}function o_(t,e,n){var i=t.invertX(e[0][0])-n[0][0],a=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function a_(){var t=e_,e=n_,n=o_,i=r_,a=i_,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=Xw,d=ns("start","zoom","end"),g,m,p,b=500,E=150,k=0,w=10;function O(C){C.property("__zoom",Td).on("wheel.zoom",nt,{passive:!1}).on("mousedown.zoom",ft).on("dblclick.zoom",G).filter(a).on("touchstart.zoom",tt).on("touchmove.zoom",rt).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}O.transform=function(C,j,N,F){var B=C.selection?C.selection():C;B.property("__zoom",Td),C!==B?L(C,j,N,F):B.interrupt().each(function(){P(this,arguments).event(F).start().zoom(null,typeof j=="function"?j.apply(this,arguments):j).end()})},O.scaleBy=function(C,j,N,F){O.scaleTo(C,function(){var B=this.__zoom.k,Q=typeof j=="function"?j.apply(this,arguments):j;return B*Q},N,F)},O.scaleTo=function(C,j,N,F){O.transform(C,function(){var B=e.apply(this,arguments),Q=this.__zoom,U=N==null?_(B):typeof N=="function"?N.apply(this,arguments):N,K=Q.invert(U),et=typeof j=="function"?j.apply(this,arguments):j;return n(A(I(Q,et),U,K),B,l)},N,F)},O.translateBy=function(C,j,N,F){O.transform(C,function(){return n(this.__zoom.translate(typeof j=="function"?j.apply(this,arguments):j,typeof N=="function"?N.apply(this,arguments):N),e.apply(this,arguments),l)},null,F)},O.translateTo=function(C,j,N,F,B){O.transform(C,function(){var Q=e.apply(this,arguments),U=this.__zoom,K=F==null?_(Q):typeof F=="function"?F.apply(this,arguments):F;return n(xs.translate(K[0],K[1]).scale(U.k).translate(typeof j=="function"?-j.apply(this,arguments):-j,typeof N=="function"?-N.apply(this,arguments):-N),Q,l)},F,B)};function I(C,j){return j=Math.max(s[0],Math.min(s[1],j)),j===C.k?C:new ur(j,C.x,C.y)}function A(C,j,N){var F=j[0]-N[0]*C.k,B=j[1]-N[1]*C.k;return F===C.x&&B===C.y?C:new ur(C.k,F,B)}function _(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function L(C,j,N,F){C.on("start.zoom",function(){P(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(F).end()}).tween("zoom",function(){var B=this,Q=arguments,U=P(B,Q).event(F),K=e.apply(B,Q),et=N==null?_(K):typeof N=="function"?N.apply(B,Q):N,it=Math.max(K[1][0]-K[0][0],K[1][1]-K[0][1]),at=B.__zoom,st=typeof j=="function"?j.apply(B,Q):j,gt=h(at.invert(et).concat(it/at.k),st.invert(et).concat(it/st.k));return function(mt){if(mt===1)mt=st;else{var ct=gt(mt),yt=it/ct[2];mt=new ur(yt,et[0]-ct[0]*yt,et[1]-ct[1]*yt)}U.zoom(null,mt)}})}function P(C,j,N){return!N&&C.__zooming||new M(C,j)}function M(C,j){this.that=C,this.args=j,this.active=0,this.sourceEvent=null,this.extent=e.apply(C,j),this.taps=0}M.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,j){return this.mouse&&C!=="mouse"&&(this.mouse[1]=j.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=j.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=j.invert(this.touch1[0])),this.that.__zoom=j,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var j=me(this.that).datum();d.call(C,this.that,new t_(C,{sourceEvent:this.sourceEvent,target:O,type:C,transform:this.that.__zoom,dispatch:d}),j)}};function nt(C,...j){if(!t.apply(this,arguments))return;var N=P(this,j).event(C),F=this.__zoom,B=Math.max(s[0],Math.min(s[1],F.k*Math.pow(2,i.apply(this,arguments)))),Q=or(C);if(N.wheel)(N.mouse[0][0]!==Q[0]||N.mouse[0][1]!==Q[1])&&(N.mouse[1]=F.invert(N.mouse[0]=Q)),clearTimeout(N.wheel);else{if(F.k===B)return;N.mouse=[Q,F.invert(Q)],bs(this),N.start()}aa(C),N.wheel=setTimeout(U,E),N.zoom("mouse",n(A(I(F,B),N.mouse[0],N.mouse[1]),N.extent,l));function U(){N.wheel=null,N.end()}}function ft(C,...j){if(p||!t.apply(this,arguments))return;var N=C.currentTarget,F=P(this,j,!0).event(C),B=me(C.view).on("mousemove.zoom",et,!0).on("mouseup.zoom",it,!0),Q=or(C,N),U=C.clientX,K=C.clientY;Qh(C.view),Tl(C),F.mouse=[Q,this.__zoom.invert(Q)],bs(this),F.start();function et(at){if(aa(at),!F.moved){var st=at.clientX-U,gt=at.clientY-K;F.moved=st*st+gt*gt>k}F.event(at).zoom("mouse",n(A(F.that.__zoom,F.mouse[0]=or(at,N),F.mouse[1]),F.extent,l))}function it(at){B.on("mousemove.zoom mouseup.zoom",null),Jh(at.view,F.moved),aa(at),F.event(at).end()}}function G(C,...j){if(t.apply(this,arguments)){var N=this.__zoom,F=or(C.changedTouches?C.changedTouches[0]:C,this),B=N.invert(F),Q=N.k*(C.shiftKey?.5:2),U=n(A(I(N,Q),F,B),e.apply(this,j),l);aa(C),c>0?me(this).transition().duration(c).call(L,U,F,C):me(this).call(O.transform,U,F,C)}}function tt(C,...j){if(t.apply(this,arguments)){var N=C.touches,F=N.length,B=P(this,j,C.changedTouches.length===F).event(C),Q,U,K,et;for(Tl(C),U=0;U<F;++U)K=N[U],et=or(K,this),et=[et,this.__zoom.invert(et),K.identifier],B.touch0?!B.touch1&&B.touch0[2]!==et[2]&&(B.touch1=et,B.taps=0):(B.touch0=et,Q=!0,B.taps=1+!!g);g&&(g=clearTimeout(g)),Q&&(B.taps<2&&(m=et[0],g=setTimeout(function(){g=null},b)),bs(this),B.start())}}function rt(C,...j){if(this.__zooming){var N=P(this,j).event(C),F=C.changedTouches,B=F.length,Q,U,K,et;for(aa(C),Q=0;Q<B;++Q)U=F[Q],K=or(U,this),N.touch0&&N.touch0[2]===U.identifier?N.touch0[0]=K:N.touch1&&N.touch1[2]===U.identifier&&(N.touch1[0]=K);if(U=N.that.__zoom,N.touch1){var it=N.touch0[0],at=N.touch0[1],st=N.touch1[0],gt=N.touch1[1],mt=(mt=st[0]-it[0])*mt+(mt=st[1]-it[1])*mt,ct=(ct=gt[0]-at[0])*ct+(ct=gt[1]-at[1])*ct;U=I(U,Math.sqrt(mt/ct)),K=[(it[0]+st[0])/2,(it[1]+st[1])/2],et=[(at[0]+gt[0])/2,(at[1]+gt[1])/2]}else if(N.touch0)K=N.touch0[0],et=N.touch0[1];else return;N.zoom("touch",n(A(U,K,et),N.extent,l))}}function Y(C,...j){if(this.__zooming){var N=P(this,j).event(C),F=C.changedTouches,B=F.length,Q,U;for(Tl(C),p&&clearTimeout(p),p=setTimeout(function(){p=null},b),Q=0;Q<B;++Q)U=F[Q],N.touch0&&N.touch0[2]===U.identifier?delete N.touch0:N.touch1&&N.touch1[2]===U.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&(U=or(U,this),Math.hypot(m[0]-U[0],m[1]-U[1])<w)){var K=me(this).on("dblclick.zoom");K&&K.apply(this,arguments)}}}return O.wheelDelta=function(C){return arguments.length?(i=typeof C=="function"?C:ws(+C),O):i},O.filter=function(C){return arguments.length?(t=typeof C=="function"?C:ws(!!C),O):t},O.touchable=function(C){return arguments.length?(a=typeof C=="function"?C:ws(!!C),O):a},O.extent=function(C){return arguments.length?(e=typeof C=="function"?C:ws([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),O):e},O.scaleExtent=function(C){return arguments.length?(s[0]=+C[0],s[1]=+C[1],O):[s[0],s[1]]},O.translateExtent=function(C){return arguments.length?(l[0][0]=+C[0][0],l[1][0]=+C[1][0],l[0][1]=+C[0][1],l[1][1]=+C[1][1],O):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},O.constrain=function(C){return arguments.length?(n=C,O):n},O.duration=function(C){return arguments.length?(c=+C,O):c},O.interpolate=function(C){return arguments.length?(h=C,O):h},O.on=function(){var C=d.on.apply(d,arguments);return C===d?O:C},O.clickDistance=function(C){return arguments.length?(k=(C=+C)*C,O):Math.sqrt(k)},O.tapDistance=function(C){return arguments.length?(w=+C,O):w},O}function _s(t,e=0,n,i){var a;const s=document.fullscreenEnabled?{width:window.innerWidth,height:window.innerHeight}:((a=t==null?void 0:t.svgDOM)==null?void 0:a.getBoundingClientRect())||{width:0,height:0},l=t.svgZoomArea.node().getBBox(),c=.95,h=s.width*c/l.width,d=s.height*c/l.height,g=Math.min(h,d,1),m={x:s.width/2-g*(l.width/2+l.x),y:s.height/2-g*(l.height/2+l.y)},p=()=>xs.translate(m.x,m.y).scale(n||g);e>0?t.svg.transition().duration(e).call(t.zoom.transform,p).on("end",i):t.svg.call(t.zoom.transform,p)}function s_(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Ad={};function Al(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&Ad[e[0]]||(typeof e[0]=="string"&&(Ad[e[0]]=new Date),s_(...e))}const Rd=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function Nd(t,e,n){t.loadNamespaces(e,Rd(t,n))}function $d(t,e,n,i){typeof n=="string"&&(n=[n]),n.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,Rd(t,i))}function u_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.languages[0],a=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(c,h)=>{const d=e.services.backendConnector.state[`${c}|${h}`];return d===-1||d===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!l(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(i,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||l(i,t)&&(!a||l(s,t)))}function l_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Al("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,t))return!1}}):u_(t,e,n)}const c_=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,f_={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xA9","&#169;":"\xA9","&reg;":"\xAE","&#174;":"\xAE","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},h_=t=>f_[t];let Rl={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:t=>t.replace(c_,h_)};function d_(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Rl=J(J({},Rl),t)}function g_(){return Rl}let Id;function p_(t){Id=t}function v_(){return Id}const m_={type:"3rdParty",init(t){d_(t.options.react),p_(t)}},y_=(0,S.createContext)();class b_{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const w_=(t,e)=>{const n=(0,S.useRef)();return(0,S.useEffect)(()=>{n.current=t},[t,e]),n.current};function Pd(t,e,n,i){return t.getFixedT(e,n,i)}function x_(t,e,n,i){return(0,S.useCallback)(Pd(t,e,n,i),[t,e,n,i])}function Mr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:i,defaultNS:a}=(0,S.useContext)(y_)||{},s=n||i||v_();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new b_),!s){Al("You will need to pass in an i18next instance by using initReactI18next");const _=(P,M)=>typeof M=="string"?M:M&&typeof M=="object"&&typeof M.defaultValue=="string"?M.defaultValue:Array.isArray(P)?P[P.length-1]:P,L=[_,{},!1];return L.t=_,L.i18n={},L.ready=!1,L}s.options.react&&s.options.react.wait!==void 0&&Al("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l=J(J(J({},g_()),s.options.react),e),{useSuspense:c,keyPrefix:h}=l;let d=a||s.options&&s.options.defaultNS;d=typeof d=="string"?[d]:d||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(d);const g=(s.isInitialized||s.initializedStoreOnce)&&d.every(_=>l_(_,s,l)),m=x_(s,e.lng||null,l.nsMode==="fallback"?d:d[0],h),p=()=>m,b=()=>Pd(s,e.lng||null,l.nsMode==="fallback"?d:d[0],h),[E,k]=(0,S.useState)(p);let w=d.join();e.lng&&(w=`${e.lng}${w}`);const O=w_(w),I=(0,S.useRef)(!0);(0,S.useEffect)(()=>{const{bindI18n:_,bindI18nStore:L}=l;I.current=!0,!g&&!c&&(e.lng?$d(s,e.lng,d,()=>{I.current&&k(b)}):Nd(s,d,()=>{I.current&&k(b)})),g&&O&&O!==w&&I.current&&k(b);function P(){I.current&&k(b)}return _&&s&&s.on(_,P),L&&s&&s.store.on(L,P),()=>{I.current=!1,_&&s&&_.split(" ").forEach(M=>s.off(M,P)),L&&s&&L.split(" ").forEach(M=>s.store.off(M,P))}},[s,w]),(0,S.useEffect)(()=>{I.current&&g&&k(p)},[s,h,g]);const A=[E,s,g];if(A.t=E,A.i18n=s,A.ready=g,g||!g&&!c)return A;throw new Promise(_=>{e.lng?$d(s,e.lng,d,()=>_()):Nd(s,d,()=>_())})}class __{constructor({keyCode:e,keydown:n,keyup:i,dom:a,canRepeat:s=!1}){nn(this,"element"),nn(this,"keys"),nn(this,"keydown"),nn(this,"keyup"),nn(this,"canRepeat"),this.element=a||document,this.keys=Array.isArray(e)?e:[e],this.keydown=n,this.keyup=i,this.canRepeat=s,this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.addEvent()}handleKeyDown(e){!this.canRepeat&&e.repeat||e.target instanceof HTMLElement&&e.target.tagName!=="TEXTAREA"&&e.target.tagName!=="INPUT"&&X.includes(this.keys,e.keyCode)&&this.keydown&&this.keydown(e)}handleKeyUp(e){X.includes(this.keys,e.keyCode)&&this.keyup&&this.keyup(e)}addEvent(){this.element&&(this.element.addEventListener("keydown",this.handleKeyDown),this.element.addEventListener("keyup",this.handleKeyUp))}removeEvent(){this.element&&(this.element.removeEventListener("keydown",this.handleKeyDown),this.element.removeEventListener("keyup",this.handleKeyUp))}}const O_=t=>{const l=t,{type:e,className:n,style:i,title:a}=l,s=$r(l,["type","className","style","title"]);return q.jsx("i",J({title:a,style:i,className:ue("iconfont",e,n)},s))};function S_(t){var e=t.children,n=t.prefixCls,i=t.id,a=t.overlayInnerStyle,s=t.className,l=t.style;return S.createElement("div",{className:ue("".concat(n,"-content"),s),style:l},S.createElement("div",{className:"".concat(n,"-inner"),id:i,role:"tooltip",style:a},typeof e=="function"?e():e))}function mi(){return mi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mi.apply(this,arguments)}function E_(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Os(t,e){if(t==null)return{};var n=E_(t,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function D_(t){if(Array.isArray(t))return t}function k_(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,a,s,l,c=[],h=!0,d=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);h=!0);}catch(g){d=!0,a=g}finally{try{if(!h&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw a}}return c}}function Nl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function jd(t,e){if(t){if(typeof t=="string")return Nl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nl(t,e)}}function C_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function It(t,e){return D_(t)||k_(t,e)||jd(t,e)||C_()}function lr(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var $l={},T_=[],A_=function(t){T_.push(t)};function R_(t,e){if(0)var n}function N_(t,e){if(0)var n}function $_(){$l={}}function Ld(t,e,n){!e&&!$l[n]&&(t(!1,n),$l[n]=!0)}function Il(t,e){Ld(R_,t,e)}function I_(t,e){Ld(N_,t,e)}Il.preMessage=A_,Il.resetWarned=$_,Il.noteOnce=I_;var Md={exports:{}},zt={};var zd;function P_(){if(zd)return zt;zd=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),E;E=Symbol.for("react.module.reference");function k(w){if(typeof w=="object"&&w!==null){var O=w.$$typeof;switch(O){case t:switch(w=w.type,w){case n:case a:case i:case d:case g:return w;default:switch(w=w&&w.$$typeof,w){case c:case l:case h:case p:case m:case s:return w;default:return O}}case e:return O}}}return zt.ContextConsumer=l,zt.ContextProvider=s,zt.Element=t,zt.ForwardRef=h,zt.Fragment=n,zt.Lazy=p,zt.Memo=m,zt.Portal=e,zt.Profiler=a,zt.StrictMode=i,zt.Suspense=d,zt.SuspenseList=g,zt.isAsyncMode=function(){return!1},zt.isConcurrentMode=function(){return!1},zt.isContextConsumer=function(w){return k(w)===l},zt.isContextProvider=function(w){return k(w)===s},zt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},zt.isForwardRef=function(w){return k(w)===h},zt.isFragment=function(w){return k(w)===n},zt.isLazy=function(w){return k(w)===p},zt.isMemo=function(w){return k(w)===m},zt.isPortal=function(w){return k(w)===e},zt.isProfiler=function(w){return k(w)===a},zt.isStrictMode=function(w){return k(w)===i},zt.isSuspense=function(w){return k(w)===d},zt.isSuspenseList=function(w){return k(w)===g},zt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===a||w===i||w===d||w===g||w===b||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===m||w.$$typeof===s||w.$$typeof===l||w.$$typeof===h||w.$$typeof===E||w.getModuleId!==void 0)},zt.typeOf=k,zt}var j_={};var Fd;function QA(){return Fd||(Fd=1),j_}Md.exports=P_();var Ss=Md.exports;function L_(t,e,n){var i=S.useRef({});return(!("value"in i.current)||n(i.current.condition,e))&&(i.current.value=t(),i.current.condition=e),i.current.value}function Pl(t,e){typeof t=="function"?t(e):xn(t)==="object"&&t&&"current"in t&&(t.current=e)}function Bd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.filter(function(a){return a});return i.length<=1?i[0]:function(a){e.forEach(function(s){Pl(s,a)})}}function jl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return L_(function(){return Bd.apply(void 0,e)},e,function(i,a){return i.length!==a.length||i.every(function(s,l){return s!==a[l]})})}function Es(t){var e,n,i=Ss.isMemo(t)?t.type.type:t.type;return!(typeof i=="function"&&!((e=i.prototype)!==null&&e!==void 0&&e.render)&&i.$$typeof!==Ss.ForwardRef||typeof t=="function"&&!((n=t.prototype)!==null&&n!==void 0&&n.render)&&t.$$typeof!==Ss.ForwardRef)}var Xd=S.createContext(null);function M_(t){if(Array.isArray(t))return Nl(t)}function z_(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function F_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ll(t){return M_(t)||z_(t)||jd(t)||F_()}var Ud=lr()?S.useLayoutEffect:S.useEffect,Ye=function(t,e){var n=S.useRef(!0);Ud(function(){return t(n.current)},e),Ud(function(){return n.current=!1,function(){n.current=!0}},[])},Hd=[];function B_(t,e){var n=S.useState(function(){if(!lr())return null;var E=document.createElement("div");return E}),i=It(n,1),a=i[0],s=S.useRef(!1),l=S.useContext(Xd),c=S.useState(Hd),h=It(c,2),d=h[0],g=h[1],m=l||(s.current?void 0:function(E){g(function(k){var w=[E].concat(Ll(k));return w})});function p(){a.parentElement||document.body.appendChild(a),s.current=!0}function b(){var E;(E=a.parentElement)===null||E===void 0||E.removeChild(a),s.current=!1}return Ye(function(){return t?l?l(p):p():b(),b},[t]),Ye(function(){d.length&&(d.forEach(function(E){return E()}),g(Hd))},[d]),[a,m]}function X_(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var qd="data-rc-order",Wd="data-rc-priority",U_="rc-util-key",Ml=new Map;function Vd(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):U_}function Ds(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function H_(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function zl(t){return Array.from((Ml.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function Yd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!lr())return null;var n=e.csp,i=e.prepend,a=e.priority,s=a===void 0?0:a,l=H_(i),c=l==="prependQueue",h=document.createElement("style");h.setAttribute(qd,l),c&&s&&h.setAttribute(Wd,"".concat(s)),n!=null&&n.nonce&&(h.nonce=n==null?void 0:n.nonce),h.innerHTML=t;var d=Ds(e),g=d.firstChild;if(i){if(c){var m=(e.styles||zl(d)).filter(function(p){if(!["prepend","prependQueue"].includes(p.getAttribute(qd)))return!1;var b=Number(p.getAttribute(Wd)||0);return s>=b});if(m.length)return d.insertBefore(h,m[m.length-1].nextSibling),h}d.insertBefore(h,g)}else d.appendChild(h);return h}function Gd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Ds(e);return(e.styles||zl(n)).find(function(i){return i.getAttribute(Vd(e))===t})}function Fl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Gd(t,e);if(n){var i=Ds(e);i.removeChild(n)}}function q_(t,e){var n=Ml.get(t);if(!n||!X_(document,n)){var i=Yd("",e),a=i.parentNode;Ml.set(t,a),t.removeChild(i)}}function Kd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ds(n),a=zl(i),s=bt(bt({},n),{},{styles:a});q_(i,s);var l=Gd(e,s);if(l){var c,h;if((c=s.csp)!==null&&c!==void 0&&c.nonce&&l.nonce!==((h=s.csp)===null||h===void 0?void 0:h.nonce)){var d;l.nonce=(d=s.csp)===null||d===void 0?void 0:d.nonce}return l.innerHTML!==t&&(l.innerHTML=t),l}var g=Yd(t,s);return g.setAttribute(Vd(s),e),g}function W_(t){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=e;var i=n.style;i.position="absolute",i.left="0",i.top="0",i.width="100px",i.height="100px",i.overflow="scroll";var a,s;if(t){var l=getComputedStyle(t);i.scrollbarColor=l.scrollbarColor,i.scrollbarWidth=l.scrollbarWidth;var c=getComputedStyle(t,"::-webkit-scrollbar"),h=parseInt(c.width,10),d=parseInt(c.height,10);try{var g=h?"width: ".concat(c.width,";"):"",m=d?"height: ".concat(c.height,";"):"";Kd(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(g,`
`).concat(m,`
}`),e)}catch(E){console.error(E),a=h,s=d}}document.body.appendChild(n);var p=t&&a&&!isNaN(a)?a:n.offsetWidth-n.clientWidth,b=t&&s&&!isNaN(s)?s:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),Fl(e),{width:p,height:b}}function V_(t){return typeof document>"u"||!t||!(t instanceof Element)?{width:0,height:0}:W_(t)}function Y_(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var G_="rc-util-locker-".concat(Date.now()),Zd=0;function K_(t){var e=!!t,n=S.useState(function(){return Zd+=1,"".concat(G_,"_").concat(Zd)}),i=It(n,1),a=i[0];Ye(function(){if(e){var s=V_(document.body).width,l=Y_();Kd(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(s,"px);"):"",`
}`),a)}else Fl(a);return function(){Fl(a)}},[e,a])}var Z_=!1;function Q_(t){return Z_}var Qd=function(t){return t===!1?!1:!lr()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},Jd=S.forwardRef(function(t,e){var n=t.open,i=t.autoLock,a=t.getContainer,s=t.debug,l=t.autoDestroy,c=l===void 0?!0:l,h=t.children,d=S.useState(n),g=It(d,2),m=g[0],p=g[1],b=m||n;S.useEffect(function(){(c||n)&&p(n)},[n,c]);var E=S.useState(function(){return Qd(a)}),k=It(E,2),w=k[0],O=k[1];S.useEffect(function(){var rt=Qd(a);O(rt!=null?rt:null)});var I=B_(b&&!w,s),A=It(I,2),_=A[0],L=A[1],P=w!=null?w:_;K_(i&&n&&lr()&&(P===_||P===document.body));var M=null;if(h&&Es(h)&&e){var nt=h;M=nt.ref}var ft=jl(M,e);if(!b||!lr()||w===void 0)return null;var G=P===!1||Q_(),tt=h;return e&&(tt=S.cloneElement(h,{ref:ft})),S.createElement(Xd.Provider,{value:L},G?tt:(0,Yi.createPortal)(tt,P))});function Bl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return S.Children.forEach(t,function(i){i==null&&!e.keepEmpty||(Array.isArray(i)?n=n.concat(Bl(i)):Ss.isFragment(i)&&i.props?n=n.concat(Bl(i.props.children,e)):n.push(i))}),n}function ks(t){return t instanceof HTMLElement||t instanceof SVGElement}function Cs(t){return ks(t)?t:t instanceof S.Component?Yi.findDOMNode(t):null}var Xl=S.createContext(null);function J_(t){var e=t.children,n=t.onBatchResize,i=S.useRef(0),a=S.useRef([]),s=S.useContext(Xl),l=S.useCallback(function(c,h,d){i.current+=1;var g=i.current;a.current.push({size:c,element:h,data:d}),Promise.resolve().then(function(){g===i.current&&(n==null||n(a.current),a.current=[])}),s==null||s(c,h,d)},[n,s]);return S.createElement(Xl.Provider,{value:l},e)}var zr=new Map;function tO(t){t.forEach(function(e){var n,i=e.target;(n=zr.get(i))===null||n===void 0||n.forEach(function(a){return a(i)})})}var tg=new Ph(tO);function eO(t,e){zr.has(t)||(zr.set(t,new Set),tg.observe(t)),zr.get(t).add(e)}function nO(t,e){zr.has(t)&&(zr.get(t).delete(e),zr.get(t).size||(tg.unobserve(t),zr.delete(t)))}function Ul(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eg(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,wf(i.key),i)}}function Hl(t,e,n){return e&&eg(t.prototype,e),n&&eg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ql(t,e){return ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ql(t,e)}function Wl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ql(t,e)}function Ts(t){return Ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ts(t)}function ng(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ng=function(){return!!t})()}function Vl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rO(t,e){if(e&&(xn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vl(t)}function Yl(t){var e=ng();return function(){var n=Ts(t),i;if(e){var a=Ts(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return rO(this,i)}}var iO=function(t){Wl(n,t);var e=Yl(n);function n(){return Ul(this,n),e.apply(this,arguments)}return Hl(n,[{key:"render",value:function(){return this.props.children}}]),n}(S.Component);function oO(t,e){var n=t.children,i=t.disabled,a=S.useRef(null),s=S.useRef(null),l=S.useContext(Xl),c=typeof n=="function",h=c?n(a):n,d=S.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),g=!c&&S.isValidElement(h)&&Es(h),m=g?h.ref:null,p=jl(m,a),b=function(){var w;return Cs(a.current)||(a.current&&xn(a.current)==="object"?Cs((w=a.current)===null||w===void 0?void 0:w.nativeElement):null)||Cs(s.current)};S.useImperativeHandle(e,function(){return b()});var E=S.useRef(t);E.current=t;var k=S.useCallback(function(w){var O=E.current,I=O.onResize,A=O.data,_=w.getBoundingClientRect(),L=_.width,P=_.height,M=w.offsetWidth,nt=w.offsetHeight,ft=Math.floor(L),G=Math.floor(P);if(d.current.width!==ft||d.current.height!==G||d.current.offsetWidth!==M||d.current.offsetHeight!==nt){var tt={width:ft,height:G,offsetWidth:M,offsetHeight:nt};d.current=tt;var rt=M===Math.round(L)?L:M,Y=nt===Math.round(P)?P:nt,C=bt(bt({},tt),{},{offsetWidth:rt,offsetHeight:Y});l==null||l(C,w,A),I&&Promise.resolve().then(function(){I(C,w)})}},[]);return S.useEffect(function(){var w=b();return w&&!i&&eO(w,k),function(){return nO(w,k)}},[a.current,i]),S.createElement(iO,{ref:s},g?S.cloneElement(h,{ref:p}):h)}var aO=S.forwardRef(oO),sO="rc-observer-key";function uO(t,e){var n=t.children,i=typeof n=="function"?[n]:Bl(n);return i.map(function(a,s){var l=(a==null?void 0:a.key)||"".concat(sO,"-").concat(s);return S.createElement(aO,mi({},t,{key:l,ref:s===0?e:void 0}),a)})}var Gl=S.forwardRef(uO);Gl.Collection=J_;function rg(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function lO(t){return rg(t)instanceof ShadowRoot}function Kl(t){return lO(t)?rg(t):null}function yi(t){var e=S.useRef();e.current=t;var n=S.useCallback(function(){for(var i,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(i=e.current)===null||i===void 0?void 0:i.call.apply(i,[e].concat(s))},[]);return n}function cO(){var t=bt({},Fo);return t.useId}var ig=0,og=cO();const fO=og?function(t){var e=og();return t||e}:function(t){var e=S.useState("ssr-id"),n=It(e,2),i=n[0],a=n[1];return S.useEffect(function(){var s=ig;ig+=1,a("rc_unique_".concat(s))},[]),t||i},hO=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4))};var dO=S.createContext({}),gO=function(t){Wl(n,t);var e=Yl(n);function n(){return Ul(this,n),e.apply(this,arguments)}return Hl(n,[{key:"render",value:function(){return this.props.children}}]),n}(S.Component);function As(t){var e=S.useRef(!1),n=S.useState(t),i=It(n,2),a=i[0],s=i[1];S.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function l(c,h){h&&e.current||s(c)}return[a,l]}var bi="none",Rs="appear",Ns="enter",$s="leave",ag="none",Dn="prepare",io="start",oo="active",Zl="end",sg="prepared";function ug(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function pO(t,e){var n={animationend:ug("Animation","AnimationEnd"),transitionend:ug("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var vO=pO(lr(),typeof window<"u"?window:{}),lg={};if(lr()){var mO=document.createElement("div");lg=mO.style}var Is={};function cg(t){if(Is[t])return Is[t];var e=vO[t];if(e)for(var n=Object.keys(e),i=n.length,a=0;a<i;a+=1){var s=n[a];if(Object.prototype.hasOwnProperty.call(e,s)&&s in lg)return Is[t]=e[s],Is[t]}return""}var fg=cg("animationend"),hg=cg("transitionend"),dg=!!(fg&&hg),gg=fg||"animationend",pg=hg||"transitionend";function vg(t,e){if(!t)return null;if(xn(t)==="object"){var n=e.replace(/-\w/g,function(i){return i[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const yO=function(t){var e=(0,S.useRef)(),n=(0,S.useRef)(t);n.current=t;var i=S.useCallback(function(l){n.current(l)},[]);function a(l){l&&(l.removeEventListener(pg,i),l.removeEventListener(gg,i))}function s(l){e.current&&e.current!==l&&a(e.current),l&&l!==e.current&&(l.addEventListener(pg,i),l.addEventListener(gg,i),e.current=l)}return S.useEffect(function(){return function(){a(e.current)}},[]),[s,a]};var mg=lr()?S.useLayoutEffect:S.useEffect,yg=function(t){return+setTimeout(t,16)},bg=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&(yg=function(t){return window.requestAnimationFrame(t)},bg=function(t){return window.cancelAnimationFrame(t)});var wg=0,Ql=new Map;function xg(t){Ql.delete(t)}var Jl=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;wg+=1;var n=wg;function i(a){if(a===0)xg(n),t();else{var s=yg(function(){i(a-1)});Ql.set(n,s)}}return i(e),n};Jl.cancel=function(t){var e=Ql.get(t);return xg(t),bg(e)};const bO=function(){var t=S.useRef(null);function e(){Jl.cancel(t.current)}function n(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var s=Jl(function(){a<=1?i({isCanceled:function(){return s!==t.current}}):n(i,a-1)});t.current=s}return S.useEffect(function(){return function(){e()}},[]),[n,e]};var wO=[Dn,io,oo,Zl],xO=[Dn,sg],_g=!1,_O=!0;function Og(t){return t===oo||t===Zl}const OO=function(t,e,n){var i=As(ag),a=It(i,2),s=a[0],l=a[1],c=bO(),h=It(c,2),d=h[0],g=h[1];function m(){l(Dn,!0)}var p=e?xO:wO;return mg(function(){if(s!==ag&&s!==Zl){var b=p.indexOf(s),E=p[b+1],k=n(s);k===_g?l(E,!0):E&&d(function(w){function O(){w.isCanceled()||l(E,!0)}k===!0?O():Promise.resolve(k).then(O)})}},[t,s]),S.useEffect(function(){return function(){g()}},[]),[m,s]};function SO(t,e,n,i){var a=i.motionEnter,s=a===void 0?!0:a,l=i.motionAppear,c=l===void 0?!0:l,h=i.motionLeave,d=h===void 0?!0:h,g=i.motionDeadline,m=i.motionLeaveImmediately,p=i.onAppearPrepare,b=i.onEnterPrepare,E=i.onLeavePrepare,k=i.onAppearStart,w=i.onEnterStart,O=i.onLeaveStart,I=i.onAppearActive,A=i.onEnterActive,_=i.onLeaveActive,L=i.onAppearEnd,P=i.onEnterEnd,M=i.onLeaveEnd,nt=i.onVisibleChanged,ft=As(),G=It(ft,2),tt=G[0],rt=G[1],Y=As(bi),C=It(Y,2),j=C[0],N=C[1],F=As(null),B=It(F,2),Q=B[0],U=B[1],K=(0,S.useRef)(!1),et=(0,S.useRef)(null);function it(){return n()}var at=(0,S.useRef)(!1);function st(){N(bi,!0),U(null,!0)}function gt(wt){var $t=it();if(!(wt&&!wt.deadline&&wt.target!==$t)){var kt=at.current,ie;j===Rs&&kt?ie=L==null?void 0:L($t,wt):j===Ns&&kt?ie=P==null?void 0:P($t,wt):j===$s&&kt&&(ie=M==null?void 0:M($t,wt)),j!==bi&&kt&&ie!==!1&&st()}}var mt=yO(gt),ct=It(mt,1),yt=ct[0],ce=function(wt){var $t,kt,ie;switch(wt){case Rs:return $t={},Ee($t,Dn,p),Ee($t,io,k),Ee($t,oo,I),$t;case Ns:return kt={},Ee(kt,Dn,b),Ee(kt,io,w),Ee(kt,oo,A),kt;case $s:return ie={},Ee(ie,Dn,E),Ee(ie,io,O),Ee(ie,oo,_),ie;default:return{}}},Gt=S.useMemo(function(){return ce(j)},[j]),De=OO(j,!t,function(wt){if(wt===Dn){var $t=Gt[Dn];return $t?$t(it()):_g}if(ee in Gt){var kt;U(((kt=Gt[ee])===null||kt===void 0?void 0:kt.call(Gt,it(),null))||null)}return ee===oo&&(yt(it()),g>0&&(clearTimeout(et.current),et.current=setTimeout(function(){gt({deadline:!0})},g))),ee===sg&&st(),_O}),Ge=It(De,2),jt=Ge[0],ee=Ge[1],Me=Og(ee);at.current=Me,mg(function(){rt(e);var wt=K.current;K.current=!0;var $t;!wt&&e&&c&&($t=Rs),wt&&e&&s&&($t=Ns),(wt&&!e&&d||!wt&&m&&!e&&d)&&($t=$s);var kt=ce($t);$t&&(t||kt[Dn])?(N($t),jt()):N(bi)},[e]),(0,S.useEffect)(function(){(j===Rs&&!c||j===Ns&&!s||j===$s&&!d)&&N(bi)},[c,s,d]),(0,S.useEffect)(function(){return function(){K.current=!1,clearTimeout(et.current)}},[]);var Ht=S.useRef(!1);(0,S.useEffect)(function(){tt&&(Ht.current=!0),tt!==void 0&&j===bi&&((Ht.current||tt)&&(nt==null||nt(tt)),Ht.current=!0)},[tt,j]);var sn=Q;return Gt[Dn]&&ee===io&&(sn=bt({transition:"none"},sn)),[j,ee,sn,tt!=null?tt:e]}function EO(t){var e=t;xn(t)==="object"&&(e=t.transitionSupport);function n(a,s){return!!(a.motionName&&e&&s!==!1)}var i=S.forwardRef(function(a,s){var l=a.visible,c=l===void 0?!0:l,h=a.removeOnLeave,d=h===void 0?!0:h,g=a.forceRender,m=a.children,p=a.motionName,b=a.leavedClassName,E=a.eventProps,k=S.useContext(dO),w=k.motion,O=n(a,w),I=(0,S.useRef)(),A=(0,S.useRef)();function _(){try{return I.current instanceof HTMLElement?I.current:Cs(A.current)}catch(U){return null}}var L=SO(O,c,_,a),P=It(L,4),M=P[0],nt=P[1],ft=P[2],G=P[3],tt=S.useRef(G);G&&(tt.current=!0);var rt=S.useCallback(function(U){I.current=U,Pl(s,U)},[s]),Y,C=bt(bt({},E),{},{visible:c});if(!m)Y=null;else if(M===bi)G?Y=m(bt({},C),rt):!d&&tt.current&&b?Y=m(bt(bt({},C),{},{className:b}),rt):g||!d&&!b?Y=m(bt(bt({},C),{},{style:{display:"none"}}),rt):Y=null;else{var j,N;nt===Dn?N="prepare":Og(nt)?N="active":nt===io&&(N="start");var F=vg(p,"".concat(M,"-").concat(N));Y=m(bt(bt({},C),{},{className:ue(vg(p,M),(j={},Ee(j,F,F&&N),Ee(j,p,typeof p=="string"),j)),style:ft}),rt)}if(S.isValidElement(Y)&&Es(Y)){var B=Y,Q=B.ref;Q||(Y=S.cloneElement(Y,{ref:rt}))}return S.createElement(gO,{ref:A},Y)});return i.displayName="CSSMotion",i}const tc=EO(dg);var ec="add",nc="keep",rc="remove",ic="removed";function DO(t){var e;return t&&xn(t)==="object"&&"key"in t?e=t:e={key:t},bt(bt({},e),{},{key:String(e.key)})}function oc(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(DO)}function kO(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],i=0,a=e.length,s=oc(t),l=oc(e);s.forEach(function(d){for(var g=!1,m=i;m<a;m+=1){var p=l[m];if(p.key===d.key){i<m&&(n=n.concat(l.slice(i,m).map(function(b){return bt(bt({},b),{},{status:ec})})),i=m),n.push(bt(bt({},p),{},{status:nc})),i+=1,g=!0;break}}g||n.push(bt(bt({},d),{},{status:rc}))}),i<a&&(n=n.concat(l.slice(i).map(function(d){return bt(bt({},d),{},{status:ec})})));var c={};n.forEach(function(d){var g=d.key;c[g]=(c[g]||0)+1});var h=Object.keys(c).filter(function(d){return c[d]>1});return h.forEach(function(d){n=n.filter(function(g){var m=g.key,p=g.status;return m!==d||p!==rc}),n.forEach(function(g){g.key===d&&(g.status=nc)})}),n}var CO=["component","children","onVisibleChanged","onAllRemoved"],TO=["status"],AO=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function RO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tc,n=function(i){Wl(s,i);var a=Yl(s);function s(){var l;Ul(this,s);for(var c=arguments.length,h=new Array(c),d=0;d<c;d++)h[d]=arguments[d];return l=a.call.apply(a,[this].concat(h)),Ee(Vl(l),"state",{keyEntities:[]}),Ee(Vl(l),"removeKey",function(g){var m=l.state.keyEntities,p=m.map(function(b){return b.key!==g?b:bt(bt({},b),{},{status:ic})});return l.setState({keyEntities:p}),p.filter(function(b){var E=b.status;return E!==ic}).length}),l}return Hl(s,[{key:"render",value:function(){var l=this,c=this.state.keyEntities,h=this.props,d=h.component,g=h.children,m=h.onVisibleChanged,p=h.onAllRemoved,b=Os(h,CO),E=d||S.Fragment,k={};return AO.forEach(function(w){k[w]=b[w],delete b[w]}),delete b.keys,S.createElement(E,b,c.map(function(w,O){var I=w.status,A=Os(w,TO),_=I===ec||I===nc;return S.createElement(e,mi({},k,{key:A.key,visible:_,eventProps:A,onVisibleChanged:function(L){if(m==null||m(L,{key:A.key}),!L){var P=l.removeKey(A.key);P===0&&p&&p()}}}),function(L,P){return g(bt(bt({},L),{},{index:O}),P)})}))}}],[{key:"getDerivedStateFromProps",value:function(l,c){var h=l.keys,d=c.keyEntities,g=oc(h),m=kO(d,g);return{keyEntities:m.filter(function(p){var b=d.find(function(E){var k=E.key;return p.key===k});return!(b&&b.status===ic&&p.status===rc)})}}}]),s}(S.Component);return Ee(n,"defaultProps",{component:"div"}),n}RO(dg);function NO(t){var e=t.prefixCls,n=t.align,i=t.arrow,a=t.arrowPos,s=i||{},l=s.className,c=s.content,h=a.x,d=h===void 0?0:h,g=a.y,m=g===void 0?0:g,p=S.useRef();if(!n||!n.points)return null;var b={position:"absolute"};if(n.autoArrow!==!1){var E=n.points[0],k=n.points[1],w=E[0],O=E[1],I=k[0],A=k[1];w===I||!["t","b"].includes(w)?b.top=m:w==="t"?b.top=0:b.bottom=0,O===A||!["l","r"].includes(O)?b.left=d:O==="l"?b.left=0:b.right=0}return S.createElement("div",{ref:p,className:ue("".concat(e,"-arrow"),l),style:b},c)}function $O(t){var e=t.prefixCls,n=t.open,i=t.zIndex,a=t.mask,s=t.motion;return a?S.createElement(tc,mi({},s,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(l){var c=l.className;return S.createElement("div",{style:{zIndex:i},className:ue("".concat(e,"-mask"),c)})}):null}var IO=S.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),PO=S.forwardRef(function(t,e){var n=t.popup,i=t.className,a=t.prefixCls,s=t.style,l=t.target,c=t.onVisibleChanged,h=t.open,d=t.keepDom,g=t.fresh,m=t.onClick,p=t.mask,b=t.arrow,E=t.arrowPos,k=t.align,w=t.motion,O=t.maskMotion,I=t.forceRender,A=t.getPopupContainer,_=t.autoDestroy,L=t.portal,P=t.zIndex,M=t.onMouseEnter,nt=t.onMouseLeave,ft=t.onPointerEnter,G=t.ready,tt=t.offsetX,rt=t.offsetY,Y=t.offsetR,C=t.offsetB,j=t.onAlign,N=t.onPrepare,F=t.stretch,B=t.targetWidth,Q=t.targetHeight,U=typeof n=="function"?n():n,K=h||d,et=(A==null?void 0:A.length)>0,it=S.useState(!A||!et),at=It(it,2),st=at[0],gt=at[1];if(Ye(function(){!st&&et&&l&&gt(!0)},[st,et,l]),!st)return null;var mt="auto",ct={left:"-1000vw",top:"-1000vh",right:mt,bottom:mt};if(G||!h){var yt,ce=k.points,Gt=k.dynamicInset||((yt=k._experimental)===null||yt===void 0?void 0:yt.dynamicInset),De=Gt&&ce[0][1]==="r",Ge=Gt&&ce[0][0]==="b";De?(ct.right=Y,ct.left=mt):(ct.left=tt,ct.right=mt),Ge?(ct.bottom=C,ct.top=mt):(ct.top=rt,ct.bottom=mt)}var jt={};return F&&(F.includes("height")&&Q?jt.height=Q:F.includes("minHeight")&&Q&&(jt.minHeight=Q),F.includes("width")&&B?jt.width=B:F.includes("minWidth")&&B&&(jt.minWidth=B)),h||(jt.pointerEvents="none"),S.createElement(L,{open:I||K,getContainer:A&&function(){return A(l)},autoDestroy:_},S.createElement($O,{prefixCls:a,open:h,zIndex:P,mask:p,motion:O}),S.createElement(Gl,{onResize:j,disabled:!h},function(ee){return S.createElement(tc,mi({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:I,leavedClassName:"".concat(a,"-hidden")},w,{onAppearPrepare:N,onEnterPrepare:N,visible:h,onVisibleChanged:function(Me){var Ht;w==null||(Ht=w.onVisibleChanged)===null||Ht===void 0||Ht.call(w,Me),c(Me)}}),function(Me,Ht){var sn=Me.className,wt=Me.style,$t=ue(a,sn,i);return S.createElement("div",{ref:Bd(ee,e,Ht),className:$t,style:bt(bt(bt(bt({"--arrow-x":"".concat(E.x||0,"px"),"--arrow-y":"".concat(E.y||0,"px")},ct),jt),wt),{},{boxSizing:"border-box",zIndex:P},s),onMouseEnter:M,onMouseLeave:nt,onPointerEnter:ft,onClick:m},b&&S.createElement(NO,{prefixCls:a,arrow:b,arrowPos:E,align:k}),S.createElement(IO,{cache:!h&&!g},U))})}))}),jO=S.forwardRef(function(t,e){var n=t.children,i=t.getTriggerDOMNode,a=Es(n),s=S.useCallback(function(c){Pl(e,i?i(c):c)},[i]),l=jl(s,n.ref);return a?S.cloneElement(n,{ref:l}):n}),Sg=S.createContext(null);function Eg(t){return t?Array.isArray(t)?t:[t]:[]}function LO(t,e,n,i){return S.useMemo(function(){var a=Eg(n!=null?n:e),s=Eg(i!=null?i:e),l=new Set(a),c=new Set(s);return t&&(l.has("hover")&&(l.delete("hover"),l.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[l,c]},[t,e,n,i])}const MO=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,i=e.height;if(n||i)return!0}if(t.getBoundingClientRect){var a=t.getBoundingClientRect(),s=a.width,l=a.height;if(s||l)return!0}}return!1};function zO(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function FO(t,e,n,i){for(var a=n.points,s=Object.keys(t),l=0;l<s.length;l+=1){var c,h=s[l];if(zO((c=t[h])===null||c===void 0?void 0:c.points,a,i))return"".concat(e,"-placement-").concat(h)}return""}function Dg(t,e,n,i){return e||(n?{motionName:"".concat(t,"-").concat(n)}:i?{motionName:i}:null)}function sa(t){return t.ownerDocument.defaultView}function ac(t){for(var e=[],n=t==null?void 0:t.parentElement,i=["hidden","scroll","clip","auto"];n;){var a=sa(n).getComputedStyle(n),s=a.overflowX,l=a.overflowY,c=a.overflow;[s,l,c].some(function(h){return i.includes(h)})&&e.push(n),n=n.parentElement}return e}function ua(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function la(t){return ua(parseFloat(t),0)}function kg(t,e){var n=bt({},t);return(e||[]).forEach(function(i){if(!(i instanceof HTMLBodyElement||i instanceof HTMLHtmlElement)){var a=sa(i).getComputedStyle(i),s=a.overflow,l=a.overflowClipMargin,c=a.borderTopWidth,h=a.borderBottomWidth,d=a.borderLeftWidth,g=a.borderRightWidth,m=i.getBoundingClientRect(),p=i.offsetHeight,b=i.clientHeight,E=i.offsetWidth,k=i.clientWidth,w=la(c),O=la(h),I=la(d),A=la(g),_=ua(Math.round(m.width/E*1e3)/1e3),L=ua(Math.round(m.height/p*1e3)/1e3),P=(E-k-I-A)*_,M=(p-b-w-O)*L,nt=w*L,ft=O*L,G=I*_,tt=A*_,rt=0,Y=0;if(s==="clip"){var C=la(l);rt=C*_,Y=C*L}var j=m.x+G-rt,N=m.y+nt-Y,F=j+m.width+2*rt-G-tt-P,B=N+m.height+2*Y-nt-ft-M;n.left=Math.max(n.left,j),n.top=Math.max(n.top,N),n.right=Math.min(n.right,F),n.bottom=Math.min(n.bottom,B)}}),n}function Cg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(e),i=n.match(/^(.*)\%$/);return i?t*(parseFloat(i[1])/100):parseFloat(n)}function Tg(t,e){var n=e||[],i=It(n,2),a=i[0],s=i[1];return[Cg(t.width,a),Cg(t.height,s)]}function Ag(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function ao(t,e){var n=e[0],i=e[1],a,s;return n==="t"?s=t.y:n==="b"?s=t.y+t.height:s=t.y+t.height/2,i==="l"?a=t.x:i==="r"?a=t.x+t.width:a=t.x+t.width/2,{x:a,y:s}}function Fr(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map(function(i,a){return a===e?n[i]||"c":i}).join("")}function BO(t,e,n,i,a,s,l){var c=S.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[i]||{}}),h=It(c,2),d=h[0],g=h[1],m=S.useRef(0),p=S.useMemo(function(){return e?ac(e):[]},[e]),b=S.useRef({}),E=function(){b.current={}};t||E();var k=yi(function(){if(e&&n&&t){let he=function(Jn,tr){var _r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$t,ji=U.x+Jn,Or=U.y+tr,Li=ji+yt,Mi=Or+ct,So=Math.max(ji,_r.left),pa=Math.max(Or,_r.top),Eo=Math.min(Li,_r.right),va=Math.min(Mi,_r.bottom);return Math.max(0,(Eo-So)*(va-pa))},Pi=function(){vr=U.y+Zt,mr=vr+ct,Tn=U.x+ne,yr=Tn+yt};var I,A,_=e,L=_.ownerDocument,P=sa(_),M=P.getComputedStyle(_),nt=M.width,ft=M.height,G=M.position,tt=_.style.left,rt=_.style.top,Y=_.style.right,C=_.style.bottom,j=_.style.overflow,N=bt(bt({},a[i]),s),F=L.createElement("div");(I=_.parentElement)===null||I===void 0||I.appendChild(F),F.style.left="".concat(_.offsetLeft,"px"),F.style.top="".concat(_.offsetTop,"px"),F.style.position=G,F.style.height="".concat(_.offsetHeight,"px"),F.style.width="".concat(_.offsetWidth,"px"),_.style.left="0",_.style.top="0",_.style.right="auto",_.style.bottom="auto",_.style.overflow="hidden";var B;if(Array.isArray(n))B={x:n[0],y:n[1],width:0,height:0};else{var Q=n.getBoundingClientRect();B={x:Q.x,y:Q.y,width:Q.width,height:Q.height}}var U=_.getBoundingClientRect(),K=L.documentElement,et=K.clientWidth,it=K.clientHeight,at=K.scrollWidth,st=K.scrollHeight,gt=K.scrollTop,mt=K.scrollLeft,ct=U.height,yt=U.width,ce=B.height,Gt=B.width,De={left:0,top:0,right:et,bottom:it},Ge={left:-mt,top:-gt,right:at-mt,bottom:st-gt},jt=N.htmlRegion,ee="visible",Me="visibleFirst";jt!=="scroll"&&jt!==Me&&(jt=ee);var Ht=jt===Me,sn=kg(Ge,p),wt=kg(De,p),$t=jt===ee?wt:sn,kt=Ht?wt:$t;_.style.left="auto",_.style.top="auto",_.style.right="0",_.style.bottom="0";var ie=_.getBoundingClientRect();_.style.left=tt,_.style.top=rt,_.style.right=Y,_.style.bottom=C,_.style.overflow=j,(A=_.parentElement)===null||A===void 0||A.removeChild(F);var un=ua(Math.round(yt/parseFloat(nt)*1e3)/1e3),cr=ua(Math.round(ct/parseFloat(ft)*1e3)/1e3);if(un===0||cr===0||ks(n)&&!MO(n))return;var qn=N.offset,ke=N.targetOffset,fr=Tg(U,qn),ln=It(fr,2),Ce=ln[0],Te=ln[1],Ur=Tg(B,ke),Ae=It(Ur,2),_i=Ae[0],Hr=Ae[1];B.x-=_i,B.y-=Hr;var Oi=N.points||[],Wn=It(Oi,2),xe=Wn[0],Vn=Wn[1],kn=Ag(Vn),Re=Ag(xe),Si=ao(B,kn),Ei=ao(U,Re),Cn=bt({},N),ne=Si.x-Ei.x+Ce,Zt=Si.y-Ei.y+Te,Qt=he(ne,Zt),hr=he(ne,Zt,wt),Yn=ao(B,["t","l"]),dr=ao(U,["t","l"]),Di=ao(B,["b","r"]),gr=ao(U,["b","r"]),pr=N.overflow||{},Ne=pr.adjustX,da=pr.adjustY,ki=pr.shiftX,qr=pr.shiftY,Ci=function(Jn){return typeof Jn=="boolean"?Jn:Jn>=0},vr,mr,Tn,yr;Pi();var Ti=Ci(da),Ai=Re[0]===kn[0];if(Ti&&Re[0]==="t"&&(mr>kt.bottom||b.current.bt)){var Gn=Zt;Ai?Gn-=ct-ce:Gn=Yn.y-gr.y-Te;var fo=he(ne,Gn),Wr=he(ne,Gn,wt);fo>Qt||fo===Qt&&(!Ht||Wr>=hr)?(b.current.bt=!0,Zt=Gn,Te=-Te,Cn.points=[Fr(Re,0),Fr(kn,0)]):b.current.bt=!1}if(Ti&&Re[0]==="b"&&(vr<kt.top||b.current.tb)){var br=Zt;Ai?br+=ct-ce:br=Di.y-dr.y-Te;var _e=he(ne,br),Vr=he(ne,br,wt);_e>Qt||_e===Qt&&(!Ht||Vr>=hr)?(b.current.tb=!0,Zt=br,Te=-Te,Cn.points=[Fr(Re,0),Fr(kn,0)]):b.current.tb=!1}var ho=Ci(Ne),wr=Re[1]===kn[1];if(ho&&Re[1]==="l"&&(yr>kt.right||b.current.rl)){var xr=ne;wr?xr-=yt-Gt:xr=Yn.x-gr.x-Ce;var go=he(xr,Zt),ga=he(xr,Zt,wt);go>Qt||go===Qt&&(!Ht||ga>=hr)?(b.current.rl=!0,ne=xr,Ce=-Ce,Cn.points=[Fr(Re,1),Fr(kn,1)]):b.current.rl=!1}if(ho&&Re[1]==="r"&&(Tn<kt.left||b.current.lr)){var Kn=ne;wr?Kn+=yt-Gt:Kn=Di.x-dr.x-Ce;var Ri=he(Kn,Zt),po=he(Kn,Zt,wt);Ri>Qt||Ri===Qt&&(!Ht||po>=hr)?(b.current.lr=!0,ne=Kn,Ce=-Ce,Cn.points=[Fr(Re,1),Fr(kn,1)]):b.current.lr=!1}Pi();var cn=ki===!0?0:ki;typeof cn=="number"&&(Tn<wt.left&&(ne-=Tn-wt.left-Ce,B.x+Gt<wt.left+cn&&(ne+=B.x-wt.left+Gt-cn)),yr>wt.right&&(ne-=yr-wt.right-Ce,B.x>wt.right-cn&&(ne+=B.x-wt.right+cn)));var An=qr===!0?0:qr;typeof An=="number"&&(vr<wt.top&&(Zt-=vr-wt.top-Te,B.y+ce<wt.top+An&&(Zt+=B.y-wt.top+ce-An)),mr>wt.bottom&&(Zt-=mr-wt.bottom-Te,B.y>wt.bottom-An&&(Zt+=B.y-wt.bottom+An)));var Ni=U.x+ne,vo=Ni+yt,Rn=U.y+Zt,Zn=Rn+ct,Yr=B.x,Qn=Yr+Gt,Nn=B.y,mo=Nn+ce,Gr=Math.max(Ni,Yr),yo=Math.min(vo,Qn),bo=(Gr+yo)/2,wo=bo-Ni,xo=Math.max(Rn,Nn),$i=Math.min(Zn,mo),_o=(xo+$i)/2,Oo=_o-Rn;l==null||l(e,Cn);var Ii=ie.right-U.x-(ne+U.width),Kr=ie.bottom-U.y-(Zt+U.height);g({ready:!0,offsetX:ne/un,offsetY:Zt/cr,offsetR:Ii/un,offsetB:Kr/cr,arrowX:wo/un,arrowY:Oo/cr,scaleX:un,scaleY:cr,align:Cn})}}),w=function(){m.current+=1;var I=m.current;Promise.resolve().then(function(){m.current===I&&k()})},O=function(){g(function(I){return bt(bt({},I),{},{ready:!1})})};return Ye(O,[i]),Ye(function(){t||O()},[t]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,w]}function XO(t,e,n,i,a){Ye(function(){if(t&&e&&n){let m=function(){i(),a()};var s=e,l=n,c=ac(s),h=ac(l),d=sa(l),g=new Set([d].concat(Ll(c),Ll(h)));return g.forEach(function(p){p.addEventListener("scroll",m,{passive:!0})}),d.addEventListener("resize",m,{passive:!0}),i(),function(){g.forEach(function(p){p.removeEventListener("scroll",m),d.removeEventListener("resize",m)})}}},[t,e,n])}function UO(t,e,n,i,a,s,l,c){var h=S.useRef(t);h.current=t,S.useEffect(function(){if(e&&i&&(!a||s)){var d=function(w){var O=w.target;h.current&&!l(O)&&c(!1)},g=sa(i);g.addEventListener("mousedown",d,!0),g.addEventListener("contextmenu",d,!0);var m=Kl(n);if(m&&(m.addEventListener("mousedown",d,!0),m.addEventListener("contextmenu",d,!0)),!1)var p,b,E,k;return function(){g.removeEventListener("mousedown",d,!0),g.removeEventListener("contextmenu",d,!0),m&&(m.removeEventListener("mousedown",d,!0),m.removeEventListener("contextmenu",d,!0))}}},[e,n,i,a,s])}var HO=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function qO(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jd,e=S.forwardRef(function(n,i){var a=n.prefixCls,s=a===void 0?"rc-trigger-popup":a,l=n.children,c=n.action,h=c===void 0?"hover":c,d=n.showAction,g=n.hideAction,m=n.popupVisible,p=n.defaultPopupVisible,b=n.onPopupVisibleChange,E=n.afterPopupVisibleChange,k=n.mouseEnterDelay,w=n.mouseLeaveDelay,O=w===void 0?.1:w,I=n.focusDelay,A=n.blurDelay,_=n.mask,L=n.maskClosable,P=L===void 0?!0:L,M=n.getPopupContainer,nt=n.forceRender,ft=n.autoDestroy,G=n.destroyPopupOnHide,tt=n.popup,rt=n.popupClassName,Y=n.popupStyle,C=n.popupPlacement,j=n.builtinPlacements,N=j===void 0?{}:j,F=n.popupAlign,B=n.zIndex,Q=n.stretch,U=n.getPopupClassNameFromAlign,K=n.fresh,et=n.alignPoint,it=n.onPopupClick,at=n.onPopupAlign,st=n.arrow,gt=n.popupMotion,mt=n.maskMotion,ct=n.popupTransitionName,yt=n.popupAnimation,ce=n.maskTransitionName,Gt=n.maskAnimation,De=n.className,Ge=n.getTriggerDOMNode,jt=Os(n,HO),ee=ft||G||!1,Me=S.useState(!1),Ht=It(Me,2),sn=Ht[0],wt=Ht[1];Ye(function(){wt(hO())},[]);var $t=S.useRef({}),kt=S.useContext(Sg),ie=S.useMemo(function(){return{registerSubPopup:function(ut,At){$t.current[ut]=At,kt==null||kt.registerSubPopup(ut,At)}}},[kt]),un=fO(),cr=S.useState(null),qn=It(cr,2),ke=qn[0],fr=qn[1],ln=S.useRef(null),Ce=yi(function(ut){ln.current=ut,ks(ut)&&ke!==ut&&fr(ut),kt==null||kt.registerSubPopup(un,ut)}),Te=S.useState(null),Ur=It(Te,2),Ae=Ur[0],_i=Ur[1],Hr=S.useRef(null),Oi=yi(function(ut){ks(ut)&&Ae!==ut&&(_i(ut),Hr.current=ut)}),Wn=S.Children.only(l),xe=(Wn==null?void 0:Wn.props)||{},Vn={},kn=yi(function(ut){var At,fe,de=Ae;return(de==null?void 0:de.contains(ut))||((At=Kl(de))===null||At===void 0?void 0:At.host)===ut||ut===de||(ke==null?void 0:ke.contains(ut))||((fe=Kl(ke))===null||fe===void 0?void 0:fe.host)===ut||ut===ke||Object.values($t.current).some(function(Jt){return(Jt==null?void 0:Jt.contains(ut))||ut===Jt})}),Re=Dg(s,gt,yt,ct),Si=Dg(s,mt,Gt,ce),Ei=S.useState(p||!1),Cn=It(Ei,2),ne=Cn[0],Zt=Cn[1],Qt=m!=null?m:ne,hr=yi(function(ut){m===void 0&&Zt(ut)});Ye(function(){Zt(m||!1)},[m]);var Yn=S.useRef(Qt);Yn.current=Qt;var dr=S.useRef([]);dr.current=[];var Di=yi(function(ut){var At;hr(ut),((At=dr.current[dr.current.length-1])!==null&&At!==void 0?At:Qt)!==ut&&(dr.current.push(ut),b==null||b(ut))}),gr=S.useRef(),pr=function(){clearTimeout(gr.current)},Ne=function(ut){var At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;pr(),At===0?Di(ut):gr.current=setTimeout(function(){Di(ut)},At*1e3)};S.useEffect(function(){return pr},[]);var da=S.useState(!1),ki=It(da,2),qr=ki[0],Ci=ki[1];Ye(function(ut){(!ut||Qt)&&Ci(!0)},[Qt]);var vr=S.useState(null),mr=It(vr,2),Tn=mr[0],yr=mr[1],Ti=S.useState([0,0]),Ai=It(Ti,2),Gn=Ai[0],fo=Ai[1],Wr=function(ut){fo([ut.clientX,ut.clientY])},br=BO(Qt,ke,et?Gn:Ae,C,N,F,at),_e=It(br,11),Vr=_e[0],ho=_e[1],wr=_e[2],xr=_e[3],go=_e[4],ga=_e[5],Kn=_e[6],Ri=_e[7],po=_e[8],cn=_e[9],An=_e[10],Ni=LO(sn,h,d,g),vo=It(Ni,2),Rn=vo[0],Zn=vo[1],Yr=Rn.has("click"),Qn=Zn.has("click")||Zn.has("contextMenu"),Nn=yi(function(){qr||An()}),mo=function(){Yn.current&&et&&Qn&&Ne(!1)};XO(Qt,Ae,ke,Nn,mo),Ye(function(){Nn()},[Gn,C]),Ye(function(){Qt&&!(N!=null&&N[C])&&Nn()},[JSON.stringify(F)]);var Gr=S.useMemo(function(){var ut=FO(N,s,cn,et);return ue(ut,U==null?void 0:U(cn))},[cn,U,N,s,et]);S.useImperativeHandle(i,function(){return{nativeElement:Hr.current,popupElement:ln.current,forceAlign:Nn}});var yo=S.useState(0),bo=It(yo,2),wo=bo[0],xo=bo[1],$i=S.useState(0),_o=It($i,2),Oo=_o[0],Ii=_o[1],Kr=function(){if(Q&&Ae){var ut=Ae.getBoundingClientRect();xo(ut.width),Ii(ut.height)}},he=function(){Kr(),Nn()},Pi=function(ut){Ci(!1),An(),E==null||E(ut)},Jn=function(){return new Promise(function(ut){Kr(),yr(function(){return ut})})};Ye(function(){Tn&&(An(),Tn(),yr(null))},[Tn]);function tr(ut,At,fe,de){Vn[ut]=function(Jt){var Do;de==null||de(Jt),Ne(At,fe);for(var ma=arguments.length,Xs=new Array(ma>1?ma-1:0),Ft=1;Ft<ma;Ft++)Xs[Ft-1]=arguments[Ft];(Do=xe[ut])===null||Do===void 0||Do.call.apply(Do,[xe,Jt].concat(Xs))}}(Yr||Qn)&&(Vn.onClick=function(ut){var At;Yn.current&&Qn?Ne(!1):!Yn.current&&Yr&&(Wr(ut),Ne(!0));for(var fe=arguments.length,de=new Array(fe>1?fe-1:0),Jt=1;Jt<fe;Jt++)de[Jt-1]=arguments[Jt];(At=xe.onClick)===null||At===void 0||At.call.apply(At,[xe,ut].concat(de))}),UO(Qt,Qn,Ae,ke,_,P,kn,Ne);var _r=Rn.has("hover"),ji=Zn.has("hover"),Or,Li;_r&&(tr("onMouseEnter",!0,k,function(ut){Wr(ut)}),tr("onPointerEnter",!0,k,function(ut){Wr(ut)}),Or=function(ut){(Qt||qr)&&ke!==null&&ke!==void 0&&ke.contains(ut.target)&&Ne(!0,k)},et&&(Vn.onMouseMove=function(ut){var At;(At=xe.onMouseMove)===null||At===void 0||At.call(xe,ut)})),ji&&(tr("onMouseLeave",!1,O),tr("onPointerLeave",!1,O),Li=function(){Ne(!1,O)}),Rn.has("focus")&&tr("onFocus",!0,I),Zn.has("focus")&&tr("onBlur",!1,A),Rn.has("contextMenu")&&(Vn.onContextMenu=function(ut){var At;Yn.current&&Zn.has("contextMenu")?Ne(!1):(Wr(ut),Ne(!0)),ut.preventDefault();for(var fe=arguments.length,de=new Array(fe>1?fe-1:0),Jt=1;Jt<fe;Jt++)de[Jt-1]=arguments[Jt];(At=xe.onContextMenu)===null||At===void 0||At.call.apply(At,[xe,ut].concat(de))}),De&&(Vn.className=ue(xe.className,De));var Mi=bt(bt({},xe),Vn),So={},pa=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];pa.forEach(function(ut){jt[ut]&&(So[ut]=function(){for(var At,fe=arguments.length,de=new Array(fe),Jt=0;Jt<fe;Jt++)de[Jt]=arguments[Jt];(At=Mi[ut])===null||At===void 0||At.call.apply(At,[Mi].concat(de)),jt[ut].apply(jt,de)})});var Eo=S.cloneElement(Wn,bt(bt({},Mi),So)),va={x:ga,y:Kn},fc=st?bt({},st!==!0?st:{}):null;return S.createElement(S.Fragment,null,S.createElement(Gl,{disabled:!Qt,ref:Oi,onResize:he},S.createElement(jO,{getTriggerDOMNode:Ge},Eo)),S.createElement(Sg.Provider,{value:ie},S.createElement(PO,{portal:t,ref:Ce,prefixCls:s,popup:tt,className:ue(rt,Gr),style:Y,target:Ae,onMouseEnter:Or,onMouseLeave:Li,onPointerEnter:Or,zIndex:B,open:Qt,keepDom:qr,fresh:K,onClick:it,mask:_,motion:Re,maskMotion:Si,onVisibleChanged:Pi,onPrepare:Jn,forceRender:nt,autoDestroy:ee,getPopupContainer:M,align:cn,arrow:fc,arrowPos:va,ready:Vr,offsetX:ho,offsetY:wr,offsetR:xr,offsetB:go,onAlign:Nn,stretch:Q,targetWidth:wo/Ri,targetHeight:Oo/po})))});return e}const WO=qO(Jd);var so={shiftX:64,adjustY:1},uo={adjustX:1,shiftY:!0},an=[0,0],VO={left:{points:["cr","cl"],overflow:uo,offset:[-4,0],targetOffset:an},right:{points:["cl","cr"],overflow:uo,offset:[4,0],targetOffset:an},top:{points:["bc","tc"],overflow:so,offset:[0,-4],targetOffset:an},bottom:{points:["tc","bc"],overflow:so,offset:[0,4],targetOffset:an},topLeft:{points:["bl","tl"],overflow:so,offset:[0,-4],targetOffset:an},leftTop:{points:["tr","tl"],overflow:uo,offset:[-4,0],targetOffset:an},topRight:{points:["br","tr"],overflow:so,offset:[0,-4],targetOffset:an},rightTop:{points:["tl","tr"],overflow:uo,offset:[4,0],targetOffset:an},bottomRight:{points:["tr","br"],overflow:so,offset:[0,4],targetOffset:an},rightBottom:{points:["bl","br"],overflow:uo,offset:[4,0],targetOffset:an},bottomLeft:{points:["tl","bl"],overflow:so,offset:[0,4],targetOffset:an},leftBottom:{points:["br","bl"],overflow:uo,offset:[-4,0],targetOffset:an}},YO=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],GO=function(t,e){var n=t.overlayClassName,i=t.trigger,a=i===void 0?["hover"]:i,s=t.mouseEnterDelay,l=s===void 0?0:s,c=t.mouseLeaveDelay,h=c===void 0?.1:c,d=t.overlayStyle,g=t.prefixCls,m=g===void 0?"rc-tooltip":g,p=t.children,b=t.onVisibleChange,E=t.afterVisibleChange,k=t.transitionName,w=t.animation,O=t.motion,I=t.placement,A=I===void 0?"right":I,_=t.align,L=_===void 0?{}:_,P=t.destroyTooltipOnHide,M=P===void 0?!1:P,nt=t.defaultVisible,ft=t.getTooltipContainer,G=t.overlayInnerStyle;t.arrowContent;var tt=t.overlay,rt=t.id,Y=t.showArrow,C=Y===void 0?!0:Y,j=Os(t,YO),N=(0,S.useRef)(null);(0,S.useImperativeHandle)(e,function(){return N.current});var F=bt({},j);"visible"in t&&(F.popupVisible=t.visible);var B=function(){return S.createElement(S_,{key:"content",prefixCls:m,id:rt,overlayInnerStyle:G},tt)};return S.createElement(WO,mi({popupClassName:n,prefixCls:m,popup:B,action:a,builtinPlacements:VO,popupPlacement:A,ref:N,popupAlign:L,getPopupContainer:ft,onPopupVisibleChange:b,afterPopupVisibleChange:E,popupTransitionName:k,popupAnimation:w,popupMotion:O,defaultPopupVisible:nt,autoDestroy:M,mouseLeaveDelay:h,popupStyle:d,mouseEnterDelay:l,arrow:C},F),p)};const KO=(0,S.forwardRef)(GO),ZO=t=>{const l=t,{children:e,title:n,content:i,className:a}=l,s=$r(l,["children","title","content","className"]);return q.jsx(KO,Mt(J({prefixCls:"fiagram-tooltip",motion:{motionName:"fiagram-tooltip-fade"}},s),{children:q.jsx("span",{className:a,children:e})}))},QO={rightTop:{offset:[14,0],targetOffset:[0,7]},bottom:{offset:[0,14],targetOffset:[-7,0]}},JO=t=>{const{icon:e,title:n,trigger:i="hover",onClick:a,overlay:s,placement:l="bottom",active:c=!1,disabled:h=!1}=t,{state:d}=le(m=>m),{svgInfo:g}=d;return(0,S.useEffect)(()=>{var m;let p=null;return g!=null&&g.svgDOM&&t.keyCodes&&(p=new __({keyCode:t.keyCodes,keydown:t.onKeyDown,keyup:t.onKeyUp,dom:(m=g==null?void 0:g.svgDOM)==null?void 0:m.parentNode})),()=>{p&&p.removeEvent()}},[g==null?void 0:g.svgDOM,t.disabled,t.active]),q.jsx(ZO,{trigger:i,overlay:s||n||"",align:QO[l],placement:l,className:ue("fiagram-tools-item",{active:c,disabled:h}),children:q.jsx(O_,{type:e,onClick:a,style:e==="icon-marquee"?{position:"relative",left:"2px",top:"1px"}:{}})})},Br=t=>{const{group:e,trigger:n,placement:i}=t;return q.jsx("div",{className:"fiagram-tools-group",children:e.map(l=>{var c=l,{key:a}=c,s=$r(c,["key"]);return q.jsx(JO,J({trigger:n,placement:i},s),a)})})};function sc(t){t!=null&&t.svg&&(t.svg.classed("marquee-finished",!1),t.svg.call(t.zoom).on("dblclick.zoom",null),t==null||t.marqueeSelect.attr("d","M 0 0").attr("transform",""),t==null||t.marqueeSelectCopy.attr("d","M 0 0").attr("transform",""),t==null||t.marqueeSelectCopy.on("mousedown.drag",null))}const Rg=()=>{const{t}=Mr(),[e,n]=(0,S.useState)(!1),{state:i,setMarqueeNodes:a,getState:s,updateNodes:l}=le(w=>w),{svgInfo:c,nodes:h}=i;function d(){let w=!1;const O={x:0,y:0},I=0,A=0;return Ko().on("start",_=>{w=!1,c==null||c.svg.classed("marquee",!0),c==null||c.svg.classed("marquee-finished",!1),O.x=_.x-I,O.y=_.y-A}).on("drag",_=>{w=!0;const L={x:0,y:0};L.x=_.x-I,L.y=_.y-A,c==null||c.marqueeSelect.attr("d",`M ${O.x} ${O.y} H ${L.x} V ${L.y} H ${O.x} Z`)}).on("end",_=>{if(w){const L={x:0,y:0};L.x=_.x-I,L.y=_.y-A;const P={x1:O.x,y1:O.y,x2:L.x,y2:L.y};L.x<O.x&&(P.x2=O.x,P.x1=L.x),L.y<O.y&&(P.y2=O.y,P.y1=L.y);const M=p(h||[],P);a(M),k()}})}function g(w,O){return O.x>w.x1&&O.x<w.x2&&O.y>w.y1&&O.y<w.y2}function m(w,O){const I={x:0,y:0},A={x:0,y:0},_={x:0,y:0},L={x:0,y:0},P=oa(c==null?void 0:c.svg.node()),M=On(h||[],(O==null?void 0:O.id)||"");return I.x=((M==null?void 0:M.relativeX)||0)*P.k+P.x,I.y=((M==null?void 0:M.relativeY)||0)*P.k+P.y,A.x=(((M==null?void 0:M.relativeX)||0)+((M==null?void 0:M.width)||0))*P.k+P.x,A.y=((M==null?void 0:M.relativeY)||0)*P.k+P.y,_.x=((M==null?void 0:M.relativeX)||0)*P.k+P.x,_.y=(((M==null?void 0:M.relativeY)||0)+((M==null?void 0:M.height)||0))*P.k+P.y,L.x=(((M==null?void 0:M.relativeX)||0)+((M==null?void 0:M.width)||0))*P.k+P.x,L.y=(((M==null?void 0:M.relativeY)||0)+((M==null?void 0:M.height)||0))*P.k+P.y,g(w,I)&&g(w,A)&&g(w,_)&&g(w,L)}function p(w,O){if(X.isEmpty(w))return[];let I=[];return X.map(w,A=>{m(O,A)&&(I=I.concat(A))}),I}function b(){let w=0,O=0,I={x:0,y:0};c==null||c.marqueeSelectCopy.attr("d",c==null?void 0:c.marqueeSelect.attr("d"));function A(_){let L=0,P=0;const M=_.attr("transform");return M&&([L,P]=M.match(/(-?[0-9.]+)/g)),[+L,+P]}return Ko().on("start",_=>{const[L,P]=A(c==null?void 0:c.marqueeSelectCopy);w=_.x-L,O=_.y-P}).on("drag",_=>{c==null||c.marqueeSelectCopy.attr("transform",`translate(${_.x-w}, ${_.y-O})`)}).on("end",()=>{const{marqueeNodes:_,nodes:L}=s();let P=X.cloneDeep(L);const M=X.map(_,"id"),[nt,ft]=A(c==null?void 0:c.marqueeSelectCopy),G=oa(c==null?void 0:c.svg.node()),tt=nt-I.x,rt=ft-I.y,Y=tt/G.k,C=rt/G.k;P=X.map(X.cloneDeep(P),j=>(X.includes(M,j.id)&&(j.x+=Y,j.y+=C),j)),I={x:nt,y:ft},c==null||c.marqueeSelect.attr("transform",c==null?void 0:c.marqueeSelectCopy.attr("transform")),l(P)})}function E(){c==null||c.svg.on("mousedown.zoom",null),c==null||c.svg.call(d()),n(!0)}const k=()=>{c==null||c.svg.on("mousedown.drag",null),c==null||c.svg.classed("marquee",!1),c==null||c.svg.classed("marquee-finished",!0),c==null||c.marqueeSelectCopy.call(b()),n(!1)};return q.jsx(Br,{group:[{key:"marquee",title:t("translation:marquee"),icon:"icon-marquee",keyCodes:ol.Alt,active:e,onKeyDown:E,onKeyUp:()=>{c!=null&&c.svg.classed("marquee")||c!=null&&c.svg.classed("marquee-finished")||(k(),sc(c))},onClick:e?k:E}]})};function tS(t,e,n){const{state:i,setSvgInfo:a,setState:s}=le(O=>O),{svgInfo:l,zoomConfig:c,selectedNodes:h,selectedEdges:d}=i,{wheelZoomDisabled:g,dragZoomDisabled:m,scaleExtent:p}=n,b=e.current,E=t.current,k=O=>a_().scaleExtent(p&&e1(p)?p:[1/5,4]).on("zoom",I=>{O.attr("transform",I.transform)}),w=(O,I)=>{O.call(I).on("dblclick.zoom",null),g&&O.on("wheel.zoom",null),m&&O.on("mousedown.zoom",null)};return(0,S.useEffect)(()=>{if(!E||!b)return;const O=me(E),I=O.select(".zoom-area"),A=O.select(".marquee-wrap"),_={svg:O,svgDOM:E,svgZoomArea:I,auxiliary:O.select(".auxiliary"),zoom:(c||k)(I),marqueeSelect:A.select(".marquee-select"),marqueeSelectCopy:A.select(".marquee-select-copy")};w(O,_.zoom),Array.from((b==null?void 0:b.childNodes)||[]).forEach(L=>{const P=L==null?void 0:L.getAttribute("data-svg-key");_[P]=O.select(`#${L.id}`)}),O.on("contextmenu",L=>{L.preventDefault()}),_s(J({},_)),a(_)},[b,E]),(0,S.useEffect)(()=>{const{svg:O}=i.svgInfo||{};O&&O.on("click",I=>{var A;if(I.preventDefault(),((A=I==null?void 0:I.srcElement)==null?void 0:A.tagName)==="svg"){const _=X.cloneDeep(i);(O.classed("marquee-finished")||O.classed("marquee"))&&(sc(l),_.marqueeNodes=[]),h&&h.length>0&&(_.selectedNodes=[]),d&&d.length>0&&(_.selectedEdges=[]),s(_)}})}),(0,S.useEffect)(()=>{l!=null&&l.svg&&w(l.svg,l.zoom)},[g,m]),null}function eS(t,e){if(!t||!e)return{display:"none"};const{x:n,y:i}=e,a=`translate(${n}px, ${i}px)`;return{transform:a,WebkitTransform:a}}function nS({item:t,monitor:e,svgRef:n,svgInfo:i,nodes:a}){var s;const{left:l,top:c}=((s=n==null?void 0:n.current)==null?void 0:s.getBoundingClientRect())||{left:0,top:0},{x:h,y:d}=e.getSourceClientOffset(),g=i?oa(i.svg.node()):{x:0,y:0,k:1},m=(h-l-g.x)/g.k,p=(d-c-g.y)/g.k,b=Mt(J({},t),{id:Qi(),width:t.width||50,height:t.height||50,x:m,y:p}),E=[...a],k=Qa(E,Mt(J({},b),{relativeX:m,relativeY:p}));if(k){const{relativeX:w,relativeY:O}=On(E,(k==null?void 0:k.id)||Qi())||{relativeX:0,relativeY:0};k.children=(k.children||[]).concat(Mt(J({},b),{x:((b==null?void 0:b.x)||0)-(w||0),y:((b==null?void 0:b.y)||0)-(O||0)}))}else E.push(b);return delete b.component,delete b.type,{newNodes:E,newNode:b}}function rS(t){const{state:e,setNodes:n}=le(c=>c),{nodes:i=[],svgInfo:a,uniqId:s}=e,[,l]=ay({accept:`${wh}-${s}`,drop:(c,h)=>{const{newNodes:d}=nS({item:c,monitor:h,svgRef:t,svgInfo:a,nodes:i});n(d)}});return l(t),null}function iS(t){const{nodes:e=[],edges:n=[]}=t,[i,a]=(0,S.useState)(!1),{updateNodesAndEdges:s,setState:l}=le(c=>c);return(0,S.useEffect)(()=>{const d=t,{restChilds:c}=d,h=$r(d,["restChilds"]);l(h)},[t]),(0,S.useEffect)(()=>{const c=X.cloneDeep(e||[]),h=Ch(c,X.cloneDeep(n||[]));a(!0),s(c,h,i?"patch":"all")},[e,n]),null}const wi=t=>({id:"flow-id",x:0,y:0,width:130,height:35,shape:`flow-${t}`}),xi=({color:t,y:e,label:n})=>q.jsx("text",{x:"50%",y:e||"51%",textAnchor:"middle",dominantBaseline:"middle",fill:t||"white",fontSize:"13",fontWeight:"600",letterSpacing:"0em",children:n}),Ng=[{shape:"flow-start",label:"Start",nodeInfo:wi("start"),component:({width:t,height:e,label:n})=>q.jsxs("svg",{width:t,height:e,viewBox:`0 0 ${t} ${e}`,fill:"none",children:[q.jsx("rect",{width:t,height:e,rx:e/2,fill:"#3A3D87"}),q.jsx(xi,{label:n})]})},{shape:"flow-process",label:"Process",nodeInfo:wi("process"),component:({width:t,height:e,label:n})=>q.jsxs("svg",{width:t+2,height:e+3,viewBox:`0 0 ${t} ${e}`,fill:"none",children:[q.jsx("rect",{x:1.5,y:0,width:t-3,height:e,rx:"6",fill:"#DB9730",fillOpacity:"0.2"}),q.jsx("rect",{x:1.5,y:0,width:t-3,height:e,rx:"6",stroke:"#DB9730",strokeWidth:"2"}),q.jsx(xi,{label:n,color:"#DB9730"})]})},{shape:"flow-condition",label:"Condition",nodeInfo:wi("condition"),component:({width:t,height:e,label:n})=>{const i=e*1.3,a=t/350,s=i/188;return q.jsxs("svg",{width:t,height:i,viewBox:`0 0 ${t} ${i-2}`,fill:"none",children:[q.jsx("path",{d:`M${172.231*a} ${1.75346*s}L${10.2412*a} ${85.9881*s}C${5.93029*a} ${88.2297*s} ${5.93029*a} ${94.3972*s} ${10.2412*a} ${96.6389*s}L${172.231*a} ${180.873*s}C${173.967*a} ${181.776*s} ${176.033*a} ${181.776*s} ${177.769*a} ${180.873*s}L${339.759*a} ${96.6389*s}C${344.07*a} ${94.3972*s} ${344.07*a} ${88.2297*s} ${339.759*a} ${85.9881*s}L${177.769*a} ${1.75347*s}C${176.033*a} ${.850845*s} ${173.967*a} ${.850838*s} ${172.231*a} ${1.75346*s}Z`,fill:"#888DFF",fillOpacity:"0.2",stroke:"#888DFF",strokeWidth:2}),q.jsx(xi,{label:n,color:"#888DFF"})]})}},{shape:"flow-database",label:"Database",nodeInfo:wi("database"),component:({width:t,height:e,label:n})=>{const i=e*1.3,a=t/234,s=i/148;return q.jsxs("svg",{width:t,height:i,viewBox:`0 0 ${t} ${i-2}`,fill:"none",children:[q.jsx("path",{d:`M${1.50226*a} ${30.5377*s}C${1.50226*a} ${14.3976*s} ${53.2129*a} ${1.31348*s} ${117.001*a} ${1.31348*s}C${180.789*a} ${1.31348*s} ${232.5*a} ${14.3976*s} ${232.5*a} ${30.5377*s}V${112.089*s}C${232.5*a} ${128.229*s} ${180.789*a} ${141.313*s} ${117.001*a} ${141.313*s}C${53.2129*a} ${141.313*s} ${1.50226*a} ${128.229*s} ${1.50226*a} ${112.089*s}V${30.8006*s}C${1.4994*a} ${30.7101*s} ${1.4991*a} ${30.6214*s} ${1.50226*a} ${30.5377*s}Z`,fill:"#E5C105",fillOpacity:"0.18"}),q.jsx("path",{d:`M${232.5*a} ${30.5377*s}C${232.5*a} ${46.6777*s} ${180.789*a} ${59.7619*s} ${117.001*a} ${59.7619*s}C${54.9297*a} ${59.7619*s} ${4.29455*a} ${47.3726*s} ${1.61386*a} ${31.834*s}C${1.56953*a} ${31.5913*s} ${1.48515*a} ${30.9921*s} ${1.50226*a} ${30.5377*s}M${232.5*a} ${30.5377*s}C${232.5*a} ${14.3976*s} ${180.789*a} ${1.31348*s} ${117.001*a} ${1.31348*s}C${53.2129*a} ${1.31348*s} ${1.50226*a} ${14.3976*s} ${1.50226*a} ${30.5377*s}M${232.5*a} ${30.5377*s}V${112.089*s}C${232.5*a} ${128.229*s} ${180.789*a} ${141.313*s} ${117.001*a} ${141.313*s}C${53.2129*a} ${141.313*s} ${1.50226*a} ${128.229*s} ${1.50226*a} ${112.089*s}V${30.5377*s}`,stroke:"#E5C105",strokeWidth:"2"}),q.jsx(xi,{label:n,color:"#E5C105",y:"70%"})]})}},{shape:"flow-exegesis",label:"Exegesis",nodeInfo:wi("exegesis"),component:({width:t,height:e,label:n})=>q.jsxs("svg",{width:t+2,height:e+3,viewBox:`0 0 ${t} ${e}`,fill:"none",children:[q.jsx("rect",{x:1.5,y:0,width:t-3,height:e,rx:"6",fill:"#30C687",fillOpacity:"0.2"}),q.jsx("rect",{x:1.5,y:0,width:t-3,height:e,rx:"6",stroke:"#30C687",strokeWidth:"2",strokeDasharray:"8 2"}),q.jsx(xi,{label:n,color:"#30C687"})]})},{shape:"flow-decision",label:"Decision",nodeInfo:wi("decision"),component:({width:t,height:e,label:n})=>{const i=t/350,a=e/104;return q.jsxs("svg",{width:t,height:e,viewBox:`0 0 ${t} ${e}`,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[q.jsx("path",{d:`M${41.2019*i} ${5.45596*a}L${3.57566*i} ${93.4512*a}C${1.88229*i} ${97.4114*a} ${4.7876*i} ${101.813*a} ${9.09467*i} ${101.813*a}H${303.279*i}C${305.682*i} ${101.813*a} ${307.853*i} ${100.38*a} ${308.798*i} ${98.171*a}L${346.424*i} ${10.1758*a}C${348.118*i} ${6.21554*a} ${345.212*i} ${1.81348*a} ${340.905*i} ${1.81348*a}H${46.7209*i}C${44.318*i} ${1.81348*a} ${42.1466*i} ${3.24655*a} ${41.2019*i} ${5.45596*a}Z`,fill:"#3A3D87",fillOpacity:"0.2",stroke:"#3A3D87",strokeWidth:"2"}),q.jsx(xi,{label:n,color:"#3A3D87"})]})}},{shape:"flow-end",label:"End",nodeInfo:wi("end"),component:({width:t,height:e,label:n})=>q.jsxs("svg",{width:t,height:e,viewBox:`0 0 ${t} ${e}`,fill:"none",children:[q.jsx("rect",{width:t,height:e,rx:e/2,fill:"#1CB273"}),q.jsx(xi,{label:n})]})}];function oS({props:t,ref:e,dragDisabled:n}){const{state:i,setNodes:a,updateNodesAndEdges:s}=le(G=>G),{svgInfo:l,nodes:c=[],edges:h=[],copyNodeDisabled:d,selectedNodes:g}=i;let m=null,p=[];const b=12,E=sl(c||[],t.data);function k(G,tt,rt,Y){const C=X.includes(["top","bottom"],rt),j=C?"relativeY":"relativeX",N=C?"height":"width",F=X.minBy(G,U=>{const K=Math.abs(((U==null?void 0:U[j])||0)-Y),et=Math.abs(((U==null?void 0:U[j])||0)+U[N]-Y);return tt.id===U.id?99999:X.minBy([K,et])}),B=Math.abs(((F==null?void 0:F[j])||0)-Y),Q=Math.abs(((F==null?void 0:F[j])||0)+((F==null?void 0:F[N])||0)-Y);return B<Q&&B<b?{sourceDirect:rt,targetDirect:C?"top":"left",node:F,gap:B}:Q<b?{sourceDirect:rt,targetDirect:C?"bottom":"right",node:F,gap:Q}:null}const w=(G,tt,rt)=>{let Y=0;return G.replace(_h,C=>(Y+=1,Y===tt?`${rt}`:C))},O=X.debounce((G,tt,rt,Y)=>{if(!(l!=null&&l.svg.classed("draging-node")))return;const C=X.sortBy(X.compact([k(Y,G,"top",rt),k(Y,G,"bottom",rt+G.height),k(Y,G,"left",tt),k(Y,G,"right",tt+G.width)]),U=>U.gap).slice(0,2);let j=l==null?void 0:l.dragingNode.attr("transform");const N={x:1,y:2},F=X.map(C,U=>{var K,et,it,at;let st=null;const gt=((K=U==null?void 0:U.node)==null?void 0:K.width)||0,mt=((et=U==null?void 0:U.node)==null?void 0:et.height)||0,ct=((it=U==null?void 0:U.node)==null?void 0:it.relativeX)||0,yt=((at=U==null?void 0:U.node)==null?void 0:at.relativeY)||0;switch(U.sourceDirect){case"top":U.targetDirect==="top"?(st=`M ${ct+gt/2} ${yt} L ${tt} ${yt}`,j=w(j,N.y,yt)):(st=`M ${ct+gt/2} ${yt+mt} L ${tt} ${yt+mt}`,j=w(j,N.y,yt+mt));break;case"left":U.targetDirect==="left"?(st=`M ${ct} ${yt+mt/2} L ${ct} ${rt}`,j=w(j,N.x,ct)):(st=`M ${ct+gt} ${yt+mt/2} L ${ct+gt} ${rt}`,j=w(j,N.x,ct+gt));break;case"right":U.targetDirect==="left"?(st=`M ${ct} ${yt+mt/2} L ${ct} ${rt}`,j=w(j,N.x,ct-G.width)):(st=`M ${ct+gt} ${yt+mt/2} L ${ct+gt} ${rt}`,j=w(j,N.x,ct+gt-G.width));break;default:U.targetDirect==="top"?(st=`M ${ct+gt/2} ${yt} L ${tt} ${yt}`,j=w(j,N.y,yt-G.height)):(st=`M ${ct+gt/2} ${yt+mt} L ${tt} ${yt+mt}`,j=w(j,N.y,yt+mt-G.height));break}return st});m=l==null?void 0:l.svgZoomArea.selectAll("path.drag-align").data(F).attr("d",U=>U),p=m.enter().append("path").classed("drag-align",!0).attr("d",U=>U).attr("stroke","#00ff00").attr("fill","node").attr("stroke-width","1px");const[B,Q]=j.match(_h);l==null||l.dragingNode.attr("transform",j),l==null||l.dragingNode.datum({translateX:Math.round(B),translateY:Math.round(Q)}),m.exit().remove()},100);function I(G,tt,rt){const Y=G.length>1&&X.some(G,C=>C.id===t.data.id);if(rt!=="ctrl"&&Y){const C="multi-draging-node";return l==null?void 0:l.auxiliary.selectAll(`.${C}`).data(X.map(G,j=>(j.absRotateDeg=sl(tt,j),j))).enter().append("rect").classed([C],!0)}return null}function A(G,tt,rt){G.datum(Y=>{let C=rt.x-tt[(Y==null?void 0:Y.id)||""].relativeOffsetX,j=rt.y-tt[(Y==null?void 0:Y.id)||""].relativeOffsetY;return Y.expand===!1&&(C=C+(Y.width-Ln)/2,j=j+(Y.height-Mn)/2),Y.translateX=C,Y.translateY=j,Y}).attr("width",Y=>Y.expand===!1?Ln:Y.width).attr("height",Y=>Y.expand===!1?Mn:Y.height).attr("transform",Y=>{const C=Y.expand===!1?`rotate(${Y.absRotateDeg} ${Ln/2} ${Mn/2})`:`rotate(${Y.absRotateDeg}, ${Y.width/2}, ${Y.height/2})`,j=`translate(${Y.translateX} ${Y.translateY})`;return Y.absRotateDeg?`${j} ${C}`:j})}function _(G,tt=0,rt=0,Y){var C;m&&m.remove(),p&&((C=p==null?void 0:p.remove)==null||C.call(p)),t.data.expand===!1?l==null||l.dragingNode.datum({translateX:tt+(t.data.width-Ln)/2,translateY:rt+(t.data.height-Mn)/2}).attr("width",Ln).attr("height",Mn).attr("transform",j=>{const N=`translate(${j.translateX} ${j.translateY})`;return E?`${N} rotate(${E} ${Ln/2} ${Mn/2})`:N}):(l==null||l.dragingNode.datum({translateX:tt,translateY:rt}).attr("width",t.data.width).attr("height",t.data.height).attr("transform",j=>{const N=`translate(${j.translateX} ${j.translateY})`;return E?`${N} rotate(${E} ${t.data.width/2} ${t.data.height/2})`:N}),!E&&!X.isEmpty(Y)&&O(G,tt,rt,Y))}function L(G){return X.isEmpty(G)?G:X.map(G,tt=>Mt(J({},tt),{id:Qi(),children:L(tt.children||[])}))}function P(G){return Mt(J({},G),{id:Qi(),x:G.relativeX,y:G.relativeY,children:L((G==null?void 0:G.children)||[])})}function M({chain:G,eventX:tt,eventY:rt,nodes:Y,edges:C,isMultipleMove:j,type:N}){let F=[...Y];const B=G.slice(0,-1),Q=J({},X.last(G));Q.x=tt,Q.y=rt;const{x:U,y:K}=X.reduce(B,(it,at)=>({x:it.x+((at==null?void 0:at.x)||0),y:it.y+((at==null?void 0:at.y)||0)}),{x:0,y:0});if(Q.relativeX=tt+U,Q.relativeY=rt+K,!j&&N==="shift"&&!d){const it=P(Q),at=Qa(Y,it);return at?(F=hi(Y,at.id,st=>{const{relativeX:gt,relativeY:mt}=On(Y,(st==null?void 0:st.id)||"")||{relativeX:0,relativeY:0};return st.children=(st.children||[]).concat(Mt(J({},it),{x:((Q==null?void 0:Q.relativeX)||0)-(gt||0),y:((Q==null?void 0:Q.relativeY)||0)-(mt||0)})),st}),a(F)):a(Y.concat(it)),[F,C]}F=Sh({nodes:F,node:J({},Q),chain:G});const et=Jy(Q,F,C);return[F,et]}function nt({type:G,eventX:tt,eventY:rt,chain:Y}){var C;m&&m.remove(),p&&((C=p==null?void 0:p.remove)==null||C.call(p));const j=Y.length>1;function N(){const K=l==null?void 0:l.dragingNode.datum();if(K){const{translateX:et}=K;return t.data.expand===!1?et-(t.data.width-Ln)/2:et}}function F(){const K=l==null?void 0:l.dragingNode.datum();if(K){const{translateY:et}=K;return t.data.expand===!1?et-(t.data.height-Mn)/2:et}}l==null||l.dragingNode.attr("x",0).attr("y",0).attr("width",0).attr("height",0);const B=j?tt:N(),Q=j?rt:F();if(!B||!Q)return;const U=M({chain:Y,nodes:c,edges:h,eventX:B,eventY:Q,type:G});if(U){const[K,et]=U;s(K,et,"patch")}}function ft(G,tt,rt){const Y=G.data();let C=[...c],j=[...h];function N(B){const Q=B.translateX||0;return B.expand===!1?Q-(B.width-Ln)/2:Q}function F(B){const Q=B.translateY||0;return B.expand===!1?Q-(B.height-Mn)/2:Q}X.map(Y,B=>{const Q=jr(C,B.id),U=Q.length>1,K=U?rt.x-tt[B.id].offsetX:N(B),et=U?rt.y-tt[B.id].offsetY:F(B);delete B.translateX,delete B.translateY;const it=M({chain:Q,eventX:K,eventY:et,nodes:C,edges:j,isMultipleMove:Y&&Y.length>1,type:rt.type});it&&([C,j]=it)}),G.remove(),s(C,j,"patch")}(0,S.useEffect)(()=>{let G=0,tt=0,rt=0,Y=0,C=!1,j=!1;const N={};let F=null;if(e.current){F=me(e.current);let B=!1,Q=[],U=null,K=[],et=[];n?F.on(".drag",null):F.call(Ko().on("start",it=>{C=!1,l==null||l.svg.classed("draging-node",!0),Q=t1(g||[],c||[]),j=I(Q,c||[],it.type),j?X.map(Q,at=>{const st=On(c||[],(at==null?void 0:at.id)||""),gt=it.x-((st==null?void 0:st.relativeX)||0),mt=it.y-((st==null?void 0:st.relativeY)||0),ct=it.x-((st==null?void 0:st.x)||0),yt=it.y-((st==null?void 0:st.y)||0);N[(at==null?void 0:at.id)||""]={relativeOffsetX:gt,relativeOffsetY:mt,offsetX:ct,offsetY:yt}}):(U=On(c||[],t.data.id)||null,G=it.x-((U==null?void 0:U.relativeX)||0),tt=it.y-((U==null?void 0:U.relativeY)||0),rt=it.x-((U==null?void 0:U.x)||0),Y=it.y-((U==null?void 0:U.y)||0))}).on("drag",it=>{B?(C=!0,j?A(j,N,it):_(U,it.x-G,it.y-tt,et)):(!d&&(l==null||l.svg.classed("draging-node-copy",it.type==="shift")),et=K.length>1?K[K.length-2].children:c,et=X.map(et,at=>On(c||[],(at==null?void 0:at.id)||"")).filter(at=>((at==null?void 0:at.id)||"")!==t.data.id&&!(at!=null&&at.rotateDeg)),B=!0)}).on("end",it=>{B=!1,l==null||l.svg.classed("draging-node",!1),l==null||l.svg.classed("draging-node-copy",!1),C&&(j?ft(j,N,it):nt({type:it.type,eventX:it.x-rt,eventY:it.y-Y,chain:K}))}).container(function(){var it;let at=(it=this==null?void 0:this.parentNode)==null?void 0:it.parentNode;return K=jr(c||[],t.data.id),(E||t.data.rotateDeg)&&(at=X.reduce(K,st=>{var gt;return(gt=st==null?void 0:st.parentNode)==null?void 0:gt.parentNode},this)),at==null?void 0:at.parentNode}))}return()=>{F&&F.on(".drag",null)}})}const $g=(t,e)=>`linking-target~@~${t.id}~|~${e}`,aS=t=>{const e=(0,S.useRef)(null),{state:n,insertEdge:i}=le(E=>E),{node:a,disabled:s}=t,{svgInfo:l,nodes:c}=n,{width:h,height:d,x:g,y:m,rotateDeg:p}=a,b=[{x:h/2,y:0,direct:Vt.TOP},{x:h,y:d/2,direct:Vt.RIGHT},{x:h/2,y:d,direct:Vt.BOTTOM},{x:0,y:d/2,direct:Vt.LEFT}];return(0,S.useEffect)(()=>{var E;const k=me(e.current),w=k.selectAll(".connect-anchors-pointer").data(b),O=me((E=e==null?void 0:e.current)==null?void 0:E.parentNode);let I=!1,A=!1,_=0,L=0,P=0,M=0,nt=null,ft=0,G=null;function tt(K){var et;(et=l==null?void 0:l.svg)==null||et.classed("linking",K),O.classed("linking-source-node",K),k.classed("connect-anchors-source",K)}function rt(K,et,it,at){const[st,gt]=[0,4],mt=it-K,ct=at-it,yt=Math.sqrt(mt*mt+ct*ct),ce=mt/yt,Gt=ct/yt,De=K+st*ce,Ge=et+st*Gt,jt=it-gt*ce,ee=at-gt*Gt;return`M ${De},${Ge} L ${jt},${ee}`}function Y(){const[K,et,it,at]=[((nt==null?void 0:nt.relativeX)||0)+_,((nt==null?void 0:nt.relativeY)||0)+L,((nt==null?void 0:nt.relativeX)||0)+P,((nt==null?void 0:nt.relativeY)||0)+M],st=rt(K,et,it,at);l==null||l.newLine.attr("d",st)}function C(K){_=0,L=0,P=0,M=0,nt=null,A=!1,I=!1,l==null||l.newLine.attr("d","M 0 0").attr("opacity",0),G=G||me(K),G.empty()||G.classed("connect-anchors-pointer-source",!1)}function j(K){const{edgeProps:{defaultNewEdgeStyle:et}={defaultNewEdgeStyle:{}}}=n,it=l==null?void 0:l.svg.attr("class").split(" "),at=X.find(it,st=>X.includes(st,"linking-target"));if(at){const[,st]=at.split("~@~"),[gt,mt]=st.split("~|~"),ct=Mt(J({},X.mergeWith({},et,{label:"new link",type:Pr.STRAIGHT},(yt,ce)=>yt||ce)),{id:Qi(),source:a.id,sourceDirection:K.direct,target:gt,targetDirection:mt});i(ct)}}const N=(K,et)=>ft?zn({node:a,deg:ft,coord:{x:K-a.width/2,y:et-a.height/2}}):{x:K,y:et},F=K=>{if(A){if(tt(!0),G=me(K),G.empty())return;G.classed("connect-anchors-pointer-source",!0),I=!0,l==null||l.newLine.attr("opacity",1).attr("marker-end","url(#arrow)"),nt=On(c||[],(a==null?void 0:a.id)||""),ft=sl(c||[],a);const et=N(_,L);_=et.x,L=et.y}};function B(K){const et=N(K.x,K.y);P=et.x,M=et.y,Y()}function Q(K,et){tt(!1),j(et),C(K)}const U=Ko().on("start",K=>{A=!1,_=K.x,L=K.y,I=!1}).on("drag",function(K){A=!0,I?B(K):F(this)}).on("end",function(K,et){A&&Q(this,et)});return s?w.on(".drag",null):w.call(U),w.on("mouseenter",(K,et)=>{var it,at;(it=l==null?void 0:l.svg)!=null&&it.classed("linking")&&((at=l==null?void 0:l.svg)==null||at.classed($g(a,et.direct),!0))}).on("mouseleave",(K,et)=>{var it;(it=l==null?void 0:l.svg)==null||it.classed($g(a,et.direct),!1)}),()=>{!w.empty()&&w.on(".drag",null)}},[e.current,g,m,h,d,p]),q.jsx("g",{ref:e,className:"connect-anchors",children:X.map(b,({x:E,y:k},w)=>q.jsxs("g",{className:"connect-anchors-pointer",transform:`translate(${E}, ${k})`,children:[q.jsx("circle",{className:"outside",r:9}),q.jsx("circle",{className:"surround",r:8}),q.jsx("circle",{className:"core",r:4})]},w+E+k))})},Xr=20,sS=({node:t,disabled:e})=>{const n=(0,S.useRef)(null),{state:i,resizeNode:a}=le(d=>d),s=[{x:0,y:0,cursor:"nwse-resize",resize(d,g){const{relativeX:m=0,relativeY:p=0,width:b,height:E}=g;return{x:d.x>b?m+b:m+d.x,y:d.y>E?p+E:p+d.y,width:Math.abs(b-d.x),height:Math.abs(E-d.y)}}},{x:(t==null?void 0:t.width)||0,y:0,cursor:"nesw-resize",resize(d,g){const{relativeX:m=0,relativeY:p=0,height:b}=g;return{x:d.x>0?m:m+d.x,y:d.y<b?p+d.y:p+b,width:Math.abs(d.x),height:Math.abs(b-d.y)}}},{x:0,y:(t==null?void 0:t.height)||0,cursor:"nesw-resize",resize(d,g){const{relativeX:m=0,relativeY:p=0,width:b}=g;return{x:d.x<b?m+d.x:m+b,y:d.y>0?p:p+d.y,width:Math.abs(b-d.x),height:Math.abs(d.y)}}},{x:(t==null?void 0:t.width)||0,y:(t==null?void 0:t.height)||0,cursor:"nwse-resize",resize(d,g){const{relativeX:m=0,relativeY:p=0}=g;return{x:d.x>0?m:m+d.x,y:d.y>0?p:p+d.y,width:Math.abs(d.x),height:Math.abs(d.y)}}}];function l(d){a(t,d)}function c({currentNode:d,rect:g,restrict:m}){const{maxWidth:p,maxHeight:b,minWidth:E,minHeight:k}=m,w=J({},g),O=typeof E=="function"?E(d,g):E;O&&g.width<O&&(w.width=O);const I=typeof k=="function"?k(d,g):k;I&&g.height<I&&(w.height=I);const A=typeof p=="function"?p(d,g):p;A&&g.width>A&&(w.width=A);const _=typeof b=="function"?b(d,g):b;return _&&g.height>_&&(w.height=_),w}function h(d){return d&&X.isNumber(d.x)&&X.isNumber(d.y)&&X.isNumber(d.width)&&X.isNumber(d.height)}return(0,S.useEffect)(()=>{const{nodes:d,svgInfo:g,nodeProps:m}=i;if(e||!g)return;const p=X.pick(m||{},["maxWidth","maxHeight","minWidth","minHeight"]),b=me(n.current).selectAll("rect.bg").data(s);let E=!1,k,w,O={x:0,y:0,width:0,height:0};const{resizeWrap:I,svg:A}=g;return b.call(Ko().on("start",()=>{E=!1,O={x:0,y:0,width:0,height:0},I.attr("opacity",1),A.classed("resizing-node",!0),k=A.style("cursor"),A.style("cursor","crosshair"),w=On(d||[],(t==null?void 0:t.id)||"")||{width:0,height:0,x:0,y:0}}).on("drag",(_,L)=>{E=!0,O=L.resize(_,w),O=c({currentNode:w,rect:O,restrict:p}),I.attr("d",`M ${O.x} ${O.y} h ${O.width} v ${O.height} H ${O.x} Z`),t!=null&&t.rotateDeg&&g.resizeWrap.attr("transform",`rotate(${t.rotateDeg} ${((w==null?void 0:w.relativeX)||0)+t.width/2} ${((w==null?void 0:w.relativeY)||0)+t.height/2})`)}).on("end",()=>{if(E){if(I.attr("d","M 0 0").attr("opacity",0).attr("transform",""),A.classed("resizing-node",!1),A.style("cursor",k),t!=null&&t.rotateDeg){const _=O.x+O.width/2,L=O.y+O.height/2,P=((w==null?void 0:w.relativeX)||0)+((w==null?void 0:w.width)||0)/2,M=((w==null?void 0:w.relativeY)||0)+((w==null?void 0:w.height)||0)/2,nt=_-P,ft=L-M,G=zn({node:t,deg:t.rotateDeg,coord:{x:nt,y:ft}}),tt=((w==null?void 0:w.relativeX)||0)+G.x,rt=((w==null?void 0:w.relativeY)||0)+G.y,Y=tt-_,C=rt-L;O.x+=Y,O.y+=C}if(O.x=((w==null?void 0:w.x)||0)-(((w==null?void 0:w.relativeX)||0)-O.x),O.y=((w==null?void 0:w.y)||0)-(((w==null?void 0:w.relativeY)||0)-O.y),m!=null&&m.beforeResize&&typeof m.beforeResize=="function"){const _=m.beforeResize(w,O);_&&(h(_)?l(_):l(O))}else l(O)}})),()=>{b.on(".drag",null)}}),q.jsx("g",{className:ue("resize-anchors",{"resize-anchors-disabled":e}),ref:n,children:X.map(s,({x:d,y:g,cursor:m},p)=>q.jsxs(S.Fragment,{children:[q.jsx("rect",{className:ue("ft",{"middle-resize":m.length<11}),x:d-Xr/4,y:g-Xr/4,width:Xr/2,height:Xr/2,style:{cursor:m}}),q.jsx("rect",{className:ue("bg",{"middle-resize":m.length<11}),x:d-Xr/2,y:g-Xr/2,width:Xr,height:Xr,style:{cursor:m}})]},d+g+p))})},uS=t=>{const e=(0,S.useRef)(null),n=t==null?void 0:t.data,{connectDisabled:i,resizeDisabled:a,rotateDisabled:s,dragDisabled:l}=n||{},{state:c,setSelectedNodes:h}=le(O=>O),{selectedNodes:d=[],nodes:g=[],nodeProps:m}=c,p=X.some(d,O=>O.id===(n==null?void 0:n.id));let b=!1;function E(){const O=[...d],I=X.findIndex(O,A=>A.id===(n==null?void 0:n.id));I>-1?O.splice(I,1):n&&O.push(n),h(O)}const k=X.debounce(O=>{if(O.ctrlKey)E();else if(!b){const I=On(g,(n==null?void 0:n.id)||""),A=I==null?void 0:I.onClick;if(typeof A=="function")return A(n,c);n&&h([n])}b=!1},200),w=O=>{O.persist(),k(O)};return oS({props:t,nodeProps:m,ref:e,dragDisabled:l}),q.jsx("g",{className:ue("node",n==null?void 0:n.className,{"node-selected":p}),transform:Ky(n),children:q.jsxs("g",{className:ue("node-shape",{"node-shape-connect-disabled":i,"node-shape-resize-disabled":a,"node-shape-rotate-disabled":s}),onClick:w,children:[q.jsx("rect",{x:"0",y:"0",className:"node-shape-bg",width:n==null?void 0:n.width,height:n==null?void 0:n.height}),q.jsx("g",{ref:e,children:t.children}),q.jsx(sS,{node:t.data,disabled:a}),q.jsx(aS,{node:n,disabled:i||!1})]})})},lS=({data:t,shapes:e})=>{function n(a){const d=a||{},{fillColor:s,strokeColor:l}=d,c=$r(d,["fillColor","strokeColor"]),h=J({fill:s,stroke:l},c);return X.mergeWith({},h,(g,m)=>g||m)}const i=a=>{var s;const l=[...Ng,...e],c=X.find(l,h=>h.shape===a.shape);if(c){const h=n((a==null?void 0:a.style)||c.style),d=Mt(J({},a),{style:h});return q.jsx(uS,{shapes:e,data:d,children:(s=c==null?void 0:c.component)==null?void 0:s.call(c,d)},a.id)}};return q.jsx("g",{className:"nodes-container",children:X.map(t,i)})},cS=(0,S.forwardRef)((t,e)=>{const{state:n}=le(s=>s),{uniqId:i}=n,a=[{key:"resizeWrap",className:"resize-rect",component:q.jsx("path",{})},{key:"newLine",className:"new-line",component:q.jsx("path",{stroke:"#7bed9f",strokeDasharray:"4,4",fill:"none",strokeWidth:"2",style:{pointerEvents:"none"}})},{key:"newDragLine",className:"new-drag-line",component:q.jsx("path",{strokeDasharray:"5,5",fill:"none",strokeWidth:"2"})},{key:"dragingNode",className:"draging-node",component:q.jsx("rect",{})}];return q.jsx("g",{ref:e,className:"auxiliary",children:X.map(a,({key:s,component:l,className:c})=>S.cloneElement(l,{key:s,className:c,id:`${c}-${i}`,"data-svg-key":s}))})});function fS(t,e){const{state:n}=le(m=>m),{edgeProps:i}=n,{label:a,centerX:s,centerY:l,pathD:c}=e,h=X.mergeWith({},e.labelProps,i==null?void 0:i.labelProps,(m,p)=>m||p),d=X.mergeWith({},e.style,i==null?void 0:i.style,(m,p)=>m||p),g=m=>{let p=0,b=20;for(;p<al;){const E=a==null?void 0:a.slice(0,al/b--);m.text(`${E}...`),p=m.node().getBBox().width}};(0,S.useLayoutEffect)(()=>{const m=me(t.current),p=m.selectAll("rect"),b=m.select("text"),E=h==null?void 0:h.padding,k=h.paddingHorizon||E||12,w=h.paddingVertical||E||4,O=b.node();if(O){let I=O.getBBox();typeof a=="string"&&I.width>al&&(g(b),I=O.getBBox()),p.attr("y",I.y-w/2),p.attr("x",I.x-k/2),p.attr("width",I.width+k),p.attr("height",I.height+w);const A={x:s,y:0};(e==null?void 0:e.type)==="broken"||(e==null?void 0:e.type)==="broken-rounded"?A.y=l+I.height/2+I.y/4:A.y=l+4,m.attr("transform",`translate(${A.x}, ${A.y})`)}},[name,c,s,l,e.type,d])}function hS(t,e){return q.jsxs("defs",{children:[q.jsx("marker",{id:t,markerWidth:"12",markerHeight:"12",refX:"8.5",refY:"6",orient:"auto",children:q.jsx("path",{d:"M6,4 L9,6 L6,8 L6,4",fill:e})}),q.jsx("marker",{id:`DOUBLE-${t}`,markerWidth:"12",markerHeight:"12",refX:"8.5",refY:"6",orient:"auto",children:q.jsx("path",{d:"M11,4 L8,6 L11,8 L11,4",fill:e})})]})}const dS=t=>{const e=(0,S.useRef)(null),{data:n}=t,{label:i,centerX:a,centerY:s,pathD:l,className:c,labelProps:h}=n,{state:d}=le(A=>A),{uniqId:g,selectedEdges:m,edgeProps:p}=d,b=X.some(m,A=>A.id===n.id),E=X.mergeWith({},n.style,p==null?void 0:p.style,(A,_)=>A||_),k=`arrow-${n.id}`,w=E.strokeColor||E.stroke;fS(e,n);const O=A=>X.reduce(X.keys(A),(_,L)=>{const P=A[L];return typeof P=="function"&&(_[L]=M=>{var nt,ft;if(M.preventDefault(),M.stopPropagation(),L==="onContextMenu"){const G=(ft=(nt=e.current)==null?void 0:nt.getBoundingClientRect)==null?void 0:ft.call(nt);P({edge:n,state:d,options:{event,labelBoundingrect:G}})}else P({edge:n,state:d,event})}),_},{}),I=(A,_,L="")=>{const{arrowType:P}=_;let M=null;P&&P==="DOUBLE_ARROW"&&(M=`DOUBLE-${A}`);const nt=A||"arrow",ft=O(X.pick(h,["onClick","onContextMenu","onMouseEnter","onMouseLeave"])),st=E,{textColor:G,fontSize:tt,fillColor:rt,strokeColor:Y}=st,C=$r(st,["textColor","fontSize","fillColor","strokeColor"]),gt=h||{},{textColor:j,fontSize:N,fill:F}=gt,B=$r(gt,["textColor","fontSize","fill"]),Q=l&&i;C.stroke=Y||C.stroke,C.fill=rt||C.fill;const U=q.jsxs("g",Mt(J({ref:e,className:"title"},ft),{transform:h==null?void 0:h.transform,children:[q.jsx("rect",J({className:"back",fill:L||F||"#8586a3",rx:4,ry:4},X.pick(B,["stroke","strokeWidth","rx","ry"]))),q.jsx("text",{textAnchor:"middle",fill:j||G||"white",fontSize:N||tt||12,children:i}),q.jsx("title",{children:i})]})),K=q.jsxs(S.Fragment,{children:[q.jsx("path",{className:"bg",d:l,filter:"url(#highlight-edge-blur)"}),q.jsx("path",J({className:"ft",d:l,strokeWidth:2,stroke:(C==null?void 0:C.stroke)||"#A1A2BB",fill:(C==null?void 0:C.fill)||"transparent",markerEnd:`url(#${nt})`,markerStart:M?`url(#${M})`:""},X.pick(C,["strokeWidth","strokeDasharray"]))),Q?U:null]}),et=[Mt(J({},_),{pathD:l,centerX:a,centerY:s,style:E,markerEnd:nt,markerStart:M}),d],it=p==null?void 0:p.renderEdge,at=p==null?void 0:p.renderEdgeBase;return typeof it=="function"?it(et):typeof at=="function"?at(K,et):K};return q.jsxs("g",{id:`${n.id}-${g}`,className:ue("edge",c,{"edge-selected":b}),children:[k&&hS(k,w),I(k,n,w)]})},gS=S.memo(({data:t})=>{const e=t.filter(n=>n.pathD);return q.jsx("g",{className:"edges-container",children:e.map(n=>q.jsx(dS,{data:n},n==null?void 0:n.id))})});function pS(){return q.jsxs("g",{className:"marquee-wrap",children:[q.jsx("path",{className:"marquee-select"}),q.jsx("path",{className:"marquee-select-copy"})]})}const vS=(0,S.forwardRef)((t,e)=>{const n=(0,S.useRef)(null),i=(0,S.useRef)(null),a=le(m=>m),{shapes:s=[],hideGrid:l,className:c}=t,{nodes:h,edges:d}=a.state,g=T1(n);return(0,S.useEffect)(()=>{a.setCanvasSize(g)},[g]),tS(n,i,t),rS(n),iS(t),(0,S.useImperativeHandle)(e,()=>a),q.jsxs("svg",{ref:n,className:ue(c,"fiagram-canvas",{hideGrid:l}),style:J({},t.canvasStyle),children:[q.jsxs("g",{className:"zoom-area",children:[q.jsx(lS,{data:h||[],shapes:s}),q.jsx(gS,{data:d||[]}),q.jsx(cS,{ref:i})]}),q.jsx(pS,{})]})}),mS=()=>{const{t}=Mr(),e=[{key:"1",title:t("translation:horizonAlign"),icon:"icon-vertically-centered"},{key:"2",title:t("translation:horizonCenter"),icon:"icon-distributions-centered"},{key:"3",title:t("translation:horizonLayout"),icon:"icon-horizontal-centered"}];return q.jsx(Br,{group:e,trigger:"hover",placement:"bottom"})};function Ps(t,e){const n={x:-t.width/2,y:-t.height/2},i={x:t.width/2,y:-t.height/2},a={x:-t.width/2,y:t.height/2},s={x:t.width/2,y:t.height/2};return X.map([n,i,a,s],l=>zn({node:t,deg:e,coord:l}))}function yS(t,e){if(!t)return{x:0,y:0,coord:{x:0,y:0}};const n=(t==null?void 0:t.relativeX)||0,i=(t==null?void 0:t.relativeY)||0;if(!e)return{x:n,y:i,coord:{x:0,y:0}};const a=t.absRotateDeg!==0?"rotated":"notRotate";return{rotated:{[Ut.TOP]:()=>{const s=X.minBy(Ps(t,t.absRotateDeg),"y")||{x:0,y:0};return{x:n+s.x,y:i+s.y,coord:s}},[Ut.LEFT]:()=>{const s=X.minBy(Ps(t,t.absRotateDeg),"x")||{x:0,y:0};return{x:n+s.x,y:i+s.y,coord:s}},[Ut.RIGHT]:()=>{const s=X.maxBy(Ps(t,t.absRotateDeg),"x")||{x:0,y:0};return{x:n+s.x,y:i+s.y,coord:s}},[Ut.BOTTOM]:()=>{const s=X.maxBy(Ps(t,t.absRotateDeg),"y")||{x:0,y:0};return{x:n+s.x,y:i+s.y,coord:s}},[Ut.VERTICAL]:()=>({x:n+t.width/2,y:i+t.height/2,coord:{x:0,y:0}}),[Ut.HORIZON]:()=>({x:n+t.width/2,y:i+t.height/2,coord:{x:0,y:0}})},notRotate:{[Ut.TOP]:()=>({x:n,y:i}),[Ut.LEFT]:()=>({x:n,y:i+t.height}),[Ut.RIGHT]:()=>({x:n+t.width,y:i}),[Ut.BOTTOM]:()=>({x:n+t.width,y:i+t.height}),[Ut.VERTICAL]:()=>({x:n+t.width/2,y:i+t.height/2}),[Ut.HORIZON]:()=>({x:n+t.width/2,y:i+t.height/2})}}[a][e]()}const bS={[Ut.TOP]:t=>X.minBy(t,e=>e.y),[Ut.LEFT]:t=>X.minBy(t,e=>e.x),[Ut.RIGHT]:t=>X.maxBy(t,e=>e.x),[Ut.BOTTOM]:t=>X.maxBy(t,e=>e.y),[Ut.VERTICAL]:t=>{var e,n;const i=((e=X.minBy(t,s=>s.x))==null?void 0:e.x)||0,a=((n=X.maxBy(t,s=>s.x))==null?void 0:n.x)||0;return{x:i+(a-i)/2}},[Ut.HORIZON]:t=>{var e,n;const i=((e=X.minBy(t,s=>s.y))==null?void 0:e.y)||0,a=((n=X.maxBy(t,s=>s.y))==null?void 0:n.y)||0;return{y:i+(a-i)/2}}};function wS({node:t,direct:e,corner:n,corners:i}){var a;const s=(a=i.find(l=>l[(t==null?void 0:t.id)||""]))==null?void 0:a[(t==null?void 0:t.id)||""];switch(e){case Ut.TOP:t.y=n.y,s&&(t.y-=s.y);break;case Ut.LEFT:t.x=n.x,s&&(t.x-=s.x);break;case Ut.RIGHT:t.x=n.x-t.width,s&&(t.x-=s.x-t.width);break;case Ut.BOTTOM:t.y=n.y-t.height,s&&(t.y-=s.y-t.height);break;case Ut.VERTICAL:t.x=n.x-t.width/2;break;case Ut.HORIZON:t.y=n.y-t.height/2;break;default:throw new Error("wrong direct")}return t}function xS(t,e){switch(e){case Ut.TOP:case Ut.BOTTOM:case Ut.HORIZON:t.x=t.relativeX;break;default:t.y=t.relativeY;break}return t}function _S(t,e,n){const i=[...n],a=X.map(t,({id:l})=>{const c=On(i,l||"")||{id:"",x:0,y:0,width:0,height:0},{x:h,y:d,coord:g}=yS(c,e),m={x:h,y:d,[(c==null?void 0:c.id)||""]:g,node:J({},c)};return c!=null&&c.absRotateDeg&&(m.node.rotateDeg=c.absRotateDeg),m}),s=bS[e](a);return X.filter(a,({node:l})=>!X.has(s,(l==null?void 0:l.id)||"")).map(({node:l})=>(l=wS({node:l,direct:e,corner:s,corners:a}),xS(l,e)))}const Ig=()=>{const{t}=Mr(),{state:e,getState:n,updateNodes:i}=le(d=>d),{selectedNodes:a=[],marqueeNodes:s=[]}=e,l=(a==null?void 0:a.length)+(s==null?void 0:s.length)<2,c=d=>{const{nodes:g=[],selectedNodes:m=[],marqueeNodes:p=[]}=n(),b=(m==null?void 0:m.concat(p))||[];if(!X.isEmpty(b)){const E=_S(b,d,g),k=X.reduce(E,(w,O)=>Sh({nodes:w,node:Mt(J({},O),{relativeX:O.x,relativeY:O.y})}),[...g]);i(k)}},h=[{key:"TOP",title:t("translation:topAlign"),icon:"icon-top-aligned"},{key:"BOTTOM",title:t("translation:bottomAlign"),icon:"icon-bottom-aligned"},{key:"LEFT",title:t("translation:leftAlign"),icon:"icon-left-aligned"},{key:"RIGHT",title:t("translation:rightAlign"),icon:"icon-right-aligned"},{key:"VERTICAL",title:t("translation:verticalAlign"),icon:"icon-vertical-aligned"},{key:"HORIZON",title:t("translation:horizonAlign"),icon:"icon-horizontal-aligned"}].map(d=>Mt(J({},d),{disabled:l,title:l?`${d.title}(${t("translation:pleaseSelectAtLeastTwoNodes")})`:d.title,onClick:()=>c(Ut[d.key])}));return q.jsx(Br,{group:h})},OS=function(t){const e=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullScreen;e&&e.call(t);const n={};return n.on=(i,a)=>{i==="esc"&&SS(a)},n};function SS(t){const e=()=>{!document.fullscreenElement&&!document.webkitIsFullScreen&&!document.mozFullScreen&&!document.msFullscreenElement&&(document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e),t())};document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e)}function ES(){const t=document.exitFullscreen||document.webkitExitFullscreen||document.mozExitFullscreen||document.msExitFullscreen;t&&t.call(document)}const Pg=()=>{const{state:t}=le(m=>m),{svgInfo:e}=t,[n,i]=(0,S.useState)(!!document.fullscreenElement),[a,s]=(0,S.useState)(""),{t:l}=Mr(),c=n?"icon-exit-fullscreen":"icon-fullscreen",h=l(n?"translation:exitFullScreen":"translation:fullScreen"),d=()=>{setTimeout(()=>{_s(e||{},600)},700)},g=()=>{var m,p,b,E;if(n)(m=e==null?void 0:e.svgDOM)==null||m.setAttribute("style",a),ES();else{const k=((p=e==null?void 0:e.svgDOM)==null?void 0:p.getAttribute("style"))||"";s(k),(b=e==null?void 0:e.svgDOM)==null||b.setAttribute("style",`${a}width: 100%; height: 100%;`),OS((E=e==null?void 0:e.svgDOM)==null?void 0:E.parentNode).on("esc",()=>{var w;(w=e==null?void 0:e.svgDOM)==null||w.setAttribute("style",k),i(!1),d()})}i(!n),d()};return(0,S.useEffect)(()=>{const m=()=>{i(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",m),()=>{document.removeEventListener("fullscreenchange",m)}},[]),q.jsx(Br,{group:[{key:"1",title:h,icon:c,onClick:g}]})},jg=()=>{const{t}=Mr(),{state:e}=le(a=>a),n=()=>{e.svgInfo&&_s(e.svgInfo,1e3)},i=()=>{e.svgInfo&&_s(e.svgInfo,1e3,1)};return q.jsx(Br,{group:[{key:"1",title:t("translation:center"),icon:"icon-center",onClick:n},{key:"2",title:"1:1",icon:"icon-adaptive",onClick:i}]})},Lg=()=>{const{t}=Mr(),{state:e}=le(s=>s),{svgInfo:n}=e,i={zoomOut:-.35,zoomIn:.35},a=s=>{if(!n)return;const l=i[s],c=oa(n.svg.node()).k*(1+l);n.svg.transition().duration(500).call(n.zoom.scaleTo,c)};return q.jsx(Br,{group:[{key:"zoomIn",title:t("translation:zoomIn"),icon:"icon-zoom-in",onClick:()=>a("zoomIn")},{key:"zoomOut",title:t("translation:zoomOut"),icon:"icon-zoom-out",onClick:()=>a("zoomOut")}]})},Mg=()=>{const{t}=Mr(),{state:e,getState:n,deleteNodeByIds:i,deleteEdgeByIds:a,setSelectedNodes:s,setMarqueeNodes:l,setSelectedEdges:c}=le(k=>k),h=t("translation:delete"),{svgInfo:d,selectedEdges:g=[],selectedNodes:m=[],marqueeNodes:p=[]}=e,b=!(g!=null&&g.length)&&!(m!=null&&m.length)&&!(p!=null&&p.length),E=()=>{const{selectedEdges:k=[],selectedNodes:w=[],marqueeNodes:O=[]}=n();if(!d)return;const I=w.concat(O).map(_=>(_==null?void 0:_.id)||""),A=k.map(_=>(_==null?void 0:_.id)||"");!I.length&&!A.length||(I.length&&(i(I),O.length&&(sc(d),l([])),w.length&&s([])),A.length&&(a(A),c([])))};return q.jsx(Br,{group:[{key:"delete",title:b?`${h}(${t("translation:pleaseSelectAtLeastOneNode")})`:h,icon:"icon-delete",keyCodes:[ol.Delete,ol.Backspace],onClick:E,onKeyDown:E,disabled:b}]})},Un=({children:t})=>{const e=q.jsxs(S.Fragment,{children:[q.jsx(Pg,{}),q.jsx(jg,{}),q.jsx(Rg,{}),q.jsx(Lg,{}),q.jsx(Mg,{}),q.jsx(Ig,{})]});return q.jsx("div",{className:"fiagram-tools",children:t!=null&&t.length?t:e})};Un.Align=Ig,Un.AutoLayout=mS,Un.FullScreen=Pg,Un.Scale=jg,Un.Marquee=Rg,Un.Zoom=Lg,Un.Delete=Mg,Un.displayName="Tools";const DS=t=>{const{isDragging:e,initialOffset:n,currentOffset:i}=Qm(a=>({item:a.getItem(),itemType:a.getItemType(),initialOffset:a.getInitialSourceClientOffset(),currentOffset:a.getSourceClientOffset(),isDragging:a.isDragging()}));return e?q.jsx("div",{style:{position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0},children:q.jsx("div",{style:eS(n,i),children:t.children})}):null},kS=({component:t,label:e,nodeInfo:n})=>{const{state:{uniqId:i}}=le(h=>h),[{isDragging:a},s,l]=Zm({type:`${wh}-${i}`,item:J({label:e},n),collect:h=>({isDragging:h.isDragging()})});(0,S.useEffect)(()=>{l(wy(),{captureDraggingState:!0})},[]);const c=()=>q.jsx("div",{className:ue("fiagram-panel-view-drag-item"),children:q.jsx("span",{className:"fiagram-panel-view-drag-item-icon",children:t==null?void 0:t(J({label:e},n))})});return q.jsxs(q.Fragment,{children:[q.jsx("div",{ref:s,children:q.jsx(c,{},"source")}),q.jsx(DS,{children:q.jsx("div",{style:{opacity:a?1:0},children:q.jsx(c,{},"layer")})})]})},CS=({dragList:t})=>t==null?void 0:t.map(i=>{var a=i,{shape:e}=a,n=$r(a,["shape"]);return q.jsx(kS,J({shape:e},n),e)}),TS=t=>{const{mode:e="flow",title:n,dragList:i=[]}=t,{state:{height:a=0}}=le(l=>l),s=a>0?a-120:"auto";return q.jsxs("div",{className:ue("fiagram-panel-view",`fiagram-${e}`),children:[q.jsx("div",{className:"fiagram-panel-view-header",children:n}),q.jsx("div",{className:"fiagram-panel-view-content",style:{maxHeight:s},children:q.jsx(CS,{dragList:i})})]})},uc=({children:t})=>{const{t:e}=Mr(),n=[{key:"1",title:e("translation:flow-chart"),icon:"icon-topology",overlay:q.jsx(TS,{title:e("translation:flow-chart"),dragList:Ng,mode:"flow"})},{key:"2",title:e("translation:resource"),icon:"icon-server",overlay:q.jsx("div",{children:"123"})},{key:"3",title:e("translation:more"),icon:"icon-more"}],i=q.jsx(S.Fragment,{children:q.jsx(Br,{group:n,trigger:["click"],placement:"rightTop"})});return q.jsx("div",{className:"fiagram-tools vertical left-top",children:t!=null&&t.length?t:i})};uc.displayName="DragPanel";const AS=t=>{let e=null,n=null;const i=[],a=s=>{if(s&&typeof s=="object"){const{type:l}=s;l&&l.displayName?l.displayName==="DragBox"?n=s:l.displayName==="Tools"?e=s:i.push(s):i.push(s)}else i.push(s)};return Array.isArray(t)?t.forEach(s=>{a(s)}):a(t),{toolsChild:e,dragBoxChild:n,restChilds:i}},RS={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class js{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||RS,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,a){return a&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new js(this.logger,J({prefix:`${this.prefix}:${e}:`},this.options))}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new js(this.logger,e)}}var Hn=new js;class Ls{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const a=this.observers[i].get(n)||0;this.observers[i].set(n,a+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(s=>{let[l,c]=s;for(let h=0;h<c;h++)l(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[l,c]=s;for(let h=0;h<c;h++)l.apply(l,[e,...i])})}}function ca(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});return n.resolve=t,n.reject=e,n}function zg(t){return t==null?"":""+t}function NS(t,e,n){t.forEach(i=>{e[i]&&(n[i]=e[i])})}const $S=/###/g;function fa(t,e,n){function i(c){return c&&c.indexOf("###")>-1?c.replace($S,"."):c}function a(){return!t||typeof t=="string"}const s=typeof e!="string"?e:e.split(".");let l=0;for(;l<s.length-1;){if(a())return{};const c=i(s[l]);!t[c]&&n&&(t[c]=new n),Object.prototype.hasOwnProperty.call(t,c)?t=t[c]:t={},++l}return a()?{}:{obj:t,k:i(s[l])}}function Fg(t,e,n){const{obj:i,k:a}=fa(t,e,Object);if(i!==void 0||e.length===1){i[a]=n;return}let s=e[e.length-1],l=e.slice(0,e.length-1),c=fa(t,l,Object);for(;c.obj===void 0&&l.length;)s=`${l[l.length-1]}.${s}`,l=l.slice(0,l.length-1),c=fa(t,l,Object),c&&c.obj&&typeof c.obj[`${c.k}.${s}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${s}`]=n}function IS(t,e,n,i){const{obj:a,k:s}=fa(t,e,Object);a[s]=a[s]||[],a[s].push(n)}function Ms(t,e){const{obj:n,k:i}=fa(t,e);if(n)return n[i]}function PS(t,e,n){const i=Ms(t,n);return i!==void 0?i:Ms(e,n)}function Bg(t,e,n){for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?typeof t[i]=="string"||t[i]instanceof String||typeof e[i]=="string"||e[i]instanceof String?n&&(t[i]=e[i]):Bg(t[i],e[i],n):t[i]=e[i]);return t}function lo(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var jS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function LS(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>jS[e]):t}class MS{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const zS=[" ",",","?","!",";"],FS=new MS(20);function BS(t,e,n){e=e||"",n=n||"";const i=zS.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(i.length===0)return!0;const a=FS.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`);let s=!a.test(t);if(!s){const l=t.indexOf(n);l>0&&!a.test(t.substring(0,l))&&(s=!0)}return s}function lc(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const i=e.split(n);let a=t;for(let s=0;s<i.length;){if(!a||typeof a!="object")return;let l,c="";for(let h=s;h<i.length;++h)if(h!==s&&(c+=n),c+=i[h],l=a[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&h<i.length-1)continue;s+=h-s+1;break}a=l}return a}function zs(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class Xg extends Ls{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,l=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,n],i&&(Array.isArray(i)?c.push(...i):typeof i=="string"&&s?c.push(...i.split(s)):c.push(i)));const h=Ms(this.data,c);return!h&&!n&&!i&&e.indexOf(".")>-1&&(e=c[0],n=c[1],i=c.slice(2).join(".")),h||!l||typeof i!="string"?h:lc(this.data&&this.data[e]&&this.data[e][n],i,s)}addResource(e,n,i,a){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let c=[e,n];i&&(c=c.concat(l?i.split(l):i)),e.indexOf(".")>-1&&(c=e.split("."),a=n,n=c[1]),this.addNamespaces(n),Fg(this.data,c,a),s.silent||this.emit("added",e,n,i,a)}addResources(e,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in i)(typeof i[s]=="string"||Object.prototype.toString.apply(i[s])==="[object Array]")&&this.addResource(e,n,s,i[s],{silent:!0});a.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,a,s){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},c=[e,n];e.indexOf(".")>-1&&(c=e.split("."),a=i,i=n,n=c[1]),this.addNamespaces(n);let h=Ms(this.data,c)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),a?Bg(h,i,s):h=J(J({},h),i),Fg(this.data,c,h),l.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?J({},this.getResource(e,n)):this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var Ug={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,a){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,i,a))}),e}};const Hg={};class Fs extends Ls{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),NS(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Hn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,n);return i&&i.res!==void 0}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const l=i&&e.indexOf(i)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!BS(e,i,a);if(l&&!c){const h=e.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:e,namespaces:s};const d=e.split(i);(i!==a||i===a&&this.options.ns.indexOf(d[0])>-1)&&(s=d.shift()),e=d.join(a)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,n,i){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n=J({},n)),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],n),h=c[c.length-1],d=n.lng||this.language,g=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(g){const A=n.nsSeparator||this.options.nsSeparator;return a?{res:`${h}${A}${l}`,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:h,usedParams:this.getUsedParamsDetails(n)}:`${h}${A}${l}`}return a?{res:l,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:h,usedParams:this.getUsedParamsDetails(n)}:l}const m=this.resolve(e,n);let p=m&&m.res;const b=m&&m.usedKey||l,E=m&&m.exactUsedKey||l,k=Object.prototype.toString.apply(p),w=["[object Number]","[object Function]","[object RegExp]"],O=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,I=!this.i18nFormat||this.i18nFormat.handleAsObject;if(I&&p&&typeof p!="string"&&typeof p!="boolean"&&typeof p!="number"&&w.indexOf(k)<0&&!(typeof O=="string"&&k==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const A=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,p,Mt(J({},n),{ns:c})):`key '${l} (${this.language})' returned an object instead of string.`;return a?(m.res=A,m.usedParams=this.getUsedParamsDetails(n),m):A}if(s){const A=k==="[object Array]",_=A?[]:{},L=A?E:b;for(const P in p)if(Object.prototype.hasOwnProperty.call(p,P)){const M=`${L}${s}${P}`;_[P]=this.translate(M,Mt(J({},n),{joinArrays:!1,ns:c})),_[P]===M&&(_[P]=p[P])}p=_}}else if(I&&typeof O=="string"&&k==="[object Array]")p=p.join(O),p&&(p=this.extendTranslation(p,e,n,i));else{let A=!1,_=!1;const L=n.count!==void 0&&typeof n.count!="string",P=Fs.hasDefaultValue(n),M=L?this.pluralResolver.getSuffix(d,n.count,n):"",nt=n.ordinal&&L?this.pluralResolver.getSuffix(d,n.count,{ordinal:!1}):"",ft=L&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),G=ft&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${M}`]||n[`defaultValue${nt}`]||n.defaultValue;!this.isValidLookup(p)&&P&&(A=!0,p=G),this.isValidLookup(p)||(_=!0,p=l);const tt=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&_?void 0:p,rt=P&&G!==p&&this.options.updateMissing;if(_||A||rt){if(this.logger.log(rt?"updateKey":"missingKey",d,h,l,rt?G:p),s){const N=this.resolve(l,Mt(J({},n),{keySeparator:!1}));N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Y=[];const C=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&C&&C[0])for(let N=0;N<C.length;N++)Y.push(C[N]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(n.lng||this.language):Y.push(n.lng||this.language);const j=(N,F,B)=>{const Q=P&&B!==p?B:tt;this.options.missingKeyHandler?this.options.missingKeyHandler(N,h,F,Q,rt,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(N,h,F,Q,rt,n),this.emit("missingKey",N,h,F,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&L?Y.forEach(N=>{const F=this.pluralResolver.getSuffixes(N,n);ft&&n[`defaultValue${this.options.pluralSeparator}zero`]&&F.indexOf(`${this.options.pluralSeparator}zero`)<0&&F.push(`${this.options.pluralSeparator}zero`),F.forEach(B=>{j([N],l+B,n[`defaultValue${B}`]||G)})}):j(Y,l,G))}p=this.extendTranslation(p,e,n,m,i),_&&p===l&&this.options.appendNamespaceToMissingKey&&(p=`${h}:${l}`),(_||A)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}:${l}`:l,A?p:void 0):p=this.options.parseMissingKeyHandler(p))}return a?(m.res=p,m.usedParams=this.getUsedParamsDetails(n),m):p}extendTranslation(e,n,i,a,s){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,J(J({},this.options.interpolation.defaultVariables),i),i.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init(Mt(J({},i),{interpolation:J(J({},this.options.interpolation),i.interpolation)}));const d=typeof e=="string"&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(d){const p=e.match(this.interpolator.nestingRegexp);g=p&&p.length}let m=i.replace&&typeof i.replace!="string"?i.replace:i;if(this.options.interpolation.defaultVariables&&(m=J(J({},this.options.interpolation.defaultVariables),m)),e=this.interpolator.interpolate(e,m,i.lng||this.language,i),d){const p=e.match(this.interpolator.nestingRegexp),b=p&&p.length;g<b&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(i.lng=a.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var p=arguments.length,b=new Array(p),E=0;E<p;E++)b[E]=arguments[E];return s&&s[0]===b[0]&&!i.context?(l.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):l.translate(...b,n)},i)),i.interpolation&&this.interpolator.reset()}const c=i.postProcess||this.options.postProcess,h=typeof c=="string"?[c]:c;return e!=null&&h&&h.length&&i.applyPostProcessor!==!1&&(e=Ug.handle(h,e,n,this.options&&this.options.postProcessPassResolved?J({i18nResolved:Mt(J({},a),{usedParams:this.getUsedParamsDetails(i)})},i):i,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,a,s,l,c;return typeof e=="string"&&(e=[e]),e.forEach(h=>{if(this.isValidLookup(i))return;const d=this.extractFromKey(h,n),g=d.key;a=g;let m=d.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const p=n.count!==void 0&&typeof n.count!="string",b=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),E=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",k=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);m.forEach(w=>{this.isValidLookup(i)||(c=w,!Hg[`${k[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(c)&&(Hg[`${k[0]}-${w}`]=!0,this.logger.warn(`key "${a}" for languages "${k.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),k.forEach(O=>{if(this.isValidLookup(i))return;l=O;const I=[g];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(I,g,O,w,n);else{let _;p&&(_=this.pluralResolver.getSuffix(O,n.count,n));const L=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(I.push(g+_),n.ordinal&&_.indexOf(P)===0&&I.push(g+_.replace(P,this.options.pluralSeparator)),b&&I.push(g+L)),E){const M=`${g}${this.options.contextSeparator}${n.context}`;I.push(M),p&&(I.push(M+_),n.ordinal&&_.indexOf(P)===0&&I.push(M+_.replace(P,this.options.pluralSeparator)),b&&I.push(M+L))}}let A;for(;A=I.pop();)this.isValidLookup(i)||(s=A,i=this.getResource(O,w,A,n))}))})}),{res:i,usedKey:a,exactUsedKey:s,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,i,a):this.resourceStore.getResource(e,n,i,a)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&typeof e.replace!="string";let a=i?e.replace:e;if(i&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a=J(J({},this.options.interpolation.defaultVariables),a)),!i){a=J({},a);for(const s of n)delete a[s]}return a}static hasDefaultValue(e){const n="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}}function cc(t){return t.charAt(0).toUpperCase()+t.slice(1)}class qg{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Hn.create("languageUtils")}getScriptPartFromCode(e){if(e=zs(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=zs(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(a=>a.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=cc(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=cc(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=cc(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;const a=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;const a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(s=>{if(s===a||!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){const i=this.getFallbackCodes(n||this.options.fallbackLng||[],e),a=[],s=l=>{l&&(this.isSupportedCode(l)?a.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),i.forEach(l=>{a.indexOf(l)<0&&s(this.formatLanguageCode(l))}),a}}let XS=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],US={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const HS=["v1","v2","v3"],qS=["v4"],Wg={zero:0,one:1,two:2,few:3,many:4,other:5};function WS(){const t={};return XS.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:US[e.fc]}})}),t}class VS{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Hn.create("pluralResolver"),(!this.options.compatibilityJSON||qS.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=WS()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(zs(e==="dev"?"en":e),{type:n.ordinal?"ordinal":"cardinal"})}catch(i){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(a=>`${n}${a}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((a,s)=>Wg[a]-Wg[s]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):i.numbers.map(a=>this.getSuffix(e,a,n)):[]}getSuffix(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(e,i);return a?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:this.getSuffixRetroCompatible(a,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const i=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let a=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));const s=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!HS.includes(this.options.compatibilityJSON)}}function Vg(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=PS(t,e,n);return!s&&a&&typeof n=="string"&&(s=lc(t,n,i),s===void 0&&(s=lc(e,n,i))),s}class YS{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Hn.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:LS,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?lo(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?lo(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?lo(n.nestingPrefix):n.nestingPrefixEscaped||lo("$t("),this.nestingSuffix=n.nestingSuffix?lo(n.nestingSuffix):n.nestingSuffixEscaped||lo(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,i)=>n&&n.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,i,a){let s,l,c;const h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function d(b){return b.replace(/\$/g,"$$$$")}const g=b=>{if(b.indexOf(this.formatSeparator)<0){const O=Vg(n,h,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(O,void 0,i,Mt(J(J({},a),n),{interpolationkey:b})):O}const E=b.split(this.formatSeparator),k=E.shift().trim(),w=E.join(this.formatSeparator).trim();return this.format(Vg(n,h,k,this.options.keySeparator,this.options.ignoreJSONStructure),w,i,Mt(J(J({},a),n),{interpolationkey:k}))};this.resetRegExp();const m=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,p=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>d(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?d(this.escape(b)):d(b)}].forEach(b=>{for(c=0;s=b.regex.exec(e);){const E=s[1].trim();if(l=g(E),l===void 0)if(typeof m=="function"){const w=m(e,s,a);l=typeof w=="string"?w:""}else if(a&&Object.prototype.hasOwnProperty.call(a,E))l="";else if(p){l=s[0];continue}else this.logger.warn(`missed to pass in variable ${E} for interpolating ${e}`),l="";else typeof l!="string"&&!this.useRawValueToEscape&&(l=zg(l));const k=b.safeValue(l);if(e=e.replace(s[0],k),p?(b.regex.lastIndex+=l.length,b.regex.lastIndex-=s[0].length):b.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,s,l;function c(h,d){const g=this.nestingOptionsSeparator;if(h.indexOf(g)<0)return h;const m=h.split(new RegExp(`${g}[ ]*{`));let p=`{${m[1]}`;h=m[0],p=this.interpolate(p,l);const b=p.match(/'/g),E=p.match(/"/g);(b&&b.length%2===0&&!E||E.length%2!==0)&&(p=p.replace(/'/g,'"'));try{l=JSON.parse(p),d&&(l=J(J({},d),l))}catch(k){return this.logger.warn(`failed parsing options string in nesting for key ${h}`,k),`${h}${g}${p}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,h}for(;a=this.nestingRegexp.exec(e);){let h=[];l=J({},i),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let d=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const g=a[1].split(this.formatSeparator).map(m=>m.trim());a[1]=g.shift(),h=g,d=!0}if(s=n(c.call(this,a[1].trim(),l),l),s&&a[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=zg(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),s=""),d&&(s=h.reduce((g,m)=>this.format(g,m,i.lng,Mt(J({},i),{interpolationkey:a[1].trim()})),s.trim())),e=e.replace(a[0],s),this.regexp.lastIndex=0}return e}}function GS(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const a=i[1].substring(0,i[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(s=>{if(!s)return;const[l,...c]=s.split(":"),h=c.join(":").trim().replace(/^'+|'+$/g,"");n[l.trim()]||(n[l.trim()]=h),h==="false"&&(n[l.trim()]=!1),h==="true"&&(n[l.trim()]=!0),isNaN(h)||(n[l.trim()]=parseInt(h,10))})}return{formatName:e,formatOptions:n}}function co(t){const e={};return function(n,i,a){const s=i+JSON.stringify(a);let l=e[s];return l||(l=t(zs(i),a),e[s]=l),l(n)}}class KS{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Hn.create("formatter"),this.options=e,this.formats={number:co((n,i)=>{const a=new Intl.NumberFormat(n,J({},i));return s=>a.format(s)}),currency:co((n,i)=>{const a=new Intl.NumberFormat(n,Mt(J({},i),{style:"currency"}));return s=>a.format(s)}),datetime:co((n,i)=>{const a=new Intl.DateTimeFormat(n,J({},i));return s=>a.format(s)}),relativetime:co((n,i)=>{const a=new Intl.RelativeTimeFormat(n,J({},i));return s=>a.format(s,i.range||"day")}),list:co((n,i)=>{const a=new Intl.ListFormat(n,J({},i));return s=>a.format(s)})},this.init(e)}init(e){const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=co(n)}format(e,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((s,l)=>{const{formatName:c,formatOptions:h}=GS(l);if(this.formats[c]){let d=s;try{const g=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},m=g.locale||g.lng||a.locale||a.lng||i;d=this.formats[c](s,m,J(J(J({},h),a),g))}catch(g){this.logger.warn(g)}return d}else this.logger.warn(`there was no format function for ${c}`);return s},e)}}function ZS(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class QS extends Ls{constructor(e,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=a,this.logger=Hn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,a.backend,a)}queueLoad(e,n,i,a){const s={},l={},c={},h={};return e.forEach(d=>{let g=!0;n.forEach(m=>{const p=`${d}|${m}`;!i.reload&&this.store.hasResourceBundle(d,m)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?l[p]===void 0&&(l[p]=!0):(this.state[p]=1,g=!1,l[p]===void 0&&(l[p]=!0),s[p]===void 0&&(s[p]=!0),h[m]===void 0&&(h[m]=!0)))}),g||(c[d]=!0)}),(Object.keys(s).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(h)}}loaded(e,n,i){const a=e.split("|"),s=a[0],l=a[1];n&&this.emit("failedLoading",s,l,n),i&&this.store.addResourceBundle(s,l,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2;const c={};this.queue.forEach(h=>{IS(h.loaded,[s],l),ZS(h,e),n&&h.errors.push(n),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(d=>{c[d]||(c[d]={});const g=h.loaded[d];g.length&&g.forEach(m=>{c[d][m]===void 0&&(c[d][m]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(h=>!h.done)}read(e,n,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,l=arguments.length>5?arguments[5]:void 0;if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:a,wait:s,callback:l});return}this.readingCalls++;const c=(d,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(d&&g&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,a+1,s*2,l)},s);return}l(d,g)},h=this.backend[i].bind(this.backend);if(h.length===2){try{const d=h(e,n);d&&typeof d.then=="function"?d.then(g=>c(null,g)).catch(c):c(null,d)}catch(d){c(d)}return}return h(e,n,c)}prepareLoading(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const s=this.queueLoad(e,n,i,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),a=i[0],s=i[1];this.read(a,s,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${s} for language ${a} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${s} for language ${a}`,c),this.loaded(e,l,c)})}saveMissing(e,n,i,a,s){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const h=Mt(J({},l),{isUpdate:s}),d=this.backend.create.bind(this.backend);if(d.length<6)try{let g;d.length===5?g=d(e,n,i,a,h):g=d(e,n,i,a),g&&typeof g.then=="function"?g.then(m=>c(null,m)).catch(c):c(null,g)}catch(g){c(g)}else d(e,n,i,a,c,h)}!e||!e[0]||this.store.addResource(e[0],n,i,a)}}}function Yg(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){let e={};if(typeof t[1]=="object"&&(e=t[1]),typeof t[1]=="string"&&(e.defaultValue=t[1]),typeof t[2]=="string"&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(i=>{e[i]=n[i]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Gg(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Bs(){}function JS(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(e=>{typeof t[e]=="function"&&(t[e]=t[e].bind(t))})}class ha extends Ls{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Gg(e),this.services={},this.logger=Hn,this.modules={external:[]},JS(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(i=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const a=Yg();this.options=J(J(J({},a),this.options),Gg(n)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=J(J({},a.interpolation),this.options.interpolation)),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function s(h){return h?typeof h=="function"?new h:h:null}if(!this.options.isClone){this.modules.logger?Hn.init(s(this.modules.logger),this.options):Hn.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:typeof Intl<"u"&&(h=KS);const d=new qg(this.options);this.store=new Xg(this.options.resources,this.options);const g=this.services;g.logger=Hn,g.resourceStore=this.store,g.languageUtils=d,g.pluralResolver=new VS(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(g.formatter=s(h),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new YS(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new QS(s(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(m){for(var p=arguments.length,b=new Array(p>1?p-1:0),E=1;E<p;E++)b[E-1]=arguments[E];e.emit(m,...b)}),this.modules.languageDetector&&(g.languageDetector=s(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=s(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Fs(this.services,this.options),this.translator.on("*",function(m){for(var p=arguments.length,b=new Array(p>1?p-1:0),E=1;E<p;E++)b[E-1]=arguments[E];e.emit(m,...b)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Bs),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=function(){return e.store[h](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=function(){return e.store[h](...arguments),e}});const l=ca(),c=()=>{const h=(d,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(g),i(d,g)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bs;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],s=l=>{!l||l==="cimode"||this.services.languageUtils.toResolveHierarchy(l).forEach(c=>{c!=="cimode"&&a.indexOf(c)<0&&a.push(c)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>s(l)),this.options.preload&&this.options.preload.forEach(l=>s(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(e,n,i){const a=ca();return e||(e=this.languages),n||(n=this.options.ns),i||(i=Bs),this.services.backendConnector.reload(e,n,s=>{a.resolve(),i(s)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ug.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,n){var i=this;this.isLanguageChangingTo=e;const a=ca();this.emit("languageChanging",e);const s=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},l=(h,d)=>{d?(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,a.resolve(function(){return i.t(...arguments)}),n&&n(h,function(){return i.t(...arguments)})},c=h=>{!e&&!h&&this.services.languageDetector&&(h=[]);const d=typeof h=="string"?h:this.services.languageUtils.getBestMatchFromCodes(h);d&&(this.language||s(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,g=>{l(g,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),a}getFixedT(e,n,i){var a=this;const s=function(l,c){let h;if(typeof c!="object"){for(var d=arguments.length,g=new Array(d>2?d-2:0),m=2;m<d;m++)g[m-2]=arguments[m];h=a.options.overloadTranslationOptionHandler([l,c].concat(g))}else h=J({},c);h.lng=h.lng||s.lng,h.lngs=h.lngs||s.lngs,h.ns=h.ns||s.ns,h.keyPrefix=h.keyPrefix||i||s.keyPrefix;const p=a.options.keySeparator||".";let b;return h.keyPrefix&&Array.isArray(l)?b=l.map(E=>`${h.keyPrefix}${p}${E}`):b=h.keyPrefix?`${h.keyPrefix}${p}${l}`:l,a.t(b,h)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=i,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(c,h)=>{const d=this.services.backendConnector.state[`${c}|${h}`];return d===-1||d===2};if(n.precheck){const c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,e)&&(!a||l(s,e)))}loadNamespaces(e,n){const i=ca();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{i.resolve(),n&&n(a)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){const i=ca();typeof e=="string"&&(e=[e]);const a=this.options.preload||[],s=e.filter(l=>a.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return s.length?(this.options.preload=a.concat(s),this.loadResources(l=>{i.resolve(),n&&n(l)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new qg(Yg());return n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new ha(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bs;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const a=Mt(J(J({},this.options),e),{isClone:!0}),s=new ha(a);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services=J({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i&&(s.store=new Xg(this.store.data,a),s.services.resourceStore=s.store),s.translator=new Fs(s.services,a),s.translator.on("*",function(l){for(var c=arguments.length,h=new Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];s.emit(l,...h)}),s.init(a,n),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const we=ha.createInstance();we.createInstance=ha.createInstance,we.createInstance,we.dir,we.init,we.loadResources,we.reloadResources,we.use,we.changeLanguage,we.getFixedT,we.t,we.exists,we.setDefaultNamespace,we.hasLoadedNamespace,we.loadNamespaces,we.loadLanguages;const tE={bottomAlign:"\u4E0B\u5BF9\u9F50",center:"\u5C45\u4E2D",cutPic:"\u622A\u56FE",delete:"\u5220\u9664",deleteDataTopic:"\u5220\u9664\u8BE5\u8282\u70B9\u4F1A\u628A\u5B50\u8282\u70B9\u4E00\u5E76\u5220\u9664!",edge:"\u8FDE\u7EBF",exitFullScreen:"\u9000\u51FA\u5168\u5C4F","flow-chart":"\u6D41\u7A0B\u56FE",fullScreen:"\u5168\u5C4F",horizonAlign:"\u6C34\u5E73\u5C45\u4E2D\u5BF9\u9F50",horizonCenter:"\u6C34\u5E73\u5C45\u4E2D",horizonLayout:"\u6A2A\u5411\u5E03\u5C40",leftAlign:"\u5DE6\u5BF9\u9F50",locationEle:"\u5B9A\u4F4D\u5143\u7D20",more:"\u66F4\u591A",marquee:"\u6846\u9009(Alt+\u9F20\u6807\u62D6\u62FD)",node:"\u8282\u70B9",rightAlign:"\u53F3\u5BF9\u9F50",starLayout:"\u661F\u578B\u5E03\u5C40",sureDelete:"\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u8282\u70B9\u6216\u8FDE\u7EBF\u5417?",tileCenter:"\u5E73\u94FA\u5C45\u4E2D",topAlign:"\u4E0A\u5BF9\u9F50",verticalAlign:"\u5782\u76F4\u5C45\u4E2D\u5BF9\u9F50",verticalCenter:"\u5782\u76F4\u5C45\u4E2D",verticalLayout:"\u7EB5\u5411\u5E03\u5C40",withdrawn:"\u64A4\u56DE(ctrl+z)",zoomIn:"\u653E\u5927",zoomOut:"\u7F29\u5C0F",pleaseSelectAtLeastTwoNodes:"\u8BF7\u81F3\u5C11\u9009\u62E9\u4E24\u4E2A\u8282\u70B9",pleaseSelectAtLeastOneNode:"\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u4E2A\u8282\u70B9",resource:"\u8D44\u6E90"},eE={translation:tE},nE={bottomAlign:"Bottom Align",center:"Center",cutPic:"Capture",delete:"Delete",deleteDataTopic:"Deleting this node removes the child nodes along with it!",edge:"Edge",exitFullScreen:"Exit Full Screen","flow-chart":"flow-chart",fullScreen:"Full Screen",horizonAlign:"Horizon center Align",horizonCenter:"Horizon center",horizonLayout:"Horizon Layout",leftAlign:"Left Align",locationEle:"Location Element",more:"more",marquee:"Marquee(Alt+Drag)",node:"Node",rightAlign:"Right Align",starLayout:"Star Layout",sureDelete:"Sure delete node or edges?",tileCenter:"Tile Center",topAlign:"Top Align",verticalAlign:"Vertical Center Align",verticalCenter:"Vertical Center",verticalLayout:"Vertical Layout",withdrawn:"withdrawn(ctrl+z)",zoomIn:"zoom in",zoomOut:"zoom out",pleaseSelectAtLeastTwoNodes:"Please select at least two nodes",pleaseSelectAtLeastOneNode:"Please select at least one nodes",resource:"resource"},rE={translation:nE},iE={zh:eE,en:rE};we.use(m_).init({resources:iE,lng:"zh",fallbackLng:"zh",interpolation:{escapeValue:!1}});const Kg=(0,S.forwardRef)((t,e)=>{const{style:n,className:i,hideTools:a,canvasClassName:s,canvasStyle:l,onLoad:c,hideGrid:h,hideDragBox:d,children:g}=t,{toolsChild:m,dragBoxChild:p,restChilds:b}=AS(g),E=()=>!a&&(m||q.jsx(Un,{})),k=()=>!d&&(p||q.jsx(uc,{}));return q.jsx(Cm,{backend:xy,children:q.jsxs("div",{tabIndex:-1,style:n,className:ue("fiagram",i,{hideTools:a}),children:[q.jsx(E,{}),q.jsx(k,{}),q.jsx(vS,J({ref:e,onLoad:c,hideGrid:h,restChilds:b,canvasStyle:l,className:s},t))]})})});Kg.displayName="Diagram"}}]);
}());